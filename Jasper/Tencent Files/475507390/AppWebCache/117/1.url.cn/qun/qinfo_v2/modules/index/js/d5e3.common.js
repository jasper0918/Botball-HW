(function(){require.config({baseUrl:"modules/index/js/",paths:{modules:"../../../modules",bower_components:"../../../bower_components",jquery:"http://1.url.cn/jslib/jquery/1.9.1/jquery.min",simple:"http://7.url.cn/qun/jslib/jslib/simple/clear/8/simple.min",home:"../../../modules/home/js/home",setting:"../../../modules/setting/js/setting",member:"../../../modules/member/js/member",async:"../../../modules/common/js/async",contextmenu:"../../../modules/common/contextmenu/contextmenu",commonapi:"../../../bower_components/commonapi/0.1/commonapi",
catCtrl:"../../../modules/profile/js/profile/CatCtrl",catnew:"../../../modules/profile/js/data/catnew",mapManage:"../../../modules/profile/js/profile/MapManage",groupActiveLevel:"../../../modules/operations/groupActiveLevel/js/groupActiveLevel",profileIndex:"../../../modules/profile/js/index/index",RichEditor:"../../../modules/profile/js/profile/RichEditor",htmlEncode:"../../../modules/common/js/htmlEncode",CKEDITOR:"../../../bower_components/ckeditor/ckeditor",app_lecture:"../../../modules/app/lecture/js/app",
guideLevel:"../../../modules/index/js/guideLevel",face:"../../../modules/profile/js/external/face",xss:"../../../modules/profile/js/external/xss",emojiface:"../../../modules/profile/js/external/emojiface"},shim:{commonapi:{exports:"CommonApi"},CKEDITOR:{exports:"CKEDITOR"},simple:{exports:"Simple"}}});define("modules/index/js/common",function(){});(function(c,d){typeof define==="function"&&define.amd?define("bower_components/imweb/report_core",[],d):c.report_core=d()})(this,function(){function c(a,
b){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(a,b);for(var n=0,q=a.length;n<q;n++)if(a[n]===b)return n;return-1}var d,h,e=function(){return 0},l,r=[],p=[],i=function(a){(new Image).src=(a||h)+r.join("|_|")+"&r="+Math.random();r=[]},o="aId,v,mId,flag1,flag2,flag3,ver,rev".split(","),b=function(a,b,n){var q={},k,f,g=typeof a;if(g=="number")if(g=typeof b,g=="undefined"||g=="string")q.v=1,n=b,k=e(a)+"-1-"+a;else{if(g=="number")q.v=b,k=e(a)+"-1-"+a}else if(g=="object"){q=a;a=q.mId;
n=b;if(!("v"in q))q.v=1;if(!("aId"in q))q.aId=e(a);var b=[],m;for(m in q)k=c(o,m),k!=-1&&(b[k]=q[m]);k=b.join("-").replace(/-(?=-)/g,"-0");f=q.bId}if(f)r.length>0&&k&&(clearTimeout(l),i()),k&&(clearTimeout(l),r.push(k),url="http://jsreport.qq.com/cgi-bin/report?id="+f+"&rs=",i(url));else{if(n=="once"){if(c(p,a)!=-1)return;p.push(a)}k&&r.push(k);clearTimeout(l);n=="now"||a=="now"?i():l=setTimeout(function(){console.log("bid=============="+f);var a="";f&&(a="http://jsreport.qq.com/cgi-bin/report?id="+
f+"&rs=");i(a)},20)}};b.ReportFactory=function(){var a={aId:1,v:1,mId:1,flag1:1,flag2:1,flag3:1,ver:1,rev:1};return function(j){var j=j||{},n=j.config||{},q=j.getDefaultOptFn;return function(c,f){var g=n[c];if(g){if(typeof f==="object")for(var m in f)g[m]=f[m];if(j.bId)g.bId=j.bId;if(g){m={};typeof q==="function"&&(m=q(g));if(typeof g==="number")m.mId=g;else if(typeof g==="object"){for(var l in g)l in a&&(m[l]=g[l]);if(g.bId)m.bId=g.bId}b(m)}}}}}();b.config=function(a){d=a.bId;h="http://jsreport.qq.com/cgi-bin/report"+
(a.ctype?a.ctype:"")+"?id="+d+"&rs=";a.aId&&(e=a.aId)};return b});(function(c,d){typeof define==="function"&&define.amd?define("modules/common/js/proj_cfg",[],d):c.proj_cfg=d()})(this,function(){return{reportCfg:{bId:167,aId:function(){return"0"}},badjsCfg:{bid:211,mid:345536,log_mid:{debug:355890,info:355891,error:355892,fail:355893},close:0},DBCfg:{ec0_mid:347760,ec4_mid:347761,ecx_mid:347762,reloginFailed_mid:347763,basekeyRetryToMuch_mid:0},businessCfg:{page_404_mid:347764}}});(function(c,d){typeof define===
"function"&&define.amd?define("modules/common/js/reportPatchJquery",["jquery","bower_components/imweb/report_core","./proj_cfg"],d):c.$=d(c.$,c.report_core,c.proj_cfg)})(this,function(c,d,h){d.config(h.reportCfg);var h=function(l,b){c.report(l,typeof b!=="undefined"?b:1)},e=new Image,l={appid:1000211,releaseversion:"@RELEASE_VERSION",frequency:1},r=function(){var l=c.cookie.get("uin");return!l?null:parseInt(l.substring(1,l.length),10)},p=function(c,b,a){var j,n=[];if(!l.touin)l.touin=r();l.commandid=
c;l.resultcode=b;l.tmcost=a;if(b==0){if(l.frequency=20,Math.floor(Math.random()*100+1)>5)return}else l.frequency=1;for(var q in l)l.hasOwnProperty(q)&&n.push(q+"="+encodeURIComponent(l[q]));j="http://wspeed.qq.com/w.cgi?"+n.join("&");j=j+"&t="+(new Date).getTime();setTimeout(function(){e.src=j},500)},i=!c,c=c||{};c.report=d;c.monitor=h;c.mmreport=p;if(i)i=this||window,i.IM_report=d,i.IM_monitor=h,i.IM_mmreport=p;return c});(function(c,d){typeof define==="function"&&define.amd?define("bower_components/imweb/badjs",
[],d):c.Badjs=d()})(this,function(){var c=function(){var c;return function(){if(!c&&(c=((window.Simple||{}).browser||{}).info,!c)){c={type:""};var d=navigator.userAgent.toLowerCase();/webkit/.test(d)?c={type:"webkit",version:/webkit[\/ ]([\w.]+)/}:/opera/.test(d)?c={type:"opera",version:/version/.test(d)?/version[\/ ]([\w.]+)/:/opera[\/ ]([\w.]+)/}:/msie/.test(d)?c={type:"msie",version:/msie ([\w.]+)/}:/mozilla/.test(d)&&!/compatible/.test(d)&&(c={type:"ff",version:/rv:([\w.]+)/});c.version=(c.version&&
c.version.exec(d)||[0,"0"])[1]}return c}}(),d=this||window,h=function(d,e,p,i,o){var b=h._mid||195375,a=h._bid||102;i>0||i===0?b=i:i===-1&&(d="Script Error:"+d);if(!h.binfo)h.binfo=c();o=o||4;if(!h._closed)(new Image).src="http://badjs.qq.com/cgi-bin/js_report?level="+o+"&bid="+a+(b?"&mid="+b:"")+"&msg="+d+"|_|"+encodeURIComponent(e)+"|_|"+p+(h.binfo?"|_|browser:[type:"+h.binfo.type+",ver:"+h.binfo.version+"]":"")+"&r="+Math.random()};h.init=function(c,d,e,i){h._mid=d;h._bid=c;h._smid=e;h._closed=
i};h.check=function(c,e){for(var p in c)d[p]||h("File Load Error:"+p,c[p],0,e,8)};h.report=function(c,d,e,i,h){h||window[i]?c>0&&Badjs("Log Info:File Load Retry Success:"+i+" retry is"+c,e,0,241994,1):c==d&&Badjs("File Load Error:"+i+" retry is"+c,e,0,196584,8)};h.title=function(c,d){var e="";switch(c){case "file":return d?"File Load Error":"File Load Success";case "cgi":switch(d){case 0:e="CGI Load Success";break;case 1:e="CGI NoLogin Error";break;case 4:e="CGI BaseKey Error"}return e+"!Ec:"+(d||
"");case "http":switch(d){case -1:e="Http Empty Error";break;case 200:e="HTTP Load Success";break;case 404:e="HTTP Page Does Not Exist";break;case 500:e="HTTP Server Error";break;default:e="Http Info"}return e+"!Status:"+(d||"")}};var e=[];d.onerror=function(){e.splice.apply(arguments,[3,0,-1,null]);h.apply(this,arguments)};return h});(function(c,d){typeof define==="function"&&define.amd?define("modules/common/js/login",[],d):c.Login=d()})(this,function(){return{notLoginCallback:function(c){var d;
try{d=JSON.parse(top.external.Hummer_IM_GetClientKey()).clientKey,console.info("clientkey="+d)}catch(h){console.info("clientkey_catch_e")}var e=$.cookie.uin();if(d&&e){var l=document.createElement("iframe"),r=function(){c&&typeof c.succ=="function"&&c.succ();l.onload=null;$.e.remove(l,"load",r);document.body.removeChild(l);l=null};l.onload=r;l.src="http://ptlogin2.qq.com/jump?clientuin="+e+"&clientkey="+d+"&u1="+encodeURIComponent("http://buluo.qq.com/loginproxy.html");document.body.appendChild(l)}else console.info("clientkey && clientUin not defined!"),
c&&typeof c.err=="function"&&c.err()}}});(function(c,d){typeof define==="function"&&define.amd?define("bower_components/imweb/console",[c],d):d(c)})(this,function(){typeof this.console!="object"&&(this.console={});if(!this.console.debug)this.console.debug=function(){};if(!this.console.info)this.console.info=function(){};if(!this.console.log)this.console.log=function(){};if(!this.console.warn)this.console.warn=function(){};return this.console});(function(c,d){typeof define==="function"&&define.amd?
define("modules/common/js/log",["bower_components/imweb/badjs","./proj_cfg"],d):c.LOG=d(c.Badjs,c.proj_cfg)})(this,function(c,d){var h=d.badjsCfg;c.init(h.bid,h.mid,0,h.close);return function(d){var l,r,p,i,o={debug:1,info:2,error:4,fail:8};typeof d=="string"?(l=1,p="debug",i=h.log_mid[p],r=d,url=""):typeof d=="object"&&(p=d.type||"debug",l=o[p]||1,i=d.mid||h.log_mid[p],r=[],d.msg&&r.push("[msg]"+d.msg),r=r.join(","),url=d.url||"");c("LOG("+p+")["+r+"]",url,0,i,l)}});(function(c,d){typeof define===
"function"&&define.amd?define("modules/common/js/miniUnderscore",[],d):c._=d()})(this,function(){var c={},d=Array.prototype,h=Object.prototype,e=d.slice,l=h.toString,r=h.hasOwnProperty,p=d.forEach,d=Array.isArray,i=function(a,b,n,c){if(a===b)return a!==0||1/a==1/b;if(a==null||b==null)return a===b;if(a instanceof o)a=a._wrapped;if(b instanceof o)b=b._wrapped;var d=l.call(a);if(d!=l.call(b))return false;switch(d){case "[object String]":return a==String(b);case "[object Number]":return a!=+a?b!=+b:a==
0?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==+b;case "[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if(typeof a!="object"||typeof b!="object")return false;for(var f=n.length;f--;)if(n[f]==a)return c[f]==b;var f=a.constructor,g=b.constructor;if(f!==g&&(!o.isFunction(f)||!(f instanceof f&&o.isFunction(g)&&g instanceof g))&&"constructor"in a&&"constructor"in b)return false;n.push(a);c.push(b);f=0;g=true;
if(d=="[object Array]"){if(f=a.length,g=f==b.length)for(;f--;)if(!(g=i(a[f],b[f],n,c)))break}else{for(var m in a)if(o.has(a,m)&&(f++,!(g=o.has(b,m)&&i(a[m],b[m],n,c))))break;if(g){for(m in b)if(o.has(b,m)&&!f--)break;g=!f}}n.pop();c.pop();return g},o=function(){};o.isEqual=function(a,b){return i(a,b,[],[])};o.isFunction=function(a){return typeof a==="function"};o.has=function(a,b){return r.call(a,b)};o.isArray=d||function(a){return l.call(a)=="[object Array]"};o.isObject=function(a){return a===Object(a)};
var b=o.each=o.forEach=function(a,b,n){if(a!=null)if(p&&a.forEach===p)a.forEach(b,n);else if(a.length===+a.length)for(var d=0,k=a.length;d<k;d++){if(b.call(n,a[d],d,a)===c)break}else for(var f=o.keys(a),d=0,k=f.length;d<k;d++)if(b.call(n,a[f[d]],f[d],a)===c)break};o.extend=function(a){b(e.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]});return a};o.clone=function(a){return!o.isObject(a)?a:o.isArray(a)?a.slice():o.extend({},a)};o.indexOf=function(a,b){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(a,
b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1};return o});(function(c,d){typeof define==="function"&&define.amd?define("modules/common/js/db",["jquery","./log","./login","./proj_cfg","modules/common/js/miniUnderscore"],d):c.DB=d(c.$,c.LOG,c.Login,c.proj_cfg,c._)})(this,function(c,d,h,e,l){c.cookie=c.cookie||{get:function(b){b=document.cookie.match(RegExp("(^| )"+b+"=([^;]*)(;|$)"));return!b?"":decodeURIComponent(b[2])}};var r=e.DBCfg,p={},i={status:{bkn:"",baseKeyHello:true},isLoginError:false,
encryptSkey:function(b){if(!b)return c.report&&c.report(45),"";for(var a=5381,j=0,d=b.length;j<d;++j)a+=(a<<5)+b.charAt(j).charCodeAt();return a&2147483647},cgiHttp:function(b){if(b&&b.url){var a=this;b.param=b.param||{};var j,n=(new Date).getTime(),q=function(f){var g=(new Date).getTime()-n,m=(f||{}).ec,k,e;typeof m=="undefined"&&(m=999);try{IM_mmreport(b.url,m,g)}catch(l){c.mmreport(b.url,m,g)}switch(m){case 0:k=false;(b.succ||function(){})(f);break;case 1:i.isLoginError=true;d({type:"info",msg:"CGI NoLogin Error! Ec :"+
m,url:b.url,mid:r.ec0_mid});a.cgiHttp.basekeytimes>=3?(k=true,d({type:"error",msg:"basekey\u7eed\u671f\u540e, \u4ecd\u7136\u53d1\u73b0\u65e0\u767b\u9646\u6001! ",url:b.url})):b.noNeedLogin?k=true:h?h.notLoginCallback({succ:function(){b.param.bkn=a.status.bkn=a.encryptSkey(c.cookie.get("skey"));j(b.url,b.type,b.param,q)},err:function(){d({type:"error",msg:"\u65e0\u767b\u9646\u6001\u540e\u8d70\u767b\u9646\u6d41\u7a0b\u4ecd\u7136\u5931\u8d25\u4e86! ",url:b.url,mid:r.reloginFailed_mid})}}):d({type:"error",
msg:"\u65e0\u767b\u9646\u6001\u540e\u5c1d\u8bd5\u8d70\u91cd\u65b0\u767b\u9646\u6d41\u7a0b,\u4f46\u672a\u627e\u5230Login\u5bf9\u8c61! ",url:b.url});break;case 4:i.isLoginError=true;d({type:"info",msg:"CGI BaseKey Error! Ec :"+m,url:b.url,mid:r.ec4_mid});a.cgiHttp.basekeytimes>=3?(k=true,d({type:"error",msg:"basekey\u7eed\u671f\u540e, \u4ecd\u7136\u53d1\u73b0basekey\u9519\u8bef! ",url:b.url})):(a.cgiHttp.basekeytimes=(a.cgiHttp.basekeytimes||0)+1,b.param.bkn=a.status.bkn=a.encryptSkey(c.cookie.get("skey")),
j(b.url,b.type,b.param,q));break;case 2:e=k=true;break;case 3:k=true;break;default:e=k=true}k&&(b.err||function(){})(f);e&&d({type:"info",msg:"CGI Other Error! Ec :"+m,url:b.url,mid:r.ecx_mid})},k="GET",k=b.type?b.type:"POST";a.status.bkn=a.encryptSkey(c.cookie.get("skey"));b.param.bkn=a.status.bkn;b.param.src="qinfo_v2";a.cgiHttp.basekeytimes=1;j=a.helpFunction;a.helpFunction(b.url,k,b.param,q)}},helpFunction:function(b,a,j,n){c.ajax({type:a.toUpperCase(),url:b,data:j,dataType:"text",success:function(a){var j=
{};try{j=JSON.parse(a)}catch(f){j={},console.debug(a),d({type:"error",msg:"json.parse\u51fa\u9519\uff01cgi = "+b,url:location.href,mid:373268})}n&&n(j)},error:function(a){var j={};try{j=JSON.parse(a)}catch(f){"string"===typeof a&&(j=eval("("+a+")")),d({type:"error",msg:"json.parse\u51fa\u9519\uff01cgi="+b,url:location.href,mid:373268})}n&&n(j)}})},ajax:function(b){this.cgiHttp({url:b.url,type:b.type,param:b.data||{},succ:b.success||function(){},err:b.error||function(){}})},api_sample:function(b){var a=
{};a.param=b.param||{};a.url="/cgi-bin/cgi_sample";a.succ=function(a){(b.succ||function(){})(a)};a.err=function(a){(b.err||function(){})(a)};this.cgiHttp(a)},genSampleAPI:function(b,a){i[b]=i[b]||function(b){var c={};c.param=b.param||{};c.url="/cgi-bin/"+a;c.succ=function(a){(b.succ||function(){})(a)};c.err=function(a){(b.err||function(){})(a)};i.cgiHttp(c)}},getCgiDownloadUrl:function(b,a){if(b){var j="/cgi-bin/"+b,d;d=a||{};this.status.bkn=this.encryptSkey(c.cookie.get("skey"));d.bkn=this.status.bkn;
d.src="qinfo_v2";d=c.param(d);return j+"?"+d}},isSameParam:function(b,a,j){j=j||[];b=this.delKeys(c.extend({},p[b].lastParam),j);a=this.delKeys(c.extend({},a),j);return l.isEqual(b,a)},delKeys:function(b){for(var a in b)l.indexOf(a)!=-1&&delete b[a];return b},setConfig:function(b,a){var j={},c;for(c in b)j[c]=c in a?a[c]:b[c];return j},getCacheData:function(b){var b=p[b],a=null;if(b&&b.cacheData)a=b.cacheData;return a},setCacheData:function(){},genSampleAPI2:function(b){var a=b.cgiName,j=b.apiName;
p[j]=p[j]||this.setConfig({lastParam:{},queue:[],cacheData:null,lastRequestSentTime:0,requestGotTime:0,queueTime:1E3,cacheTime:3E4},b);i[j]=i[j]||function(c){var d=new Date-0,e={};e.param=c.param||{};e.type=b.type||"GET";e.url="/cgi-bin/"+a;var f=new Date-0,g=p[j],m=i.isSameParam(j,c.param,["useCache"]);if(!m)p[j].lastParam=l.clone(c.param);if(m&&g&&g.cacheData&&e.param.useCache!=false&&f-g.requestGotTime<=g.cacheTime)c.succ&&c.succ(g.cacheData);else{var h=window._pre_fetch_cache[a]||{};if(h.state==
"waiting"&&f-h.lastRequestSentTime<=g.queueTime){g.queue.push(c);if(!h.flag)h.flag=true,g.lastRequestSentTime=h.lastRequestSentTime,window.addEventListener("message",function(b){b=eval("("+b.data+")");switch(b.event){case "PreFetchData":if(b.cgiName==a){b=h.data||{};g.cacheData=h.data;g.requestGotTime=new Date-0;for(var f=0;f<g.queue.length;f++)b.ec==0?g.queue[f].succ&&g.queue[f].succ(b):g.queue[f].err&&g.queue[f].err(b);g.queue=[]}}});return}if(m&&f-g.lastRequestSentTime<=g.queueTime){g.queue.push(c);
return}g.lastRequestSentTime=f;e.succ=function(a){g.cacheData=a;g.requestGotTime=new Date-0;for(var b=0;b<g.queue.length;b++)g.queue[b].succ&&g.queue[b].succ(a);g.queue=[];(c.succ||function(){})(a)};e.err=function(a){for(var b=0;b<g.queue.length;b++)g.queue[b].err&&g.queue[b].err(a);g.queue=[];(c.err||function(){})(a)};i.cgiHttp(e)}d=new Date-0-d;d>1E3&&Badjs("DB genSampleAPI2:"+d,window.location,2,366176,2)};return i[j]},bkn:function(){return this.status.bkn||_this.encryptSkey(c.cookie.get("skey"))},
nicks:function(b){var a={};a.param=b.param||{};a.url="/cgi-bin/qun_info/nicks";a.succ=function(a){(b.succ||function(){})(a)};a.err=function(a){(b.err||function(){})(a)};i.cgiHttp(a)},set_group_visit_list:function(b){var a={};a.param=b.param||{};a.type="POST";a.url="/cgi-bin/qun_info/set_group_visit_list";a.succ=function(a){(b.succ||function(){})(a)};a.err=function(a){(b.err||function(){})(a)};i.cgiHttp(a)},get_group_visit_list:function(b){var a={};a.param=b.param||{};a.type="GET";a.url="/cgi-bin/qun_info/get_group_visit_list";
a.succ=function(a){(b.succ||function(){})(a)};a.err=function(a){(b.err||function(){})(a)};i.cgiHttp(a)},get_group_share:function(b){var a={};a.param=b.param||{};a.type="GET";a.url="/cgi-bin/qun_info/get_group_share";a.succ=function(a){(b.succ||function(){})(a)};a.err=function(a){(b.err||function(){})(a)};i.cgiHttp(a)},get_group_share_download:function(b){var a={};a.param=b.param||{};a.type="GET";a.url="/cgi-bin/qun_info/get_group_share_download";a.succ=function(a){(b.succ||function(){})(a)};a.err=
function(a){a.ec>=201&&a.ec<=204&&d({type:"info",msg:"CGI Other Error! get_group_share_download Ec :"+a.ec,url:"/cgi-bin/qun_info/get_group_share_download",mid:352488});(b.err||function(){})(a)};i.cgiHttp(a)},get_group_last_photo:function(b){var a={};a.param=b.param||{};a.type="GET";a.url="/cgi-bin/qun_info/get_group_last_photo";a.succ=function(a){(b.succ||function(){})(a)};a.err=function(a){(b.err||function(){})(a)};i.cgiHttp(a)},getDBData:function(){},setDBData:function(){},_face_seq_cbk:[],_face_seq:0,
_face_cbk:function(b){var a=i._face_seq_cbk[b.seq];if(b&&b.ec===0){if(b.grp){var c=b.grp,d;for(d in c){var e=c[d];if(typeof e!="string"&&typeof e=="object"&&e.u)e=e.u,b.grp[d]=e}}a&&a.succ(b)}else a&&a.err(b)},_face_cbk_reged:false,_addFaceCbk:function(b){var a=this._face_seq;this._face_seq_cbk[this._face_seq]=b;this._face_seq++;return a},getFaces:function(b){if(b&&b.param&&!(!b.param.qq&&!b.param.grp||!b.err&&!b.succ)){var a=this,d="http://face.imweb.qq.com/cgi-bin/face?",e=[];e.push("app=group_info");
e.push("redir=0");if(!a._face_cbk_reged){var q=window.callback;window.callback=function(b){q&&q(b);a._face_cbk(b)};a._face_cbk_reged=true}var k=a._addFaceCbk({err:b.err,succ:b.succ});e.push("seq="+k);if(b.param&&b.param.qq){var f=b.param.qq,k=f.size||"40",f=f.ls.join("_");e.push("qq="+k+"|"+f)}if(b.param&&b.param.grp)k=b.param.grp,b=k.size||"40",k=k.ls.join("_"),e.push("grp="+b+"|"+k);d+=e.join("&");c.http=c.http||{};c.http.jsonp=function(a){var b=document.createElement("script");b.src=a;document.getElementsByTagName("head")[0].appendChild(b)};
c.http.jsonp(d)}},_imgCache:{},getImages:function(b){for(var a=b.param&&b.param.grp&&b.param.grp.ls||[],d=b.param&&b.param.qq&&b.param.qq.ls||[],e=function(a){var b="",f;for(f in a)b=f;return b},q=function(a,b){a.forEach(function(a){var f=e(a),a=a[f];a.onload=a.onerror=function(){this.style.visibility="visible";this.onload=this.onerror=null};a.src==b[f]?(a.style.visibility="visible",a.onload=this.onerror=null):a.src=b[f]})},k=[],f=0;f<a.length;f++)k.push({type:"grp",value:a[f]});for(f=0;f<d.length;f++)k.push({type:"qq",
value:d[f]});if(k.length)if(k.length>20){d=Math.ceil(k.length/20);for(f=0;f<d;f++){for(var g=k.splice(0,20),m={param:{},succ:b.succ,err:b.err},h=0;h<g.length;h++){a=g[h];if(a.type=="grp")!m.param.grp&&(m.param.grp={ls:[]}),m.param.grp.ls.push(a.value);if(a.type=="qq")!m.param.qq&&(m.param.qq={ls:[]}),m.param.qq.ls.push(a.value)}this.getImages(m)}}else{var l=[];if(typeof k[0].value=="object"){b=c.extend({},b);b.param.grp&&delete b.param.grp;b.param.qq&&delete b.param.qq;d=[];f=0;for(g=k.length;f<g;f++)if(m=
k[f],a=m.value,h=e(a),a[h].style.visibility="hidden",this._imgCache[h])d.push(a);else{if(m.type=="grp")!b.param.grp&&(b.param.grp={ls:[]}),b.param.grp.ls.push(h);if(m.type=="qq")!b.param.qq&&(b.param.qq={ls:[]}),b.qq.ls.push(h);l.push(a)}d.length&&q(d,this._imgCache);b.succ=function(a){q(l,c.oop.extend({},a.grp,a.qq))};b.err=function(){c.array.forEach(l,function(a){var b=e(a);a[b].style.visibility="visible"})}}i.getFaces(b)}},getSetting:function(b){var a={};a.param=b.param||{};a.type="GET";a.url=
"/cgi-bin/qun_info/get_group_setting";a.succ=function(a){(b.succ||function(){})(a)};a.err=function(a){(b.succ||function(){})(a)};i.cgiHttp(a)},setOpen:function(b){var a={};a.param=b.param||{};a.type="POST";a.url="/cgi-bin/qun_info/set_open";a.succ=function(a){(b.succ||function(){})(a)};a.err=function(a){b.err?b.err(a):(b.succ||function(){})(a)};i.cgiHttp(a)},sendSms:function(b){var a={};a.param=b.param||{};a.type="POST";a.url="/cgi-bin/qun_info/send_sms";a.succ=function(a){(b.succ||function(){})(a)};
a.err=function(a){(b.succ||function(){})(a)};i.cgiHttp(a)},setSearchGcOnly:function(b){var a={};a.param=b.param||{};a.type="POST";a.url="/cgi-bin/qun_info/set_search_gc_only";a.succ=function(a){(b.succ||function(){})(a)};a.err=function(a){(b.succ||function(){})(a)};i.cgiHttp(a)},setSetting:function(b){var a={};a.param=b.param||{};a.type="POST";a.url="/cgi-bin/qun_info/set_group_setting";a.succ=function(a){(b.succ||function(){})(a)};a.err=function(a){(b.succ||function(){})(a)};i.cgiHttp(a)},checkSensitive:function(b){var a=
{};a.param=b.param||{};a.type="POST";a.url="/cgi-bin/qun_info/check_sensitive_word";a.succ=function(a){(b.succ||function(){})(a)};a.err=function(a){(b.succ||function(){})(a)};i.cgiHttp(a)},getCard:function(b){var a={};a.param=b.param||{};a.type="POST";a.url="/cgi-bin/qun_info/get_group_card";a.succ=function(a){(b.succ||function(){})(a)};a.err=function(a){(b.succ||function(){})(a)};i.cgiHttp(a)},setCard:function(b){var a={},c=this;a.param=b.param||{};a.type="POST";a.url="/cgi-bin/qun_info/set_group_card";
a.succ=function(d){(b.succ||function(){})(d);var d=c.getCacheData("get_group_members_all")||c.getCacheData("get_group_members"),e=a.param.u;if(d){if(!d.cards)d.cards={};d.cards[e]=Str.encodeHtml(a.param.name)}};a.err=function(a){(b.err||function(){})(a)};i.cgiHttp(a)},setAdmin:function(b){var a={},c=this;a.param=b.param||{};a.type="POST";a.url="/cgi-bin/qun_info/set_group_admin";a.succ=function(d){(b.succ||function(){})(d);var d=c.getCacheData("get_group_members_all")||c.getCacheData("get_group_members"),
d=d.adm=d.adm||[],e=a.param.op,k=Number(a.param.u),f=l.indexOf(d,k);e==1?f==-1&&d.push(k):f!=-1&&d.splice(f,1)};a.err=function(a){(b.succ||function(){})(a)};i.cgiHttp(a)},getMembers:function(b){var a={};a.param=b.param||{};a.type="POST";a.url="/cgi-bin/qun_info/get_group_members";a.succ=function(a){(b.succ||function(){})(a)};a.err=function(a){(b.succ||function(){})(a)};i.cgiHttp(a)},getGroupMemNum:function(){var b=this.getCacheData(window.global_get_group_info);return b==null?null:b.gMemNum},delMemberFromCache:function(b){for(var a=
(this.getCacheData("get_group_members_all")||this.getCacheData("get_group_members")).mems||[],b=this.getMap(b),c=0,d=a.length;c<d;c++)b[a[c].u]&&(a.splice(c,1),c--,d--)},getMap:function(b){for(var a={},c=0,d=b.length;c<d;c++)a[b[c]]=true;return a},deleteMember:function(b){var a={};a.param=b.param||{};a.type="POST";a.url="/cgi-bin/qun_info/delete_group_member";a.succ=function(a){(b.succ||function(){})(a)};a.err=function(a){(b.succ||function(){})(a)};i.cgiHttp(a)}},e=window.global_get_group_info,o=
window._pre_fetch_cache[e].data;if(o)p[e]={queue:[],cacheData:o,lastRequestSentTime:new Date-0,requestGotTime:new Date-0,queueTime:1E3,cacheTime:3E4},window._pre_fetch_cache[e].data=null;return i});(function(){function c(a){if(typeof a!=="string")return false;try{a=(JSON&&JSON.parse||function(a){return eval("("+a+")")})(a.replace(/[\u0000-\u001f]/g," "))}catch(b){return false}return a}function d(){return o=!e("Contact.IsOnline").online}function h(a){o=!a;for(var c=0,d=b.length;c<d;c++)b[c](a)}function e(a,
b){var e;if(e=!a.match(i)){if(d())typeof(k=p.OFFLINE_TIPS)=="function"&&k();e=o}if(e)return false;if(e=window.external&&window.external.CallHummerApi){try{data=e.apply(this,arguments),data=c(data)}catch(h){return false}return data}return false}function l(a,b){if(typeof a!="object")return a;var b=b||{},c;for(c in b)a[c]=b[c]}var r=this||window,p=r.CommonApi||(r.CommonApi={});p.version="0.1";var i=/(Contact\.IsOnline)|(Window\.)/,o,b=[],a=[],j=[],n,q,k;r.OnClientCall=function(b){b=c(b);if(b.type=="event")switch(b.cmd){case "OnQQOnlineEvt":h(true);
break;case "OnQQOfflineEvt":h(false);break;case "OnReceiveS2CMsg":for(var b=b.param,d=0,e=j.length;d<e;d++)j[d](b);break;case "CanCloseWindow":a:{b=true;d=0;for(e=a.length;d<e;d++)if(b=a[d](),!b)break a}}else if(b.type=="callback")switch(b.cmd){case "OnOpenWebPicEvt":n&&n(b.param);break;case "onClipScreenEvt":q&&q(b.param)}};l(p,{dataReport:function(a){return e("Default.DataReport",'{ "bigt" : "'+a+'" }')},getPerfTimeStamp:function(){return e("Default.GetPerfTimeStamp")},groupPopNewWebPage:function(a,
b,c,d,k){return e("Group.PopNewWebPage",'{"width" : '+a+', "height" : '+b+', "title" : "'+d+'", "url" : "'+c+'", "singletonId":"'+k+'" }')},show:function(){return e("Window.Show")},hide:function(){return e("Window.Hide")},close:function(){return e("Window.Close")},maximize:function(){return e("Window.Maximize")},minimize:function(){return e("Window.Minimize")},restore:function(){return e("Window.Restore")},resize:function(a,b){return e("Window.Resize",'{ "width" : '+a+', "height" : '+b+" }")},move:function(a,
b){return e("Window.Move",'{ "offsetX" : '+a+', "offsetY" : '+b+" }")},setTitle:function(a){return e("Window.SetTitle",'{ "title" : "'+a+'" }')},reloadPage:function(){return e("Window.ReloadPage")},popNewWebPage:function(a,b,c,d){return e("Window.PopNewWebPage",'{ "width" : '+a+', "height" : '+b+', "title" : "'+d+'", "url" : "'+c+'" }')},alert:function(a,b,c){return e("Window.Alert",'{ "iconType" : '+a+', "title" : "'+b+'", "text" : "'+c+'" }')},confirm:function(a,b,c){return e("Window.Confirm",'{ "iconType" : '+
a+', "title" : "'+b+'", "text" : "'+c+'" }')},getSelfUin:function(){return e("Contact.GetSelfUin").uin},getNickname:function(a){return e("Contact.GetNickName",'{ "uin" : "'+a+'" }')},isOnline:function(){return!d()},isOffline:d,setRemark:function(a,b){return e("Contact.SetRemark",'{ "uin" : "'+a+'", "remark" : "'+b+'" }')},openContactInfoCard:function(a,b){return e("Contact.OpenContactInfoCard",'{ "uin" : "'+a+'", "tabId" : '+b+" }")},addFriend:function(a,b){return e("Contact.AddFriend",'{ "uin" : "'+
a+'", "name" : "'+b+'" }')},openChatSession:function(a){return e("Contact.OpenChatSession",'{ "uin" : "'+a+'" }')},getVersion:function(){return e("IM.GetVersion")},getClientKey:function(){return e("IM.GetClientKey")},getSKey:function(){for(var a=e("IM.GetSKey"),b=a&&a.sKey,c=[],d=0,k=b.length;d<k;d+=2)c.push(String.fromCharCode("0x"+b.slice(d,d+2)));a.skey=c.join("");return a},openGroupInfoCard:function(a,b){return e("Group.OpenGroupInfoCard",'{ "groupId" : "'+a+'", "tabId" : '+b+" }")},joinGroup:function(a){return e("Group.JoinGroup",
'{ "groupId" : "'+a+'" }')},downloadFile:function(a,b,c){return e("Misc.DownloadFile",'{ "url" : "'+a+'", "fileName" : "'+b+'", "fileSize" : "'+c+'" }')},openWebPic:function(a,b){n=b;return e("Misc.OpenWebPic",'{ "url" : "'+a+'", "function" : "OnOpenWebPicEvt" }')},clipScreen:function(a,b,c,d,k){q=k;return e("Misc.ClipScreen",'{ "url" : "'+c+'", "cookies" : "'+a+'", "parameters" : "'+b+'", "method" : "'+d+'", "uploaded" : "onClipScreenEvt" }')},onQQStateChange:function(a){typeof a==="function"&&b.push(a)},
onCanCloseWindow:function(b){typeof b==="function"&&a.push(b)},onReceiveS2CMsg:function(a){typeof a==="function"&&j.push(a)},offReceiveS2CMsg:function(a){a=j.indexOf(a);a!=-1&&j.splice(a,1)},extend:function(a,b){var c=Object.prototype.toString.call(a);c==="[object String]"?this[a]=b:c==="[object Object]"&&l(this,a)},debug:function(a){var b=document.createElement("p");b.innerHTML=a;document.body.insertBefore(b,document.body.childNodes[0])}})})();define("commonapi",function(c){return function(){return c.CommonApi}}(this));
(function(c,d){typeof define==="function"&&define.amd?define("htmlEncode",[],d):c.htmlEncode=d()})(this,function(){function c(a,b,c){return!b&&!c?r[a]||a:String.fromCharCode(b||c)}function d(b){return a[b]}function h(a){for(var b=0;b<n.length;b++)a=a.replace(RegExp("<(/?\\s*"+n[b]+")[^>]*>","ig"),function(a,b){return b.match(/^\//)?"\n":""});return a.replace(/<\/?[^>]*>/gi,"").replace(RegExp("&nbsp;","gi")," ").replace(/\u200B/g,"").replace(/(\r\n|\n|\r)$/g,"")}var e=/&quot;|&lt;|&gt;|&amp;|&nbsp;|&apos;|&#(\d+);|&#(\d+)/g,
l=/['<> "&]/g,r={"&quot;":'"',"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" "},p=/\u00a0/g,i=/<br\s*\/?>/ig,o=/\r?\n/g,b=/\s/g,a={},j;for(j in r)a[r[j]]=j;r["&apos;"]="'";a["'"]="&#39;";var n="li,del,ins,fieldset,legend,tr,th,caption,thead,tbody,tfoot,p,h[1-6],dl,dt,dd,ol,ul,dir,address,blockquote,center,hr,pre,form,textarea,table".split(",");return{encode:function(a){return a?(""+a).replace(l,d).replace(o,"<br/>").replace(b,"&nbsp;"):""},decode:function(a){return a?(""+a).replace(i,"\n").replace(e,
c).replace(p," "):""},encodeBase16:function(a){if(!a)return a;a+="";for(var b=[],c=0,d=a.length;c<d;c++)b.push(a.charCodeAt(c).toString(16).toUpperCase());return b.join("")},decodeBase16:function(){if(!str)return str;str+="";for(var a=[],b=0,c=str.length;b<c;b+=2)a.push(String.fromCharCode("0x"+str.slice(b,b+2)));return a.join("")},normalText:function(a){return h(a)},decodeForMobile:function(a){return(""+a).replace(/<br>/,"&lt;br&gt;").replace(RegExp("\u0014&amp;nbsp;"),"&nbsp;")}}})})();
