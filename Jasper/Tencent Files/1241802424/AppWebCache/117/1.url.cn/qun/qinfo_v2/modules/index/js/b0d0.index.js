/*
 RequireJS text 2.0.10 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/requirejs/text for details
*/
(function(){(function(a,d){typeof define==="function"&&define.amd?define("bower_components/imweb/report_core",[],d):a.report_core=d()})(this,function(){function a(a,c){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(a,c);for(var t=0,q=a.length;t<q;t++)if(a[t]===c)return t;return-1}var d,g,f=function(){return 0},j,n=[],p=[],e=function(a){(new Image).src=(a||g)+n.join("|_|")+"&r="+Math.random();n=[]},l="aId,v,mId,flag1,flag2,flag3,ver,rev".split(","),c=function(b,c,t){var q={},d,h,i=
typeof b;if(i=="number")if(i=typeof c,i=="undefined"||i=="string")q.v=1,t=c,d=f(b)+"-1-"+b;else{if(i=="number")q.v=c,d=f(b)+"-1-"+b}else if(i=="object"){q=b;b=q.mId;t=c;if(!("v"in q))q.v=1;if(!("aId"in q))q.aId=f(b);var c=[],o;for(o in q)d=a(l,o),d!=-1&&(c[d]=q[o]);d=c.join("-").replace(/-(?=-)/g,"-0");h=q.bId}if(h)n.length>0&&d&&(clearTimeout(j),e()),d&&(clearTimeout(j),n.push(d),url="http://jsreport.qq.com/cgi-bin/report?id="+h+"&rs=",e(url));else{if(t=="once"){if(a(p,b)!=-1)return;p.push(b)}d&&
n.push(d);clearTimeout(j);t=="now"||b=="now"?e():j=setTimeout(function(){console.log("bid=============="+h);var a="";h&&(a="http://jsreport.qq.com/cgi-bin/report?id="+h+"&rs=");e(a)},20)}};c.ReportFactory=function(){var a={aId:1,v:1,mId:1,flag1:1,flag2:1,flag3:1,ver:1,rev:1};return function(m){var m=m||{},t=m.config||{},d=m.getDefaultOptFn;return function(e,h){var i=t[e];if(i){if(typeof h==="object")for(var o in h)i[o]=h[o];if(m.bId)i.bId=m.bId;if(i){o={};typeof d==="function"&&(o=d(i));if(typeof i===
"number")o.mId=i;else if(typeof i==="object"){for(var j in i)j in a&&(o[j]=i[j]);if(i.bId)o.bId=i.bId}c(o)}}}}}();c.config=function(a){d=a.bId;g="http://jsreport.qq.com/cgi-bin/report"+(a.ctype?a.ctype:"")+"?id="+d+"&rs=";a.aId&&(f=a.aId)};return c});(function(a,d){typeof define==="function"&&define.amd?define("modules/common/js/proj_cfg",[],d):a.proj_cfg=d()})(this,function(){return{reportCfg:{bId:167,aId:function(){return"0"}},badjsCfg:{bid:211,mid:345536,log_mid:{debug:355890,info:355891,error:355892,
fail:355893},close:0},DBCfg:{ec0_mid:347760,ec4_mid:347761,ecx_mid:347762,reloginFailed_mid:347763,basekeyRetryToMuch_mid:0},businessCfg:{page_404_mid:347764}}});(function(a,d){typeof define==="function"&&define.amd?define("modules/common/js/reportPatchJquery",["jquery","bower_components/imweb/report_core","./proj_cfg"],d):a.$=d(a.$,a.report_core,a.proj_cfg)})(this,function(a,d,g){d.config(g.reportCfg);var g=function(d,c){a.report(d,typeof c!=="undefined"?c:1)},f=new Image,j={appid:1000211,releaseversion:"@RELEASE_VERSION",
frequency:1},n=function(){var d=a.cookie.get("uin");return!d?null:parseInt(d.substring(1,d.length),10)},p=function(a,c,b){var m,d=[];if(!j.touin)j.touin=n();j.commandid=a;j.resultcode=c;j.tmcost=b;if(c==0){if(j.frequency=20,Math.floor(Math.random()*100+1)>5)return}else j.frequency=1;for(var q in j)j.hasOwnProperty(q)&&d.push(q+"="+encodeURIComponent(j[q]));m="http://wspeed.qq.com/w.cgi?"+d.join("&");m=m+"&t="+(new Date).getTime();setTimeout(function(){f.src=m},500)},e=!a,a=a||{};a.report=d;a.monitor=
g;a.mmreport=p;if(e)e=this||window,e.IM_report=d,e.IM_monitor=g,e.IM_mmreport=p;return a});(function(a,d){typeof define==="function"&&define.amd?define("bower_components/imweb/console",[a],d):d(a)})(this,function(){typeof this.console!="object"&&(this.console={});if(!this.console.debug)this.console.debug=function(){};if(!this.console.info)this.console.info=function(){};if(!this.console.log)this.console.log=function(){};if(!this.console.warn)this.console.warn=function(){};return this.console});(function(a,
d){typeof define==="function"&&define.amd?define("bower_components/imweb/badjs",[],d):a.Badjs=d()})(this,function(){var a=function(){var a;return function(){if(!a&&(a=((window.Simple||{}).browser||{}).info,!a)){a={type:""};var d=navigator.userAgent.toLowerCase();/webkit/.test(d)?a={type:"webkit",version:/webkit[\/ ]([\w.]+)/}:/opera/.test(d)?a={type:"opera",version:/version/.test(d)?/version[\/ ]([\w.]+)/:/opera[\/ ]([\w.]+)/}:/msie/.test(d)?a={type:"msie",version:/msie ([\w.]+)/}:/mozilla/.test(d)&&
!/compatible/.test(d)&&(a={type:"ff",version:/rv:([\w.]+)/});a.version=(a.version&&a.version.exec(d)||[0,"0"])[1]}return a}}(),d=this||window,g=function(d,f,p,e,l){var c=g._mid||195375,b=g._bid||102;e>0||e===0?c=e:e===-1&&(d="Script Error:"+d);if(!g.binfo)g.binfo=a();l=l||4;if(!g._closed)(new Image).src="http://badjs.qq.com/cgi-bin/js_report?level="+l+"&bid="+b+(c?"&mid="+c:"")+"&msg="+d+"|_|"+encodeURIComponent(f)+"|_|"+p+(g.binfo?"|_|browser:[type:"+g.binfo.type+",ver:"+g.binfo.version+"]":"")+
"&r="+Math.random()};g.init=function(a,d,f,e){g._mid=d;g._bid=a;g._smid=f;g._closed=e};g.check=function(a,f){for(var p in a)d[p]||g("File Load Error:"+p,a[p],0,f,8)};g.report=function(a,d,f,e,l){l||window[e]?a>0&&Badjs("Log Info:File Load Retry Success:"+e+" retry is"+a,f,0,241994,1):a==d&&Badjs("File Load Error:"+e+" retry is"+a,f,0,196584,8)};g.title=function(a,d){var f="";switch(a){case "file":return d?"File Load Error":"File Load Success";case "cgi":switch(d){case 0:f="CGI Load Success";break;
case 1:f="CGI NoLogin Error";break;case 4:f="CGI BaseKey Error"}return f+"!Ec:"+(d||"");case "http":switch(d){case -1:f="Http Empty Error";break;case 200:f="HTTP Load Success";break;case 404:f="HTTP Page Does Not Exist";break;case 500:f="HTTP Server Error";break;default:f="Http Info"}return f+"!Status:"+(d||"")}};var f=[];d.onerror=function(){f.splice.apply(arguments,[3,0,-1,null]);g.apply(this,arguments)};return g});(function(a,d){typeof define==="function"&&define.amd?define("modules/common/js/log",
["bower_components/imweb/badjs","./proj_cfg"],d):a.LOG=d(a.Badjs,a.proj_cfg)})(this,function(a,d){var g=d.badjsCfg;a.init(g.bid,g.mid,0,g.close);return function(d){var j,n,p,e,l={debug:1,info:2,error:4,fail:8};typeof d=="string"?(j=1,p="debug",e=g.log_mid[p],n=d,url=""):typeof d=="object"&&(p=d.type||"debug",j=l[p]||1,e=d.mid||g.log_mid[p],n=[],d.msg&&n.push("[msg]"+d.msg),n=n.join(","),url=d.url||"");a("LOG("+p+")["+n+"]",url,0,e,j)}});(function(a,d){typeof define==="function"&&define.amd?define("modules/common/js/login",
[],d):a.Login=d()})(this,function(){return{notLoginCallback:function(a){var d;try{d=JSON.parse(top.external.Hummer_IM_GetClientKey()).clientKey,console.info("clientkey="+d)}catch(g){console.info("clientkey_catch_e")}var f=$.cookie.uin();if(d&&f){var j=document.createElement("iframe"),n=function(){a&&typeof a.succ=="function"&&a.succ();j.onload=null;$.e.remove(j,"load",n);document.body.removeChild(j);j=null};j.onload=n;j.src="http://ptlogin2.qq.com/jump?clientuin="+f+"&clientkey="+d+"&u1="+encodeURIComponent("http://buluo.qq.com/loginproxy.html");
document.body.appendChild(j)}else console.info("clientkey && clientUin not defined!"),a&&typeof a.err=="function"&&a.err()}}});(function(a,d){typeof define==="function"&&define.amd?define("modules/common/js/miniUnderscore",[],d):a._=d()})(this,function(){var a={},d=Array.prototype,g=Object.prototype,f=d.slice,j=g.toString,n=g.hasOwnProperty,p=d.forEach,d=Array.isArray,e=function(a,c,d,q){if(a===c)return a!==0||1/a==1/c;if(a==null||c==null)return a===c;if(a instanceof l)a=a._wrapped;if(c instanceof
l)c=c._wrapped;var f=j.call(a);if(f!=j.call(c))return false;switch(f){case "[object String]":return a==String(c);case "[object Number]":return a!=+a?c!=+c:a==0?1/a==1/c:a==+c;case "[object Date]":case "[object Boolean]":return+a==+c;case "[object RegExp]":return a.source==c.source&&a.global==c.global&&a.multiline==c.multiline&&a.ignoreCase==c.ignoreCase}if(typeof a!="object"||typeof c!="object")return false;for(var h=d.length;h--;)if(d[h]==a)return q[h]==c;var h=a.constructor,i=c.constructor;if(h!==
i&&(!l.isFunction(h)||!(h instanceof h&&l.isFunction(i)&&i instanceof i))&&"constructor"in a&&"constructor"in c)return false;d.push(a);q.push(c);h=0;i=true;if(f=="[object Array]"){if(h=a.length,i=h==c.length)for(;h--;)if(!(i=e(a[h],c[h],d,q)))break}else{for(var o in a)if(l.has(a,o)&&(h++,!(i=l.has(c,o)&&e(a[o],c[o],d,q))))break;if(i){for(o in c)if(l.has(c,o)&&!h--)break;i=!h}}d.pop();q.pop();return i},l=function(){};l.isEqual=function(a,c){return e(a,c,[],[])};l.isFunction=function(a){return typeof a===
"function"};l.has=function(a,c){return n.call(a,c)};l.isArray=d||function(a){return j.call(a)=="[object Array]"};l.isObject=function(a){return a===Object(a)};var c=l.each=l.forEach=function(c,m,d){if(c!=null)if(p&&c.forEach===p)c.forEach(m,d);else if(c.length===+c.length)for(var q=0,e=c.length;q<e;q++){if(m.call(d,c[q],q,c)===a)break}else for(var h=l.keys(c),q=0,e=h.length;q<e;q++)if(m.call(d,c[h[q]],h[q],c)===a)break};l.extend=function(a){c(f.call(arguments,1),function(c){if(c)for(var d in c)a[d]=
c[d]});return a};l.clone=function(a){return!l.isObject(a)?a:l.isArray(a)?a.slice():l.extend({},a)};l.indexOf=function(a,c){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(a,c);for(var d=0,e=a.length;d<e;d++)if(a[d]===c)return d;return-1};return l});(function(a,d){typeof define==="function"&&define.amd?define("modules/common/js/db",["jquery","./log","./login","./proj_cfg","modules/common/js/miniUnderscore"],d):a.DB=d(a.$,a.LOG,a.Login,a.proj_cfg,a._)})(this,function(a,d,g,f,j){a.cookie=
a.cookie||{get:function(a){a=document.cookie.match(RegExp("(^| )"+a+"=([^;]*)(;|$)"));return!a?"":decodeURIComponent(a[2])}};var n=f.DBCfg,p={},e={status:{bkn:"",baseKeyHello:true},isLoginError:false,encryptSkey:function(c){if(!c)return a.report&&a.report(45),"";for(var b=5381,m=0,d=c.length;m<d;++m)b+=(b<<5)+c.charAt(m).charCodeAt();return b&2147483647},cgiHttp:function(c){if(c&&c.url){var b=this;c.param=c.param||{};var m,f=(new Date).getTime(),q=function(h){var i=(new Date).getTime()-f,o=(h||{}).ec,
l,v;typeof o=="undefined"&&(o=999);try{IM_mmreport(c.url,o,i)}catch(r){a.mmreport(c.url,o,i)}switch(o){case 0:l=false;(c.succ||function(){})(h);break;case 1:e.isLoginError=true;d({type:"info",msg:"CGI NoLogin Error! Ec :"+o,url:c.url,mid:n.ec0_mid});b.cgiHttp.basekeytimes>=3?(l=true,d({type:"error",msg:"basekey\u7eed\u671f\u540e, \u4ecd\u7136\u53d1\u73b0\u65e0\u767b\u9646\u6001! ",url:c.url})):c.noNeedLogin?l=true:g?g.notLoginCallback({succ:function(){c.param.bkn=b.status.bkn=b.encryptSkey(a.cookie.get("skey"));
m(c.url,c.type,c.param,q)},err:function(){d({type:"error",msg:"\u65e0\u767b\u9646\u6001\u540e\u8d70\u767b\u9646\u6d41\u7a0b\u4ecd\u7136\u5931\u8d25\u4e86! ",url:c.url,mid:n.reloginFailed_mid})}}):d({type:"error",msg:"\u65e0\u767b\u9646\u6001\u540e\u5c1d\u8bd5\u8d70\u91cd\u65b0\u767b\u9646\u6d41\u7a0b,\u4f46\u672a\u627e\u5230Login\u5bf9\u8c61! ",url:c.url});break;case 4:e.isLoginError=true;d({type:"info",msg:"CGI BaseKey Error! Ec :"+o,url:c.url,mid:n.ec4_mid});b.cgiHttp.basekeytimes>=3?(l=true,d({type:"error",
msg:"basekey\u7eed\u671f\u540e, \u4ecd\u7136\u53d1\u73b0basekey\u9519\u8bef! ",url:c.url})):(b.cgiHttp.basekeytimes=(b.cgiHttp.basekeytimes||0)+1,c.param.bkn=b.status.bkn=b.encryptSkey(a.cookie.get("skey")),m(c.url,c.type,c.param,q));break;case 2:v=l=true;break;case 3:l=true;break;default:v=l=true}l&&(c.err||function(){})(h);v&&d({type:"info",msg:"CGI Other Error! Ec :"+o,url:c.url,mid:n.ecx_mid})},l="GET",l=c.type?c.type:"POST";b.status.bkn=b.encryptSkey(a.cookie.get("skey"));c.param.bkn=b.status.bkn;
c.param.src="qinfo_v2";b.cgiHttp.basekeytimes=1;m=b.helpFunction;b.helpFunction(c.url,l,c.param,q)}},helpFunction:function(c,b,m,e){a.ajax({type:b.toUpperCase(),url:c,data:m,dataType:"text",success:function(a){var b={};try{b=JSON.parse(a)}catch(h){b={},console.debug(a),d({type:"error",msg:"json.parse\u51fa\u9519\uff01cgi = "+c,url:location.href,mid:373268})}e&&e(b)},error:function(a){var b={};try{b=JSON.parse(a)}catch(h){"string"===typeof a&&(b=eval("("+a+")")),d({type:"error",msg:"json.parse\u51fa\u9519\uff01cgi="+
c,url:location.href,mid:373268})}e&&e(b)}})},ajax:function(a){this.cgiHttp({url:a.url,type:a.type,param:a.data||{},succ:a.success||function(){},err:a.error||function(){}})},api_sample:function(a){var b={};b.param=a.param||{};b.url="/cgi-bin/cgi_sample";b.succ=function(b){(a.succ||function(){})(b)};b.err=function(b){(a.err||function(){})(b)};this.cgiHttp(b)},genSampleAPI:function(a,b){e[a]=e[a]||function(a){var c={};c.param=a.param||{};c.url="/cgi-bin/"+b;c.succ=function(c){(a.succ||function(){})(c)};
c.err=function(c){(a.err||function(){})(c)};e.cgiHttp(c)}},getCgiDownloadUrl:function(c,b){if(c){var d="/cgi-bin/"+c,e;e=b||{};this.status.bkn=this.encryptSkey(a.cookie.get("skey"));e.bkn=this.status.bkn;e.src="qinfo_v2";e=a.param(e);return d+"?"+e}},isSameParam:function(c,b,d){d=d||[];c=this.delKeys(a.extend({},p[c].lastParam),d);b=this.delKeys(a.extend({},b),d);return j.isEqual(c,b)},delKeys:function(a){for(var b in a)j.indexOf(b)!=-1&&delete a[b];return a},setConfig:function(a,b){var d={},e;for(e in a)d[e]=
e in b?b[e]:a[e];return d},getCacheData:function(a){var a=p[a],b=null;if(a&&a.cacheData)b=a.cacheData;return b},setCacheData:function(){},genSampleAPI2:function(a){var b=a.cgiName,d=a.apiName;p[d]=p[d]||this.setConfig({lastParam:{},queue:[],cacheData:null,lastRequestSentTime:0,requestGotTime:0,queueTime:1E3,cacheTime:3E4},a);e[d]=e[d]||function(f){var l=new Date-0,g={};g.param=f.param||{};g.type=a.type||"GET";g.url="/cgi-bin/"+b;var h=new Date-0,i=p[d],o=e.isSameParam(d,f.param,["useCache"]);if(!o)p[d].lastParam=
j.clone(f.param);if(o&&i&&i.cacheData&&g.param.useCache!=false&&h-i.requestGotTime<=i.cacheTime)f.succ&&f.succ(i.cacheData);else{var s=window._pre_fetch_cache[b]||{};if(s.state=="waiting"&&h-s.lastRequestSentTime<=i.queueTime){i.queue.push(f);if(!s.flag)s.flag=true,i.lastRequestSentTime=s.lastRequestSentTime,window.addEventListener("message",function(a){a=eval("("+a.data+")");switch(a.event){case "PreFetchData":if(a.cgiName==b){a=s.data||{};i.cacheData=s.data;i.requestGotTime=new Date-0;for(var c=
0;c<i.queue.length;c++)a.ec==0?i.queue[c].succ&&i.queue[c].succ(a):i.queue[c].err&&i.queue[c].err(a);i.queue=[]}}});return}if(o&&h-i.lastRequestSentTime<=i.queueTime){i.queue.push(f);return}i.lastRequestSentTime=h;g.succ=function(a){i.cacheData=a;i.requestGotTime=new Date-0;for(var c=0;c<i.queue.length;c++)i.queue[c].succ&&i.queue[c].succ(a);i.queue=[];(f.succ||function(){})(a)};g.err=function(a){for(var c=0;c<i.queue.length;c++)i.queue[c].err&&i.queue[c].err(a);i.queue=[];(f.err||function(){})(a)};
e.cgiHttp(g)}l=new Date-0-l;l>1E3&&Badjs("DB genSampleAPI2:"+l,window.location,2,366176,2)};return e[d]},bkn:function(){return this.status.bkn||_this.encryptSkey(a.cookie.get("skey"))},nicks:function(a){var b={};b.param=a.param||{};b.url="/cgi-bin/qun_info/nicks";b.succ=function(b){(a.succ||function(){})(b)};b.err=function(b){(a.err||function(){})(b)};e.cgiHttp(b)},set_group_visit_list:function(a){var b={};b.param=a.param||{};b.type="POST";b.url="/cgi-bin/qun_info/set_group_visit_list";b.succ=function(b){(a.succ||
function(){})(b)};b.err=function(b){(a.err||function(){})(b)};e.cgiHttp(b)},get_group_visit_list:function(a){var b={};b.param=a.param||{};b.type="GET";b.url="/cgi-bin/qun_info/get_group_visit_list";b.succ=function(b){(a.succ||function(){})(b)};b.err=function(b){(a.err||function(){})(b)};e.cgiHttp(b)},get_group_share:function(a){var b={};b.param=a.param||{};b.type="GET";b.url="/cgi-bin/qun_info/get_group_share";b.succ=function(b){(a.succ||function(){})(b)};b.err=function(b){(a.err||function(){})(b)};
e.cgiHttp(b)},get_group_share_download:function(a){var b={};b.param=a.param||{};b.type="GET";b.url="/cgi-bin/qun_info/get_group_share_download";b.succ=function(b){(a.succ||function(){})(b)};b.err=function(b){b.ec>=201&&b.ec<=204&&d({type:"info",msg:"CGI Other Error! get_group_share_download Ec :"+b.ec,url:"/cgi-bin/qun_info/get_group_share_download",mid:352488});(a.err||function(){})(b)};e.cgiHttp(b)},get_group_last_photo:function(a){var b={};b.param=a.param||{};b.type="GET";b.url="/cgi-bin/qun_info/get_group_last_photo";
b.succ=function(b){(a.succ||function(){})(b)};b.err=function(b){(a.err||function(){})(b)};e.cgiHttp(b)},getDBData:function(){},setDBData:function(){},_face_seq_cbk:[],_face_seq:0,_face_cbk:function(a){var b=e._face_seq_cbk[a.seq];if(a&&a.ec===0){if(a.grp){var d=a.grp,f;for(f in d){var l=d[f];if(typeof l!="string"&&typeof l=="object"&&l.u)l=l.u,a.grp[f]=l}}b&&b.succ(a)}else b&&b.err(a)},_face_cbk_reged:false,_addFaceCbk:function(a){var b=this._face_seq;this._face_seq_cbk[this._face_seq]=a;this._face_seq++;
return b},getFaces:function(c){if(c&&c.param&&!(!c.param.qq&&!c.param.grp||!c.err&&!c.succ)){var b=this,d="http://face.imweb.qq.com/cgi-bin/face?",e=[];e.push("app=group_info");e.push("redir=0");if(!b._face_cbk_reged){var f=window.callback;window.callback=function(a){f&&f(a);b._face_cbk(a)};b._face_cbk_reged=true}var l=b._addFaceCbk({err:c.err,succ:c.succ});e.push("seq="+l);if(c.param&&c.param.qq){var h=c.param.qq,l=h.size||"40",h=h.ls.join("_");e.push("qq="+l+"|"+h)}if(c.param&&c.param.grp)l=c.param.grp,
c=l.size||"40",l=l.ls.join("_"),e.push("grp="+c+"|"+l);d+=e.join("&");a.http=a.http||{};a.http.jsonp=function(a){var c=document.createElement("script");c.src=a;document.getElementsByTagName("head")[0].appendChild(c)};a.http.jsonp(d)}},_imgCache:{},getImages:function(c){for(var b=c.param&&c.param.grp&&c.param.grp.ls||[],d=c.param&&c.param.qq&&c.param.qq.ls||[],f=function(a){var c="",b;for(b in a)c=b;return c},l=function(a,c){a.forEach(function(a){var b=f(a),a=a[b];a.onload=a.onerror=function(){this.style.visibility=
"visible";this.onload=this.onerror=null};a.src==c[b]?(a.style.visibility="visible",a.onload=this.onerror=null):a.src=c[b]})},g=[],h=0;h<b.length;h++)g.push({type:"grp",value:b[h]});for(h=0;h<d.length;h++)g.push({type:"qq",value:d[h]});if(g.length)if(g.length>20){d=Math.ceil(g.length/20);for(h=0;h<d;h++){for(var i=g.splice(0,20),o={param:{},succ:c.succ,err:c.err},s=0;s<i.length;s++){b=i[s];if(b.type=="grp")!o.param.grp&&(o.param.grp={ls:[]}),o.param.grp.ls.push(b.value);if(b.type=="qq")!o.param.qq&&
(o.param.qq={ls:[]}),o.param.qq.ls.push(b.value)}this.getImages(o)}}else{var j=[];if(typeof g[0].value=="object"){c=a.extend({},c);c.param.grp&&delete c.param.grp;c.param.qq&&delete c.param.qq;d=[];h=0;for(i=g.length;h<i;h++)if(o=g[h],b=o.value,s=f(b),b[s].style.visibility="hidden",this._imgCache[s])d.push(b);else{if(o.type=="grp")!c.param.grp&&(c.param.grp={ls:[]}),c.param.grp.ls.push(s);if(o.type=="qq")!c.param.qq&&(c.param.qq={ls:[]}),c.qq.ls.push(s);j.push(b)}d.length&&l(d,this._imgCache);c.succ=
function(c){l(j,a.oop.extend({},c.grp,c.qq))};c.err=function(){a.array.forEach(j,function(a){var c=f(a);a[c].style.visibility="visible"})}}e.getFaces(c)}},getSetting:function(a){var b={};b.param=a.param||{};b.type="GET";b.url="/cgi-bin/qun_info/get_group_setting";b.succ=function(b){(a.succ||function(){})(b)};b.err=function(b){(a.succ||function(){})(b)};e.cgiHttp(b)},setOpen:function(a){var b={};b.param=a.param||{};b.type="POST";b.url="/cgi-bin/qun_info/set_open";b.succ=function(b){(a.succ||function(){})(b)};
b.err=function(b){a.err?a.err(b):(a.succ||function(){})(b)};e.cgiHttp(b)},sendSms:function(a){var b={};b.param=a.param||{};b.type="POST";b.url="/cgi-bin/qun_info/send_sms";b.succ=function(b){(a.succ||function(){})(b)};b.err=function(b){(a.succ||function(){})(b)};e.cgiHttp(b)},setSearchGcOnly:function(a){var b={};b.param=a.param||{};b.type="POST";b.url="/cgi-bin/qun_info/set_search_gc_only";b.succ=function(b){(a.succ||function(){})(b)};b.err=function(b){(a.succ||function(){})(b)};e.cgiHttp(b)},setSetting:function(a){var b=
{};b.param=a.param||{};b.type="POST";b.url="/cgi-bin/qun_info/set_group_setting";b.succ=function(b){(a.succ||function(){})(b)};b.err=function(b){(a.succ||function(){})(b)};e.cgiHttp(b)},checkSensitive:function(a){var b={};b.param=a.param||{};b.type="POST";b.url="/cgi-bin/qun_info/check_sensitive_word";b.succ=function(b){(a.succ||function(){})(b)};b.err=function(b){(a.succ||function(){})(b)};e.cgiHttp(b)},getCard:function(a){var b={};b.param=a.param||{};b.type="POST";b.url="/cgi-bin/qun_info/get_group_card";
b.succ=function(b){(a.succ||function(){})(b)};b.err=function(b){(a.succ||function(){})(b)};e.cgiHttp(b)},setCard:function(a){var b={},d=this;b.param=a.param||{};b.type="POST";b.url="/cgi-bin/qun_info/set_group_card";b.succ=function(e){(a.succ||function(){})(e);var e=d.getCacheData("get_group_members_all")||d.getCacheData("get_group_members"),f=b.param.u;if(e){if(!e.cards)e.cards={};e.cards[f]=Str.encodeHtml(b.param.name)}};b.err=function(b){(a.err||function(){})(b)};e.cgiHttp(b)},setAdmin:function(a){var b=
{},d=this;b.param=a.param||{};b.type="POST";b.url="/cgi-bin/qun_info/set_group_admin";b.succ=function(e){(a.succ||function(){})(e);var e=d.getCacheData("get_group_members_all")||d.getCacheData("get_group_members"),e=e.adm=e.adm||[],f=b.param.op,l=Number(b.param.u),h=j.indexOf(e,l);f==1?h==-1&&e.push(l):h!=-1&&e.splice(h,1)};b.err=function(b){(a.succ||function(){})(b)};e.cgiHttp(b)},getMembers:function(a){var b={};b.param=a.param||{};b.type="POST";b.url="/cgi-bin/qun_info/get_group_members";b.succ=
function(b){(a.succ||function(){})(b)};b.err=function(b){(a.succ||function(){})(b)};e.cgiHttp(b)},getGroupMemNum:function(){var a=this.getCacheData(window.global_get_group_info);return a==null?null:a.gMemNum},delMemberFromCache:function(a){for(var b=(this.getCacheData("get_group_members_all")||this.getCacheData("get_group_members")).mems||[],a=this.getMap(a),d=0,e=b.length;d<e;d++)a[b[d].u]&&(b.splice(d,1),d--,e--)},getMap:function(a){for(var b={},d=0,e=a.length;d<e;d++)b[a[d]]=true;return b},deleteMember:function(a){var b=
{};b.param=a.param||{};b.type="POST";b.url="/cgi-bin/qun_info/delete_group_member";b.succ=function(b){(a.succ||function(){})(b)};b.err=function(b){(a.succ||function(){})(b)};e.cgiHttp(b)}},f=window.global_get_group_info,l=window._pre_fetch_cache[f].data;if(l)p[f]={queue:[],cacheData:l,lastRequestSentTime:new Date-0,requestGotTime:new Date-0,queueTime:1E3,cacheTime:3E4},window._pre_fetch_cache[f].data=null;return e});(function(){function a(a){if(typeof a!=="string")return false;try{a=(JSON&&JSON.parse||
function(a){return eval("("+a+")")})(a.replace(/[\u0000-\u001f]/g," "))}catch(b){return false}return a}function d(){return l=!f("Contact.IsOnline").online}function g(a){l=!a;for(var b=0,d=c.length;b<d;b++)c[b](a)}function f(b,c){var f;if(f=!b.match(e)){if(d())typeof(r=p.OFFLINE_TIPS)=="function"&&r();f=l}if(f)return false;if(f=window.external&&window.external.CallHummerApi){try{data=f.apply(this,arguments),data=a(data)}catch(g){return false}return data}return false}function j(a,b){if(typeof a!="object")return a;
var b=b||{},c;for(c in b)a[c]=b[c]}var n=this||window,p=n.CommonApi||(n.CommonApi={});p.version="0.1";var e=/(Contact\.IsOnline)|(Window\.)/,l,c=[],b=[],m=[],t,q,r;n.OnClientCall=function(c){c=a(c);if(c.type=="event")switch(c.cmd){case "OnQQOnlineEvt":g(true);break;case "OnQQOfflineEvt":g(false);break;case "OnReceiveS2CMsg":for(var c=c.param,d=0,e=m.length;d<e;d++)m[d](c);break;case "CanCloseWindow":a:{c=true;d=0;for(e=b.length;d<e;d++)if(c=b[d](),!c)break a}}else if(c.type=="callback")switch(c.cmd){case "OnOpenWebPicEvt":t&&
t(c.param);break;case "onClipScreenEvt":q&&q(c.param)}};j(p,{dataReport:function(a){return f("Default.DataReport",'{ "bigt" : "'+a+'" }')},getPerfTimeStamp:function(){return f("Default.GetPerfTimeStamp")},groupPopNewWebPage:function(a,b,c,d,e){return f("Group.PopNewWebPage",'{"width" : '+a+', "height" : '+b+', "title" : "'+d+'", "url" : "'+c+'", "singletonId":"'+e+'" }')},show:function(){return f("Window.Show")},hide:function(){return f("Window.Hide")},close:function(){return f("Window.Close")},maximize:function(){return f("Window.Maximize")},
minimize:function(){return f("Window.Minimize")},restore:function(){return f("Window.Restore")},resize:function(a,b){return f("Window.Resize",'{ "width" : '+a+', "height" : '+b+" }")},move:function(a,b){return f("Window.Move",'{ "offsetX" : '+a+', "offsetY" : '+b+" }")},setTitle:function(a){return f("Window.SetTitle",'{ "title" : "'+a+'" }')},reloadPage:function(){return f("Window.ReloadPage")},popNewWebPage:function(a,b,c,d){return f("Window.PopNewWebPage",'{ "width" : '+a+', "height" : '+b+', "title" : "'+
d+'", "url" : "'+c+'" }')},alert:function(a,b,c){return f("Window.Alert",'{ "iconType" : '+a+', "title" : "'+b+'", "text" : "'+c+'" }')},confirm:function(a,b,c){return f("Window.Confirm",'{ "iconType" : '+a+', "title" : "'+b+'", "text" : "'+c+'" }')},getSelfUin:function(){return f("Contact.GetSelfUin").uin},getNickname:function(a){return f("Contact.GetNickName",'{ "uin" : "'+a+'" }')},isOnline:function(){return!d()},isOffline:d,setRemark:function(a,b){return f("Contact.SetRemark",'{ "uin" : "'+a+
'", "remark" : "'+b+'" }')},openContactInfoCard:function(a,b){return f("Contact.OpenContactInfoCard",'{ "uin" : "'+a+'", "tabId" : '+b+" }")},addFriend:function(a,b){return f("Contact.AddFriend",'{ "uin" : "'+a+'", "name" : "'+b+'" }')},openChatSession:function(a){return f("Contact.OpenChatSession",'{ "uin" : "'+a+'" }')},getVersion:function(){return f("IM.GetVersion")},getClientKey:function(){return f("IM.GetClientKey")},getSKey:function(){for(var a=f("IM.GetSKey"),b=a&&a.sKey,c=[],d=0,e=b.length;d<
e;d+=2)c.push(String.fromCharCode("0x"+b.slice(d,d+2)));a.skey=c.join("");return a},openGroupInfoCard:function(a,b){return f("Group.OpenGroupInfoCard",'{ "groupId" : "'+a+'", "tabId" : '+b+" }")},joinGroup:function(a){return f("Group.JoinGroup",'{ "groupId" : "'+a+'" }')},downloadFile:function(a,b,c){return f("Misc.DownloadFile",'{ "url" : "'+a+'", "fileName" : "'+b+'", "fileSize" : "'+c+'" }')},openWebPic:function(a,b){t=b;return f("Misc.OpenWebPic",'{ "url" : "'+a+'", "function" : "OnOpenWebPicEvt" }')},
clipScreen:function(a,b,c,d,e){q=e;return f("Misc.ClipScreen",'{ "url" : "'+c+'", "cookies" : "'+a+'", "parameters" : "'+b+'", "method" : "'+d+'", "uploaded" : "onClipScreenEvt" }')},onQQStateChange:function(a){typeof a==="function"&&c.push(a)},onCanCloseWindow:function(a){typeof a==="function"&&b.push(a)},onReceiveS2CMsg:function(a){typeof a==="function"&&m.push(a)},offReceiveS2CMsg:function(a){a=m.indexOf(a);a!=-1&&m.splice(a,1)},extend:function(a,b){var c=Object.prototype.toString.call(a);c===
"[object String]"?this[a]=b:c==="[object Object]"&&j(this,a)},debug:function(a){var b=document.createElement("p");b.innerHTML=a;document.body.insertBefore(b,document.body.childNodes[0])}})})();define("commonapi",function(a){return function(){return a.CommonApi}}(this));(function(a,d){typeof define==="function"&&define.amd?define("htmlEncode",[],d):a.htmlEncode=d()})(this,function(){function a(a,b,c){return!b&&!c?n[a]||a:String.fromCharCode(b||c)}function d(a){return b[a]}function g(a){for(var b=0;b<
t.length;b++)a=a.replace(RegExp("<(/?\\s*"+t[b]+")[^>]*>","ig"),function(a,b){return b.match(/^\//)?"\n":""});return a.replace(/<\/?[^>]*>/gi,"").replace(RegExp("&nbsp;","gi")," ").replace(/\u200B/g,"").replace(/(\r\n|\n|\r)$/g,"")}var f=/&quot;|&lt;|&gt;|&amp;|&nbsp;|&apos;|&#(\d+);|&#(\d+)/g,j=/['<> "&]/g,n={"&quot;":'"',"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" "},p=/\u00a0/g,e=/<br\s*\/?>/ig,l=/\r?\n/g,c=/\s/g,b={},m;for(m in n)b[n[m]]=m;n["&apos;"]="'";b["'"]="&#39;";var t="li,del,ins,fieldset,legend,tr,th,caption,thead,tbody,tfoot,p,h[1-6],dl,dt,dd,ol,ul,dir,address,blockquote,center,hr,pre,form,textarea,table".split(",");
return{encode:function(a){return a?(""+a).replace(j,d).replace(l,"<br/>").replace(c,"&nbsp;"):""},decode:function(b){return b?(""+b).replace(e,"\n").replace(f,a).replace(p," "):""},encodeBase16:function(a){if(!a)return a;a+="";for(var b=[],c=0,d=a.length;c<d;c++)b.push(a.charCodeAt(c).toString(16).toUpperCase());return b.join("")},decodeBase16:function(){if(!str)return str;str+="";for(var a=[],b=0,c=str.length;b<c;b+=2)a.push(String.fromCharCode("0x"+str.slice(b,b+2)));return a.join("")},normalText:function(a){return g(a)},
decodeForMobile:function(a){return(""+a).replace(/<br>/,"&lt;br&gt;").replace(RegExp("\u0014&amp;nbsp;"),"&nbsp;")}}});(function(a,d){typeof define==="function"&&define.amd?define("face",["simple"],d):a.face=d(a.$)})(this,function(a){var d=function(){var g;function f(f){u=a.dom.getNode("div",{"class":(f.cls?f.cls+" ":"")+"face_selector"});window.setTimeout(function(){u.innerHTML='<div class="face_hover"></div><div class="inner_pnl"></div><div class="row"></div><div class="bg"></div>';x=a.dom.queryClass("face_hover",
"div",u);A=a.dom.queryClass("inner_pnl","div",u);for(var h=[],i=0;i<105;)h.push('<a href="javascript:void(0)" i='+i+' hidefocus="true"></a>'),i++;A.innerHTML=h.join("");a.e.add(A,"click",c);a.e.add(A,"mousedown",l);a.e.add(A,"mouseenter",n);a.e.add(A,"mouseleave",p);a.e.add(A,"mouseover",j);a.e.add(document,"mouseup",e);a.e.add(document,"click",t);a.oop.addObserver(d,"saveFace",b);B=a.dom.queryClass("row","div",u);H=true;m(f)},0)}function j(b){b=b.target;if(b.tagName=="A"&&(b=b.getAttribute("i"))){var c=
q[b];if(c){var d=Math.floor(b/O),d=b%O<2&&d<2;if(!(d&&x._right||!d&&!x._right&&typeof x._right!="undefined")){var e={};e[d?"right":"left"]="7px";e[d?"left":"right"]="";a.css.setStyle(x,e);x._right=d}x.innerHTML='<div class="img"><img class="face" title="'+c+'" src="http://0.web.qstatic.com/webqqpic/style/face/'+b+'.gif" alt="[/'+c+']" rel="face"></div><div class="name">'+c+"</div>"}}}function n(){a.css.show(x)}function p(){a.css.hide(x)}function e(){document.body.releaseCapture&&document.body.releaseCapture();
a.e.remove(document,"mouseup",e)}function l(b){document.body.setCapture&&document.body.setCapture();b.preventDefault();b.stopPropagation();a.e.add(document,"mouseup",e)}function c(a){a.stopPropagation();if(a=a.target.getAttribute("i")){a="[/"+q[a]+"]";if(N)try{var b=N,c="",d=0,e=0;b.focus();if(b.setSelectionRange)d=b.selectionStart,e=b.selectionEnd,d!=e&&b.value.substring(d,e);else if(document.selection){var f,h=document.selection.createRange(),l=document.body.createTextRange();l.moveToElementText(b);
c=h.text;h.getBookmark();for(f=0;l.compareEndPoints("StartToStart",h)<0&&h.moveStart("character",-1)!==0;f++)b.value.charAt(f)=="\n"&&f++;d=f;e=c.length+d}f=e;var i=b.value,h=[],g;h[0]=i.substring(0,d);h[1]=a;h[2]=i.substr(f);g=h.join("");b.value=g}catch(o){}else i=document.createElement("div"),i.innerHTML=J(a),i=i.removeChild(i.getElementsByTagName("img")[0]),E&&E({text:a,dom:i});t()}}function b(){document.body.appendChild(u)}function m(b){N=b.input||null;T=b.parent||document.body;E=b.onSelect||
null;S=b.onHide||null;u.style.left=b.x+"px";u.style.top=b.y+"px";if(typeof b.rowX!=="undefined")B.style.left=b.rowX+"px";T.appendChild(u);a.css.show(u);u.style.visibility="hidden";var c=null;if(c=b.arrowTarget){var b=c.getBoundingClientRect(),d=u.getBoundingClientRect();d.top>=b.top?a.css.removeClass(B,"bottom_row"):a.css.addClass(B,"bottom_row");B.style.left=b.left-d.left-parseInt(g/2)+parseInt(a.css.getClientWidth(c)/2)+"px";a.css.show(B)}else a.css.hide(B);u.style.visibility="visible";G=true}function t(){a.css.hide(u);
G=false;S&&S()}var q="\u5fae\u7b11,\u6487\u5634,\u8272,\u53d1\u5446,\u5f97\u610f,\u6d41\u6cea,\u5bb3\u7f9e,\u95ed\u5634,\u7761,\u5927\u54ed,\u5c34\u5c2c,\u53d1\u6012,\u8c03\u76ae,\u5472\u7259,\u60ca\u8bb6,\u96be\u8fc7,\u9177,\u51b7\u6c57,\u6293\u72c2,\u5410,\u5077\u7b11,\u53ef\u7231,\u767d\u773c,\u50b2\u6162,\u9965\u997f,\u56f0,\u60ca\u6050,\u6d41\u6c57,\u61a8\u7b11,\u5927\u5175,\u594b\u6597,\u5492\u9a82,\u7591\u95ee,\u5618,\u6655,\u6298\u78e8,\u8870,\u9ab7\u9ac5,\u6572\u6253,\u518d\u89c1,\u64e6\u6c57,\u62a0\u9f3b,\u9f13\u638c,\u7cd7\u5927\u4e86,\u574f\u7b11,\u5de6\u54fc\u54fc,\u53f3\u54fc\u54fc,\u54c8\u6b20,\u9119\u89c6,\u59d4\u5c48,\u5feb\u54ed\u4e86,\u9634\u9669,\u4eb2\u4eb2,\u5413,\u53ef\u601c,\u83dc\u5200,\u897f\u74dc,\u5564\u9152,\u7bee\u7403,\u4e52\u4e53,\u5496\u5561,\u996d,\u732a\u5934,\u73ab\u7470,\u51cb\u8c22,\u793a\u7231,\u7231\u5fc3,\u5fc3\u788e,\u86cb\u7cd5,\u95ea\u7535,\u70b8\u5f39,\u5200,\u8db3\u7403,\u74e2\u866b,\u4fbf\u4fbf,\u6708\u4eae,\u592a\u9633,\u793c\u7269,\u62e5\u62b1,\u5f3a,\u5f31,\u63e1\u624b,\u80dc\u5229,\u62b1\u62f3,\u52fe\u5f15,\u62f3\u5934,\u5dee\u52b2,\u7231\u4f60,NO,OK,\u7231\u60c5,\u98de\u543b,\u8df3\u8df3,\u53d1\u6296,\u6004\u706b,\u8f6c\u5708,\u78d5\u5934,\u56de\u5934,\u8df3\u7ef3,\u6325\u624b,\u6fc0\u52a8,\u8857\u821e,\u732e\u543b,\u5de6\u592a\u6781,\u53f3\u592a\u6781".split(","),
r="\u53e3\u7ea2,\u94bb\u6212,\u9774\u5b50,\u706f\u7b3c,\u706f\u6ce1,\u70b9\u6ef4,\u7535\u89c6\u673a,\u7167\u76f8\u673a,\u98ce\u8f66,\u516c\u6587\u5305,\u8d2d\u7269\u888b,\u6d77\u9b42\u886b,\u7ea2\u9886\u5dfe,\u8774\u8776\u7ed3,\u7687\u51a0,\u706b\u8f66\u5934,\u706b\u7bad,\u9152\u676f,\u8721\u70db,\u516b\u722a\u9c7c,\u71d5\u5b50,\u5c0f\u732b,\u732b\u5934\u9e70,\u6bdb\u6bdb\u866b,\u9e8b\u9e7f,\u9e2d\u5b50,\u5c0f\u9e21,\u9752\u86d9,\u4e4c\u9f9f,\u718a\u732b,\u68d5\u718a,\u725b\u5976,\u82f9\u679c,\u6a31\u6843,\u6843\u5b50,\u6a58\u5b50,\u897f\u74dc,\u8349\u8393,\u5de7\u514b\u529b\u51b0\u68d2,\u9e21\u817f,\u592a\u9633,\u5f69\u8679,\u6d6e\u4e91,\u591a\u4e91,\u5c0f\u96e8,\u4e2d\u96e8,\u5927\u96e8,\u96ea\u82b1,\u6708\u5706,\u6c7d\u8f66,\u6728\u9a6c,\u95f9\u949f,\u94c5\u7b14,\u96e8\u4f1e,\u6c99\u53d1,\u624b\u67c4,UFO,\u918b\u575b,\u5b59\u609f\u7a7a,\u5510\u50e7,\u5929\u4f7f,\u6076\u9b54,\u62db\u8d22\u732b,\u5a03\u5a03\u5934,\u536b\u751f\u7eb8,\u4ed9\u4eba\u7403,\u9999\u70df,\u70df\u6597,\u677f\u7816,\u8759\u8760,\u5e7d\u7075,\u5357\u74dc\u706f".split(","),
h={"\u5472\u7259":{text:"\u5472\u7259",code:0},"\u8c03\u76ae":{text:"\u8c03\u76ae",code:1},"\u6d41\u6c57":{text:"\u6d41\u6c57",code:2},"\u5077\u7b11":{text:"\u5077\u7b11",code:3},"\u518d\u89c1":{text:"\u518d\u89c1",code:4},"\u6572\u6253":{text:"\u6572\u6253",code:5},"\u64e6\u6c57":{text:"\u64e6\u6c57",code:6},"\u732a\u5934":{text:"\u732a\u5934",code:7},"\u73ab\u7470":{text:"\u73ab\u7470",code:8},"\u6d41\u6cea":{text:"\u6d41\u6cea",code:9},"\u5927\u54ed":{text:"\u5927\u54ed",code:10},"\u5618":{text:"\u5618",
code:11},"\u9177":{text:"\u9177",code:12},"\u6293\u72c2":{text:"\u6293\u72c2",code:13},"\u59d4\u5c48":{text:"\u59d4\u5c48",code:14},"\u4fbf\u4fbf":{text:"\u4fbf\u4fbf",code:15},"\u70b8\u5f39":{text:"\u70b8\u5f39",code:16},"\u83dc\u5200":{text:"\u83dc\u5200",code:17},"\u53ef\u7231":{text:"\u53ef\u7231",code:18},"\u8272":{text:"\u8272",code:19},"\u5bb3\u7f9e":{text:"\u5bb3\u7f9e",code:20},"\u5f97\u610f":{text:"\u5f97\u610f",code:21},"\u5410":{text:"\u5410",code:22},"\u5fae\u7b11":{text:"\u5fae\u7b11",
code:23},"\u53d1\u6012":{text:"\u53d1\u6012",code:24},"\u5c34\u5c2c":{text:"\u5c34\u5c2c",code:25},"\u60ca\u6050":{text:"\u60ca\u6050",code:26},"\u51b7\u6c57":{text:"\u51b7\u6c57",code:27},"\u7231\u5fc3":{text:"\u7231\u5fc3",code:28},"\u793a\u7231":{text:"\u793a\u7231",code:29},"\u767d\u773c":{text:"\u767d\u773c",code:30},"\u50b2\u6162":{text:"\u50b2\u6162",code:31},"\u96be\u8fc7":{text:"\u96be\u8fc7",code:32},"\u60ca\u8bb6":{text:"\u60ca\u8bb6",code:33},"\u7591\u95ee":{text:"\u7591\u95ee",code:34},
"\u7761":{text:"\u7761",code:35},"\u4eb2\u4eb2":{text:"\u4eb2\u4eb2",code:36},"\u61a8\u7b11":{text:"\u61a8\u7b11",code:37},"\u7231\u60c5":{text:"\u7231\u60c5",code:38},"\u8870":{text:"\u8870",code:39},"\u6487\u5634":{text:"\u6487\u5634",code:40},"\u9634\u9669":{text:"\u9634\u9669",code:41},"\u594b\u6597":{text:"\u594b\u6597",code:42},"\u53d1\u5446":{text:"\u53d1\u5446",code:43},"\u53f3\u54fc\u54fc":{text:"\u53f3\u54fc\u54fc",code:44},"\u62e5\u62b1":{text:"\u62e5\u62b1",code:45},"\u574f\u7b11":{text:"\u574f\u7b11",
code:46},"\u98de\u543b":{text:"\u98de\u543b",code:47},"\u9119\u89c6":{text:"\u9119\u89c6",code:48},"\u6655":{text:"\u6655",code:49},"\u5927\u5175":{text:"\u5927\u5175",code:50},"\u53ef\u601c":{text:"\u53ef\u601c",code:51},"\u5f3a":{text:"\u5f3a",code:52},"\u5f31":{text:"\u5f31",code:53},"\u63e1\u624b":{text:"\u63e1\u624b",code:54},"\u80dc\u5229":{text:"\u80dc\u5229",code:55},"\u62b1\u62f3":{text:"\u62b1\u62f3",code:56},"\u51cb\u8c22":{text:"\u51cb\u8c22",code:57},"\u996d":{text:"\u996d",code:58},
"\u86cb\u7cd5":{text:"\u86cb\u7cd5",code:59},"\u897f\u74dc":{text:"\u897f\u74dc",code:60},"\u5564\u9152":{text:"\u5564\u9152",code:61},"\u74e2\u866b":{text:"\u74e2\u866b",code:62},"\u52fe\u5f15":{text:"\u52fe\u5f15",code:63},OK:{text:"OK",code:64},"\u7231\u4f60":{text:"\u7231\u4f60",code:65},"\u5496\u5561":{text:"\u5496\u5561",code:66},"\u94b1":{text:"\u94b1",code:67},"\u6708\u4eae":{text:"\u6708\u4eae",code:68},"\u7f8e\u5973":{text:"\u7f8e\u5973",code:69},"\u5200":{text:"\u5200",code:70},"\u53d1\u6296":{text:"\u53d1\u6296",
code:71},"\u5dee\u52b2":{text:"\u5dee\u52b2",code:72},"\u62f3\u5934":{text:"\u62f3\u5934",code:73},"\u5fc3\u788e":{text:"\u5fc3\u788e",code:74},"\u592a\u9633":{text:"\u592a\u9633",code:75},"\u793c\u7269":{text:"\u793c\u7269",code:76},"\u8db3\u7403":{text:"\u8db3\u7403",code:77},"\u9ab7\u9ac5":{text:"\u9ab7\u9ac5",code:78},"\u6325\u624b":{text:"\u6325\u624b",code:79},"\u95ea\u7535":{text:"\u95ea\u7535",code:80},"\u9965\u997f":{text:"\u9965\u997f",code:81},"\u56f0":{text:"\u56f0",code:82},"\u5492\u9a82":{text:"\u5492\u9a82",
code:83},"\u6298\u78e8":{text:"\u6298\u78e8",code:84},"\u62a0\u9f3b":{text:"\u62a0\u9f3b",code:85},"\u9f13\u638c":{text:"\u9f13\u638c",code:86},"\u7cd7\u5927\u4e86":{text:"\u7cd7\u5927\u4e86",code:87},"\u5de6\u54fc\u54fc":{text:"\u5de6\u54fc\u54fc",code:88},"\u54c8\u6b20":{text:"\u54c8\u6b20",code:89},"\u5feb\u54ed\u4e86":{text:"\u5feb\u54ed\u4e86",code:90},"\u5413":{text:"\u5413",code:91},"\u7bee\u7403":{text:"\u7bee\u7403",code:92},"\u4e52\u4e53":{text:"\u4e52\u4e53",code:93},NO:{text:"NO",code:94},
"\u8df3\u8df3":{text:"\u8df3\u8df3",code:95},"\u6004\u706b":{text:"\u6004\u706b",code:96},"\u8f6c\u5708":{text:"\u8f6c\u5708",code:97},"\u78d5\u5934":{text:"\u78d5\u5934",code:98},"\u56de\u5934":{text:"\u56de\u5934",code:99},"\u8df3\u7ef3":{text:"\u8df3\u7ef3",code:100},"\u6fc0\u52a8":{text:"\u6fc0\u52a8",code:101},"\u8857\u821e":{text:"\u8857\u821e",code:102},"\u732e\u543b":{text:"\u732e\u543b",code:103},"\u5de6\u592a\u6781":{text:"\u5de6\u592a\u6781",code:104},"\u53f3\u592a\u6781":{text:"\u53f3\u592a\u6781",
code:105},"\u95ed\u5634":{text:"\u95ed\u5634",code:106},"\u62db\u8d22\u8fdb\u5b9d":{text:"\u62db\u8d22\u8fdb\u5b9d",code:107},"\u53cc\u559c":{text:"\u53cc\u559c",code:108},"\u97ad\u70ae":{text:"\u97ad\u70ae",code:109},"\u706f\u7b3c":{text:"\u706f\u7b3c",code:110},"\u53d1\u8d22":{text:"\u53d1\u8d22",code:111},"K\u6b4c":{text:"K\u6b4c",code:112},"\u8d2d\u7269":{text:"\u8d2d\u7269",code:113},"\u90ae\u4ef6":{text:"\u90ae\u4ef6",code:114},"\u5e05":{text:"\u5e05",code:115},"\u559d\u5f69":{text:"\u559d\u5f69",
code:116},"\u7948\u7977":{text:"\u7948\u7977",code:117},"\u7206\u7b4b":{text:"\u7206\u7b4b",code:118},"\u68d2\u68d2\u7cd6":{text:"\u68d2\u68d2\u7cd6",code:119},"\u559d\u5976":{text:"\u559d\u5976",code:120},"\u4e0b\u9762":{text:"\u4e0b\u9762",code:121},"\u9999\u8549":{text:"\u9999\u8549",code:122},"\u98de\u673a":{text:"\u98de\u673a",code:123},"\u5f00\u8f66":{text:"\u5f00\u8f66",code:124},"\u9ad8\u94c1\u5de6\u8f66\u5934":{text:"\u9ad8\u94c1\u5de6\u8f66\u5934",code:125},"\u8f66\u53a2":{text:"\u8f66\u53a2",
code:126},"\u9ad8\u94c1\u53f3\u8f66\u5934":{text:"\u9ad8\u94c1\u53f3\u8f66\u5934",code:127},"\u591a\u4e91":{text:"\u591a\u4e91",code:128},"\u4e0b\u96e8":{text:"\u4e0b\u96e8",code:129},"\u949e\u7968":{text:"\u949e\u7968",code:130},"\u718a\u732b":{text:"\u718a\u732b",code:131},"\u706f\u6ce1":{text:"\u706f\u6ce1",code:132},"\u98ce\u8f66":{text:"\u98ce\u8f66",code:133},"\u95f9\u949f":{text:"\u95f9\u949f",code:134},"\u6253\u4f1e":{text:"\u6253\u4f1e",code:135},"\u5f69\u7403":{text:"\u5f69\u7403",code:136},
"\u94bb\u6212":{text:"\u94bb\u6212",code:137},"\u6c99\u53d1":{text:"\u6c99\u53d1",code:138},"\u7eb8\u5dfe":{text:"\u7eb8\u5dfe",code:139},"\u836f":{text:"\u836f",code:140},"\u624b\u67aa":{text:"\u624b\u67aa",code:141},"\u9752\u86d9":{text:"\u9752\u86d9",code:142}},i=null,o=null,s=null,v=/\[\/([\u4e00-\u9fa5OKN]{1,3})\]/g,M=RegExp("/("+r.join("|")+")","g"),G=false,H=false,N,T,u,A,x,B,E,S=null,O=15;g=13;var J=function(b){return b?b.replace(v,function(b,c){var d=a.array.indexOf(q,c);return d>-1?'<img class="face" title="'+
c+'" src="http://0.web.qstatic.com/webqqpic/style/face/'+d+'.gif" alt="'+("[/"+c+"]")+'" rel="face">':b}):b},K=function(a){return a.replace(/\[\/([\u4e00-\u9fa5OKN]{1,3})\]/gi,function(a,b){var c=h[b];return c?String.fromCharCode(20)+String.fromCharCode(c.code):a})};(function(){i||(i={},a.array.forEach(q,function(a,b){i[a]=b}));o||(o={},a.array.forEach(r,function(a,b){o[a]=b+1}));if(!s){s=[];for(var b in h)s[h[b].code-0]=b}})();return{show:function(a){H?u&&u.innerHTML==""?f(a||{}):m(a):f(a||{})},
hide:t,isShow:function(){return G},code2Img:J,code2LnImg:function(a){return a?a.replace(M,function(a,b){var c=o[b];if(!c&&b.length>2){do b=b.substring(0,b.length-1),c=o[b];while(!c&&b.length>2)}return c?(c="http://imgcache.qq.com/club/item/indivsign/itemlist/$folder$/24_$id$.png".replace("$id$",c).replace("$folder$",c%10),'<img width=20 height=20 class="face ln_face" title="'+b+'" src="'+c+'" alt="'+("[/"+b+"]")+'" rel="face">'):a}):a},img2Code:function(a){return a?"[/"+a.title+"]":""},move:function(a,
b){u.style.left=parseInt(u.style.left)+a+"px";u.style.top=parseInt(u.style.top)+b+"px"},getPanelSize:function(){return{height:205,width:417}},hasFace:function(a){var b=false,c=null,d="";if(c=a.match(v))for(var a=0,e=c.length;a<e;a++)if(d=c[a],d=d.substring(2,d.length-1),typeof i[d]!=="undefined"){b=true;break}return b},isFace:function(a){return a.getAttribute("rel")==="face"},imgs2Code:function(a){return a.replace(/<img.+?\/>/gi,function(a){var b=a.match(/alt="(\[\/[\u4e00-\u9fa5OKN]{1,3}\])"/);return b?
b[1]:a})},faceCode2MoblieCode:K,moblieCode2FaceCode:function(a){return a.replace(/\u0014(.)/gi,function(a,b){var c=s[parseInt(b?b.charCodeAt(0):b)];return c?"[/"+c+"]":a})},moblieCode2Img:function(a){return a.replace(/\u0014(.)/gi,function(a,b){var c=s[parseInt(b?b.charCodeAt(0):b)];return c?J("[/"+c+"]"):a})},imgs2MoblieCode:function(a){return a.replace(/<img.+?\/>/gi,function(a){var b=a.match(/alt="(\[\/[\u4e00-\u9fa5OKN]{1,3}\])"/);return b?K(b[1]):a})},moblieCode2Text:function(a){return a.replace(/\u0014(.)/gi,
function(a,b){var c=s[parseInt(b?b.charCodeAt(0):b)];return c?"/"+c:a})}}}();return d});define("home","jquery,modules/common/js/reportPatchJquery,modules/common/js/db,commonapi,htmlEncode,face,xss,emojiface".split(","),function(a,d,g,f,j,n,p,e){var l,c,b,m,t,q,r,h,i;function o(b){var c=a("#group_master .js_visitor_name").add("#group_admin_list .js_visitor_name");g.nicks({param:{u:b.join("-")},succ:function(b){var d={};(b.ns||[]).forEach(function(a){d[a.u]=a.n});c.each(function(b,c){var e=a(c),F=e.attr("uin");
(F=d[F])&&e.html(F).prop("title",a("<span>"+F+"</span>").text())})},err:function(){}})}function s(a,b){return a.names&&a.names[b]||a.gAdminsName&&a.gAdminsName[b]||a.remarks&&a.remarks[b]||a.ns&&a.ns[b]||b}function v(a,c){c=c||function(){};b!=4?c(a):R[a]?c(R[a]):g.get_uin({param:{u:a,gc:m,useCache:false},succ:function(b){R[a]=b.u;c(b.u)},err:function(){}})}function M(b){TRecord.push("get_group_info","start");var c=new Date-0;g.get_group_info({param:{gc:m,useCache:t?false:true},succ:function(d){t=
false;l=d;console.log("home get_group_info err!");q++;r=d.gOwner;h=[d.gOwner];G(d);q===1&&(TRecord.push("get_group_info","end"),TRecord.report2("flag1=7809&flag2=1&flag3=56","get_group_info",{end:"16"}),window.postMessage(JSON.stringify({event:"get_group_info",from:"Home",time:new Date-0-c}),"http://qinfo.clt.qq.com"));var e=d.gOwner,f=[e],i="",j="",F=d.gAdmins||[],Z=[];h=h.concat(d.gAdmins);i=s(d,e);i==e&&Z.push(e);var j='<div class="visitor_item group_admin" id="visitor_item_'+e+'" uin="'+e+'">\t\t\t\t\t\t\t\t<img class="visitor_avator js_avatar js_show_profile" src="http://3.url.cn/qun/qinfo_v2/modules/profile/img/profile_default_head.png" width="30" height="30" uin='+
e+' />\t\t\t\t\t\t\t\t<span class="visitor_name js_visitor_name js_show_profile copyable" title="'+i+'" alt="'+i+'" uin='+e+">"+i+'</span>\t\t\t\t\t\t\t\t<span class="chat js_chat" uin='+e+"></span>\t\t\t\t\t\t\t</div>",da=a("#visitor_item_"+e);da.length?i!=e&&a(".js_visitor_name",da).html(i):a("#group_master").html(j);if(F.filter(function(a){return a!=e}).length>=1){var m=[],v=[],j="";F.forEach(function(a){a!=e&&(f.push(a),v.push(a),i=s(d,a),m.push(i),i==a&&Z.push(a),j+='<div class="visitor_item group_admin" id="visitor_item_'+
a+'" tabindex="0" uin="'+a+'">\t\t\t\t\t\t\t\t\t<img class="visitor_avator js_avatar js_show_profile" src="http://3.url.cn/qun/qinfo_v2/modules/profile/img/profile_default_head.png" width="30" height="30" uin='+a+' />\t\t\t\t\t\t\t\t\t<span class="visitor_name js_visitor_name js_show_profile copyable" title="'+i+'" alt="'+i+'" uin='+a+">"+i+'</span>\t\t\t\t\t\t\t\t\t<span class="chat js_chat" uin='+a+"></span>\t\t\t\t\t\t\t\t</div>")});a("#group_admin").show();var n=true;a("#group_admin_list .group_admin").length==
v.length?(v.forEach(function(b){a("#visitor_item_"+b).length||(n=false)}),n?(v.forEach(function(b,c){b!=m[c]&&a("#visitor_item_"+b+" .js_visitor_name").html(m[c])}),a("#group_admin_list").show()):a("#group_admin_list").html(j).show()):a("#group_admin_list").html(j).show()}else a("#group_admin").hide(),a("#group_admin_list").hide();Z.length&&o(Z);g.getImages({param:{qq:{size:40,ls:f}},succ:function(c){console.log("home getImages succ!");var c=c.qq||{},F;for(F in c)a("#visitor_item_"+F+" .js_avatar ").prop("src",
c[F].u.replace(/&amp;/g,"&"));b&&b(null,d)},err:function(){console.log("home getImages succ!");b&&b(null,d)}});D.succ(d.photo||{});k.succ(d.share||{})},err:function(a){D.err(a.photo||{});k.err(a.share||{});console.log("home get_group_info err!")}})}function G(b){b.gRIntro?(b=b.gRIntro||"\u7fa4\u4e3b\u5f88\u61d2\uff0c\u4ec0\u4e48\u90fd\u6ca1\u6709\u7559\u4e0b",a("#group_intro").html('<em class="element-invisible">\u7fa4\u4ecb\u7ecd\u662f</em><div id="group_rintro" style="font-size: 12px;font-family: \'\u5fae\u8f6f\u96c5\u9ed1\'">'+
p.filter(e.code2Img(n.moblieCode2Img(n.code2Img(j.decode(j.decodeForMobile(b))))))+"</div>").attr("aria-label","\u7fa4\u4ecb\u7ecd\u662f:"+p.filter(e.code2Img(n.moblieCode2Img(n.code2Img(j.decode(j.decodeForMobile(b)))))))):(b=b.gIntro||"\u7fa4\u4e3b\u5f88\u61d2\uff0c\u4ec0\u4e48\u90fd\u6ca1\u6709\u7559\u4e0b",a("#group_intro").html('<em class="element-invisible">\u7fa4\u4ecb\u7ecd\u662f</em>'+p.filter(b)))}function H(a){var b=document.createElement("iframe");b.src=a;document.body.appendChild(b)}
function N(){window.jubao_onClose=function(){var a=document.getElementById("jubao_photo_container");a&&a.parentNode&&a.parentNode.removeChild(a)}}function T(){a("#not_open_join_group").bind("click",function(){f.joinGroup(m);a.report({aId:1119,flag1:m});I.gdtJoinGroupClick&&I.gdtJoinGroupClick("thumb")});a("#group_master").add("#group_admin_list").delegate(".js_show_profile","click",function(){var b=a(this).attr("uin");v(b,function(a){f.openContactInfoCard(a,1)})});a("#group_master").add("#group_admin_list").delegate(".group_admin",
"mouseenter",function(){var b=a(this).attr("uin");z[b]=setTimeout(function(){console.log(b);v(b)},50)});a("#group_master").add("#group_admin_list").delegate(".group_admin","mouseleave",function(){var b=a(this).attr("uin");z[b]&&(clearTimeout(z[b]),z[b]=null)});a("#share_container").delegate(".js_share_item","click",function(){document.getElementsByClassName("share_no_file")[0]?y(14):y(12);console.log("js_share_item clicked");if(x())f.confirm(1,"\u6e29\u99a8\u63d0\u793a","\u4e0b\u8f7d\u5171\u4eab\u6587\u4ef6\uff0c\u8bf7\u5148\u52a0\u7fa4\uff01").ret&&
(f.joinGroup(m),a.report({aId:1121,flag1:m}));else if(i){var b=a(this);g.get_group_share_download({param:{gc:m,file_name:b.attr("n"),file_path:b.attr("f"),bus_id:b.attr("b")},succ:function(a){H(a.url)},err:function(a){switch(a.ec){case 201:f.alert(1,"\u6e29\u99a8\u63d0\u793a","\u975e\u7fa4\u6210\u5458\u65e0\u6cd5\u4e0b\u8f7d\u7fa4\u6587\u4ef6\uff01");break;case 202:f.confirm(2,"\u6e29\u99a8\u63d0\u793a","\u6587\u4ef6\u6709\u75c5\u6bd2\uff0c\u786e\u8ba4\u7ee7\u7eed\u4e0b\u8f7d\u5417\uff1f").ret&&H(a.url);
break;case 203:H(a.url);break;case 204:f.alert(1,"\u6e29\u99a8\u63d0\u793a","\u4e0b\u8f7d\u5931\u8d25\uff0c\u8be5\u6587\u4ef6\u4e0d\u5b58\u5728\uff01");break;default:f.alert(1,"\u6e29\u99a8\u63d0\u793a","\u83b7\u53d6\u4e0b\u8f7d\u94fe\u63a5\u5931\u8d25\uff01")}}})}else u("http://qun.qzone.qq.com/group#!/"+m+"/share")});a("#photo_container").delegate(".js_share_photo","click",function(b){document.getElementsByClassName("share_no_photo")[0]?y(13):y(11);if(x())f.confirm(1,"\u6e29\u99a8\u63d0\u793a",
"\u67e5\u770b\u56fe\u7247\u8be6\u60c5\uff0c\u8bf7\u5148\u52a0\u7fa4\uff01").ret&&(f.joinGroup(m),a.report({aId:1120,flag1:m}));else{var c=a(b.target).attr("src");c?v(m,function(){var a=c.split("/"),b=a.length,a="http://qzs.qq.com/qzone/photo/v7/page/photo.html#init=photo.v7/common/viewer2/index"+["&appid=421","&ownerUin="+r,"&from=newphoto2&useqzfl=1&useinterface=1&inqq=1","&topicId="+m+"_"+a[b-3],"&picKey="+a[b-2],"&pre="+c,"&preEncode=1"].join("");try{window.external.OpenViewer(a)}catch(d){}}):
u("http://qun.qzone.qq.com/group#!/"+m+"/photo","_blank")}}).delegate(".js_img_jubao","click",function(b){var c;c=a(b.target).parents(".js_share_photo_item").attr("src").split("/");var d=c.length;b=c[d-3];c=c[d-2];var d=I.cookie.uin(),e=m,f=document.getElementById("jubao_photo_container");if(!f)f=document.createElement("div"),f.id="jubao_photo_container",f.className="jubao_photo_container",document.body.appendChild(f);var h=document.createElement("iframe");h.src="http://jubao.qq.com/cn/jubao?appname=im&subapp=gzphoto&jubaotype=picture&uin="+
d+"&guin="+e+"&photoid="+c+"&albumid="+b;f.appendChild(h);a.report({aId:1181,flag1:m})}).delegate(".js_share_photo_item","mouseenter mouseleave",function(c){var c=c.type,d=a(this).find(".js_img_jubao");c==="mouseenter"?b!=1&&d.fadeIn():c==="mouseleave"&&d.fadeOut()});a("#jump_to_photo").bind("click",function(){u("http://qun.qzone.qq.com/group#!/"+m+"/photo","_blank")});a("#jump_to_share").bind("click",function(){u("http://qun.qzone.qq.com/group#!/"+m+"/share","_blank")})}function u(a){a="http://ptlogin2.qq.com/jump?clientuin="+
f.getSelfUin()+"&clientkey="+f.getClientKey().clientKey+"&u1="+encodeURIComponent(a);window.open(a)}function A(a){a=eval("("+a.data+")");switch(a.event||a.fn){case "OnGroupDataFetched":G(a.data);break;case "OnAdminChange":t=true}}function x(){return b!=1&&b!=2&&b!=3}function B(){a("#photo_container .js_ajust_photo").each(function(a,b){b.complete?I.adjust(b,138,102):b.onload=function(){this.onload=null;I.adjust(b,138,102)}})}function E(){return!!I.hash.get("data").match(/from_(.+)/)}function S(){TRecord.push("app_lecture_resource",
"start");w.parallel([function(b){a.ajax({url:"http://ke.qq.com/cgi-bin/get_agency_new_course",type:"GET",dataType:"json",xhrFields:{withCredentials:true},data:{gcode:C.get("groupuin"),count:5},success:function(a){a.retcode===0?b(null,a.result):b(null,{items:[]});E()&&(TRecord.push("app_lecture_resource","get_group_class_info"),TRecord.report2("flag1=7809&flag2=1&flag3=56","app_lecture_resource",{get_group_class_info:"22"}))},error:function(){b(null,{items:[]})}})},function(a){require(["app_lecture"],
function(b){a(null,b);if(E())TRecord.push("app_lecture_resource","app_lecture_js_loaded"),TRecord.report2("flag1=7809&flag2=1&flag3=56","app_lecture_resource",{app_lecture_js_loaded:"23"}),(new Image).src=["http://jsreport.qq.com/cgi-bin/report?id=167&rs=0-0-390529","r="+Math.random()].join("&")})}],function(b,c){var d=c[0],e=c[1];d.items.length?(a("#group_photo_container").slideUp(),a("#group_file_container").slideUp(),a("#group_not_open_container").slideUp()):(a("#group_photo_container").slideDown(),
a("#group_file_container").slideDown(),a("#group_not_open_container").slideDown());e&&e.show({parentNode:a("#group_app_lecture_container"),data:d})})}function O(){a("#photo_title").hide();a("#photo_container").hide();a("#share_title").hide();a("#share_container").hide();if(c&&l){var b=c,d=b.urls||[];d.length?(a("#not_open_pic_container").prop("className","not_open_pic_container js_has_photo"),a("#not_open_pic_container .js_img").prop("src",d[0].replace(/100$/,"200")),a("#not_open_pic_container .js_desc").html((b.total_num||
0)+"\u5f20\u7167\u7247")):(a("#not_open_pic_container").prop("className","not_open_pic_container js_no_photo"),a("#not_open_pic_container .js_desc").html("\u6682\u65e0\u7167\u7247"));b=l;d=b.ls||[];d.length?(a("#not_open_share_container").prop("className","not_open_share_container js_has_share"),a("#not_open_share_container .js_desc").html((b.total_num||0)+"\u4e2a\u6587\u4ef6"),b=d[0].n.match(/\.([^\.]+)$/),d="default",d=b?Q[b[1].toLowerCase()]||"default":"default",a("#not_open_share_container .js_share_type").prop("className",
"share_pic "+d)):(a("#not_open_share_container").prop("className","not_open_share_container js_no_share"),a("#not_open_share_container .js_desc").html("\u6682\u65e0\u6587\u4ef6"));a("#not_open_content_new").show()}}function J(){a("#not_open_content_new").hide();a("#photo_title").show();a("#photo_container").show();a("#share_title").show();a("#share_container").show()}function K(a){g.get_wpa_key({param:{gc:m,u:h.join("|")},succ:function(b){console.log("succ: get_wpa_key");a&&a(null,b)},err:function(){console.log("err: get_wpa_key")}})}
function aa(b){a(".group_admin .js_chat").each(function(c,d){var e=a(d),f=e.attr("uin");b[f]?(a(".js_visitor_name",e.parent()).addClass("chat_with_wpa"),e.show()):(a(".js_visitor_name",e.parent()).removeClass("chat_with_wpa"),e.hide());a.report({aId:1130,flag1:m},"once")});a("#visitor .js_chat").on("click",function(){var c=a(this).attr("uin");window.open(decodeURIComponent(b[c]));a.report({aId:1064,flag1:m})})}function W(a){if(window.__group_info_fetched)return a();var b,c=function(){L++>50?(clearTimeout(b),
b=W=null,a()):b=setTimeout(function(){window.__group_info_fetched?(clearTimeout(b),b=W=null,a()):c()},16)};c()}var I=window.Util,X=null,C={get:function(a){a=window.location.hash.match(RegExp("(#|&)"+a+"=([^&]*)(&|$)"));return!a?"":decodeURIComponent(a[2])},set:function(a){location.hash="#"+a}};h=[];t=false;r="";i=true;q=0;b=void 0;m=void 0;c=null;l=null;var P={zip:["zip","7z"],rar:["rar"],txt:["txt","html"],pic:"jpg,jpeg,bmp,gif,png,pic,tif,psd,ai,cdr".split(","),video:"avi,wmv,rm,rmvb,swf,mp4,mov,mpg".split(","),
music:"mp3,wma,wav,aif,au,ram,mid".split(","),exe:["exe"],word:["doc","docx","dot","wps","rtf"],excel:["xls","xlsx"],ppt:["ppt","pptx"],pdf:["pdf"]},Q={};(function(){for(var a in P)P[a].forEach(function(b){Q[b]=a})})();var y=function(b,c){var d={1:[0,1063],2:[0,1064],3:[0,1065],4:[0,1066],5:[0,1067],6:[0,1068],7:[0,1069],8:[0,1070],9:[0,1071],10:[0,1072],11:[0,1073],12:[0,1074],13:[0,1075],14:[0,1076],15:[0,1077],16:[0,1078],15:[0,1079],15:[0,1080],15:[0,1081]};a.report({mId:d[b][0],aId:d[b][1],value:typeof c==
"number"?c:1})},R={},z={},w=function(){return{parallel:function(a,b){for(var c=a.length,d=a.length,e=[],f=false,h=0;h<d;h++)(function(d){a[d](function(a,h){a?f||(f=true,b(a,e)):(c--,e[d]=h,c||b(null,e))})})(h)}}}(),k={succ:function(b){console.log("get_group_share succ!");l=b;var c=x();if(b.f!=1&&c)a("#info_container").addClass("not_open_to_none_member"),a("#not_open_share_desc").html((b.total_num||0)+"\u4e2a\u6587\u4ef6"),O();else{J();var d="";!b.ls||!b.ls.length?(i=false,d='<div class="share_item share_no_file_item js_share_item"><div class="share_no_file_icon"></div><div class="share_no_file_word">\u6682\u65e0\u6587\u4ef6</div></div>',
a("#share_container").html(d),c?a("#share_wording").html(""):a("#jump_to_share").hide()):(i=true,b.ls=b.ls.slice(0,3),b.ls.forEach(function(a){var b=a.n.match(/\.([^\.]+)$/);typeClass=b?Q[b[1].toLowerCase()]||"default":"default";d+='<div class="share_item">\t\t\t\t\t\t\t\t\t<div class="share_pic js_share_item '+typeClass+'" n="'+a.n+'" f="'+a.f+'" b="'+a.b+'">\t\t\t\t\t\t\t\t\t\t<span class="share_download_arrow js_share_download"></span>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t<span class="share_name copyable" title="'+
a.n+'">'+a.n+'</span>\t\t\t\t\t\t\t\t\t<span class="share_upload_size copyable">'+((a.s||0)>=1048576?((a.s||0)/1048576).toFixed(2)+"MB":((a.s||0)/1024).toFixed(2)+"KB")+"</span>\t\t\t\t\t\t\t\t</div>"}),a("#share_container").html(d),c||a("#jump_to_share").show())}},err:function(){console.log("get_group_share err!");var b="";a("#share_container").html('<div class="share_item js_share_item"><div class="share_pic share_no_file"></div></div>');a("#share_wording").html("(\u7cfb\u7edf\u7e41\u5fd9)")}},
D={succ:function(b){c=b;console.log("get_group_last_photo succ!");var d=x();if(b.f!=1&&d)a("#info_container").addClass("not_open_to_none_member"),a("#not_open_pic_desc").html((b.total_num||0)+"\u5f20\u7167\u7247"),O();else{J();var e="";!b.urls||!b.urls.length?(e='<div class="share_no_photo_item js_share_photo"><div class="share_no_photo_icon"></div><div class="share_no_photo_word">\u6682\u65e0\u56fe\u7247</div></div>',a("#photo_container").html(e),d?a("#photo_wording").html(""):a("#jump_to_photo").hide()):
(b.urls=b.urls.slice(0,3),b.urls.forEach(function(a){a=a.replace(/\/100\?/,"/200?");e+='<div class="share_photo_item js_share_photo_item" src="'+a+'">\t\t\t\t\t\t\t\t\t<img class="js_share_photo js_ajust_photo" src="'+a+'" />\t\t\t\t\t\t\t\t\t<div class="share_img_wrapper js_share_photo" src="'+a+'"></div>\t\t\t\t\t\t\t\t\t<span class="share_img_jubao js_img_jubao">\u4e3e\u62a5</span>\t\t\t\t\t\t\t\t</div>'}),a("#photo_container").html(e),d||a("#jump_to_photo").show(),B())}},err:function(){console.log("get_group_last_photo err!");
var b="";a("#photo_container").html('<div class="share_no_photo js_share_photo"></div>');a("#photo_wording").html("(\u7cfb\u7edf\u7e41\u5fd9)")}},L=0;return{init:function(){if(!this.initialized)this.initialized=true,C.get("tab"),b=C.get("role"),m=C.get("groupuin"),g.genSampleAPI2({apiName:"get_wpa_key",cgiName:"qun_info/get_wpa_key"}),setTimeout(function(){y(9)},2E3),T(),window.addEventListener("message",A),N();c=l=null},show:function(c){this.init();X=c.parentNode;b==4?w.parallel([M],function(b,c){if(!b){var d=
c[0];K(function(b,c){aa(c);var e={event:"get_group_info_done",from:"Home",html:a("#container_home").html(),header:a("#header").html(),groupuin:m,data:d};setTimeout(function(){window.postMessage(JSON.stringify(e),"http://qinfo.clt.qq.com")},1500)})}}):w.parallel([M],function(b,c){if(!b){var d={event:"get_group_info_done",from:"Home",html:a("#container_home").html(),header:a("#header").html(),groupuin:m,data:e},e=c[0];setTimeout(function(){window.postMessage(JSON.stringify(d),"http://qinfo.clt.qq.com")},
1500)}});try{W(function(){var a=window._pre_fetch_cache[window.global_get_group_info];a&&a.data&&a.data.edu==1&&S()})}catch(d){console.debug(d)}window.addEventListener("message",A)},hide:function(){X&&(X=null)},destroy:function(){}}});(function(a,d){typeof define==="function"&&define.amd?define("async",[],d):a.Async=d()})(this,function(){return function(){return{parallel:function(a,d){for(var g=a.length,f=a.length,j=[],n=false,p=0;p<f;p++)(function(e){a[e](function(a,c){a?n||(n=true,d(a,j)):(g--,
j[e]=c,g||d(null,j))})})(p)}}}()});(function(a,d){typeof define==="function"&&define.amd?define("modules/profile/js/profile/RichEditor","simple,face,CKEDITOR,modules/profile/js/external/ck-linkdetector,modules/profile/js/external/ck-wordCount,modules/profile/js/external/ck-zh-cn,modules/profile/js/external/ck-qqface,modules/profile/js/external/ck-rightmenu".split(","),d):a.RichEditor=d(a.$,a.face,a.CKEDITOR)})(this,function(a,d,g){a=function(a){this.init(a)};a.prototype={_edit:null,_el:null,init:function(a){this._el=
a.el;this._createEditor(a.wordLimit,a.skinPath)},_createEditor:function(a){var d=this;this._edit=g.replace(this._el.id,{customConfig:"",language:"zh-cn",toolbar:["Bold,Italic,Underline,Font,FontSize,TextColor".split(",")],uiColor:"#ffffff",removePlugins:"elementspath,contextmenu,tabletools,liststyle,link",resize_enabled:false,font_names:"\u5b8b\u4f53;\u5fae\u8f6f\u96c5\u9ed1;\u9ed1\u4f53;\u6977\u4e66;\u5e7c\u5706;Arial;Arial Black;Times New Roman;Verdana",font_defaultLabel:"\u5fae\u8f6f\u96c5\u9ed1",
fontSize_sizes:"\u5c0f/12px;\u4e2d/14px;\u5927/16px;\u8f83\u5927/18px;\u6700\u5927/20px",fontSize_defaultLabel:"\u4e2d",height:95,contentsCss:"http://2.url.cn/qun/qinfo_v2/modules/profile/css/9878.ck_contents.css",tabSpaces:4,stylesSet:[{name:"Italic Title",element:"h2",styles:{"font-style":"italic"}},{name:"Subtitle",element:"h3",styles:{color:"#aaa","font-style":"italic"}},{name:"Special Container",element:"div",styles:{padding:"5px 10px",background:"#eee",border:"1px solid #ccc"}},{name:"Marker",
element:"span",attributes:{"class":"marker"}},{name:"Big",element:"big"},{name:"Small",element:"small"},{name:"Typewriter",element:"tt"},{name:"Computer Code",element:"code"},{name:"Keyboard Phrase",element:"kbd"},{name:"Sample Text",element:"samp"},{name:"Variable",element:"var"},{name:"Deleted Text",element:"del"},{name:"Inserted Text",element:"ins"},{name:"Cited Work",element:"cite"},{name:"Inline Quotation",element:"q"},{name:"Language: RTL",element:"span",attributes:{dir:"rtl"}},{name:"Language: LTR",
element:"span",attributes:{dir:"ltr"}},{name:"Styled image (left)",element:"img",attributes:{"class":"left"}},{name:"Styled image (right)",element:"img",attributes:{"class":"right"}},{name:"Compact table",element:"table",attributes:{cellpadding:"5",cellspacing:"0",border:"1",bordercolor:"#ccc"},styles:{"border-collapse":"collapse"}},{name:"Borderless Table",element:"table",styles:{"border-style":"hidden","background-color":"#E6E6FA"}},{name:"Square Bulleted List",element:"ul",styles:{"list-style-type":"square"}}],
extraPlugins:"wordcount,linkdetector,qqface,rightmenu",wordcount:{wordLimit:a},on:{instanceReady:function(){this.fireOnce("linkDetector")}}});g.skin.skinPath="http://2.url.cn/qun/qinfo_v2/modules/profile/css/e8d5.ck_editor.css";var n=false;this._edit.on("uiSpace",function(){n||(n=true)},this._edit);this._edit.on("change",function(){d.onChange&&d.onChange()})},onChange:function(){},destroy:function(){this._edit.document&&(this._edit.document.$.removeEventListener("click"),this._edit.destroy())},getTextLength:function(){return this._edit.plugins.wordcount.getTextLength()},
getRichText:function(){return this._edit.plugins.wordcount.getRichText()},getText:function(){return this._edit.plugins.wordcount.getText()},isOutLength:function(){return this._edit.plugins.wordcount.isOutLength()}};return a});(function(a,d){typeof define==="function"&&define.amd?define("modules/profile/js/profile/ProfilePage",["async"],d):a.ProfilePage=d(a.Async)})(this,function(a){function d(){var a=document.getElementById("profileLayer");return a&&a.style.display==="block"}function g(){var a=document.getElementById("profileLoading");
if(!a){var d=document.getElementById("profileLayer");if(!d)return;a=document.createElement("div");a.className="profile_loading";a.innerHTML='<div class="profile_loading_inner"><img src="http://3.url.cn/qun/qinfo_v2/modules/common/img/loading.gif" /><div tabIndex="0">\u6b63\u5728\u52a0\u8f7d\u6570\u636e\uff0c\u8bf7\u7a0d\u5019...</div></div>';a.id="profileLoading";d.appendChild(a)}a.style.display="block";return a}function f(){var a=document.getElementById("profileLoading");if(a)a.style.display="none"}
function j(){var a=function(a,c){console.debug("[registerClientApi]"+a+":"+c);window[a]=function(a){var d=document.getElementById("profileFrame").src.match(/^http:\/\/[\w\.]+\//ig);document.getElementById("profileFrame").contentWindow.postMessage('{"callBackName":"'+c+'","data":"'+encodeURIComponent(a)+'"}',d)}};window.addEventListener("message",function(d){var c=eval("("+d.data+")"),d=d.origin;if(!(d!=="http://qqun.qq.com"&&d!=="http://qinfo.clt.qq.com")&&(c.fn&&a(c.apiName,c.callBackName),c.variable))window[c.variable]=
c.value})}var n={},p=true;window.addEventListener("message",function(a){a=eval("("+a.data+")");if(a.from==="Profile")switch(a.event){case "dataLoaded":console.info("ProfilePage: handle event dataloaded!");break;case "beginJump404":console.info("ProfilePage: handle event beginJump404!");break;case "notLogin":console.info("ProfilePage: handle event notLogin!");break;case "notLogin":console.info("ProfilePage: handle event notLogin!");break;case "destroy":console.info("ProfilePage: handle event destroy!");
n.destroy();break;case "setGrpInfoSucc":console.info("ProfilePage: handle event setGrpInfoSucc!");window.postMessage("{'from':'ProfilePage','event':'setGrpInfoSucc'}","http://qinfo.clt.qq.com");break;case "onTagChange":console.info("ProfilePage: handle event onTagChange!"),window.postMessage(JSON.stringify({from:"ProfilePage",event:"onTagChange",data:a.data}),"http://qinfo.clt.qq.com")}else if(a.from==="Index")switch(a.event){case "OnGroupHeadChanged":console.info("ProfilePage: handle event OnGroupHeadChanged!"),
d()&&Profile.changeGroupHead()}});n.init=function(){TRecord.push("profile_click_edit","base");p&&(j(),window.postMessage("{'from':'ProfilePage','event':'registerClientApi','apiName':'saveProfile'}","http://qinfo.clt.qq.com"),window.postMessage("{'from':'ProfilePage','event':'registerClientApi','apiName':'checkModify'}","http://qinfo.clt.qq.com"),p=false);g();document.getElementById("profileLayer").style.display="block";window.postMessage("{'from':'ProfilePage','event':'afterShow'}","http://qinfo.clt.qq.com");
a.parallel([function(a){require(["profileIndex"],function(d){console.log("profileIndex loaded!");a(null,d)})},function(a){LoadCSS.load("http://2.url.cn/qun/qinfo_v2/modules/profile/css/8a6a.master.css",function(){f();a(null)})}],function(a,d){TRecord.push("profile_click_edit","init_start");d[0].init();f()});window.postMessage("{'from':'ProfilePage','event':'registerClientApi','apiName':'saveProfile'}","http://qinfo.clt.qq.com");window.postMessage("{'from':'ProfilePage','event':'registerClientApi','apiName':'checkModify'}",
"http://qinfo.clt.qq.com");window.postMessage("{'from':'ProfilePage','event':'registerClientApi','apiName':'saveModify'}","http://qinfo.clt.qq.com")};n.destroy=function(){f();document.getElementById("profileLayer").style.display="none";var a=Profile;typeof a==="object"&&a.hide();window.postMessage("{'from':'ProfilePage','event':'afterClose'}","http://qinfo.clt.qq.com")};n.isShow=d;n.canLeave=function(){Profile.tryToLeave()};n.checkModify=function(){console.info("ProfilePage.checkModify() is calling");
if(!d())return false;var a=Profile;return typeof a==="object"?a.checkModify():(console.warn("ProfilePage<fn:_checkModify>: isShow is true, but getProfileObject return not an object!"),false)};n.saveProfile=function(a){console.info("ProfilePage.saveProfile("+a+") is calling");var d=Profile;typeof d==="object"?d.saveProfile(a):console.warn("ProfilePage<fn:_saveProfile>: getProfileObject return not an object!")};return window.ProfilePage=n});(function(a,d){typeof define==="function"&&define.amd?define("modules/common/js/tdw_report",
[],d):a.report=d(a.report)})(this,function(a){function d(){if(g)return g;else{var a=[],c=0;return g=function(){var b=c++%10;return a[b]||(a[b]=new Image)}}}a=a||{};typeof JSON!=="object"&&(JSON={});if(typeof JSON.stringify!=="function")JSON.stringify=function(){};var g=null,f=function(a,c,b,e,f){if(a&&c&&b){var g="http://cgi.connect.qq.com/report/tdw/report?",a={table:a,fields:encodeURIComponent(JSON.stringify(c)),datas:encodeURIComponent(JSON.stringify(b)),pr_ip:e||"obj3",pr_t:f||"ts",t:+new Date};
if(g){c=[];if(a)for(var j in a)a[j]&&c.push(j+"="+a[j]);g+=c.join("&");d()().src=g}}},j=Object.prototype.toString,n={},p=[],e=[];reportTable="";a.toreport=function(){var a=e.length;if(a>1)for(var c=0;c<a;c++)for(var b=0,d=p.length;b<d;b++)!e[c][b]&&e[c][b]!==0&&(e[c][b]="");f(reportTable,p,e);n.length=p.length=e.length=0;reportTable=""};a.tdw=function(a,c,b){if(!a)throw"params can not be null";reportTable=b||reportTable||"dc00141";var d;switch(j.call(a)){case "[object Array]":d=a;break;case "[object Object]":if(c)d=
[a];else{c=[];d=[];for(var g in a)g==="obj3"||g==="ts"||(c.push(g),d.push(a[g]));return f(reportTable,c,[d],a.obj3,a.ts)}}g=0;for(a=d.length;g<a;g++){var b=d[g],q=[];e.push(q);for(var r in b){var h;r in n?(h=n[r],p[h]=r):(p.push(r),n[r]=h=p.length-1);q[h]=b[r]||""}}c||this.toreport()};return a});execRequireConfig();require("jquery,modules/common/js/reportPatchJquery,bower_components/imweb/console,modules/common/js/db,commonapi,home,modules/profile/js/profile/ProfilePage,async,modules/common/js/tdw_report".split(","),
function(a,d,g,f,j,n,p,e,l){var c,b,m,t,q;function r(a,b){typeof b[0]!=="array"&&(b=[b]);var c="http://cgi.connect.qq.com/report/tdw/report?table=dc00141&fields="+JSON.stringify(a)+"&datas="+encodeURIComponent(JSON.stringify(b))+"&t="+ +new Date;(new Image).src=c}function h(a){for(var b=document.getElementById("nav").getElementsByTagName("li"),c=0,d=0,e=b.length;d<e;d++)if(b[d].getAttribute("rel")===a){c=d;break}return c}function i(){window.addEventListener("message",function(b){b=eval("("+b.data+
")");switch(b.event||b.fn){case "canLeave":E(k.heldTab);break;case "OnMemberNumChange":a("#header_cur_num").html(b.curMemberNum);break;case "registerClientApi":var c=b.callBackName||b.apiName,d=b.apiName,b=Y[b.from.toLowerCase()].module[c];U[d]||(U[d]=[]);U[d].indexOf(b)==-1&&U[d].push(b);break;case "setGrpInfoSucc":k.changedAfterEdit=true;break;case "afterClose":if(b.from=="MapManager"&&k.mapShown==1)k.mapShown=0;else if(b.from=="ProfilePage")k.changedAfterEdit&&A({afterEdit:true}),k.changedAfterEdit=
false;case "onTagChange":k.changedAfterEdit=true;break;case "get_group_info":if(k.tabChooseWhenIn==="info"&&!k.fromCreate&&!window.__has_file_load_err){TRecord.push("useable","home_first");TRecord.report2("flag1=7809&flag2=1&flag3=56","useable",{home_first:"15"});try{var d=C.getPerfTimeStamp(),c=window.performance.timing,e=TRecord.get("main"),f=TRecord.get("get_group_info"),h=TRecord.get("useable"),i={bigT:"0X8004125",key:'{"groupuin":'+k.groupuin+';"useruin":'+j.getSelfUin()+';"model","index"}',
param1:d.StartNavigateTS-d.StartVisitTS+"",param2:d.NavigateCompleteTS-d.StartNavigateTS+"",param3:c.domainLookupEnd-c.domainLookupStart+"",param4:c.responseEnd-c.requestStart+"",param5:e.hash.index_loaded-e.hash.base+"",param6:f.hash.end-f.hash.start+"",param7:h.hash.home_first-f.hash.end+""};r("uin,ts,opername,module,action,obj1,ver1,ver2,ver3,ver4".split(","),[j.getSelfUin(),+new Date,"PC_grpdata","index","load",k.groupuin,d.StartNavigateTS-d.StartVisitTS,c.domainLookupEnd-c.domainLookupStart,
e.hash.index_loaded-e.hash.base,f.hash.end-f.hash.start]);window.external.CallHummerApi("Default.DataReportEx",JSON.stringify(i))}catch(g){}a("#container").removeAttr("data-tab")}}})}function o(){a(document.body).on("click",function(){});a("#avatar").bind("mouseenter mouseleave",function(b){k.role!=1&&k.role!=2||(b.type==="mouseenter"?a("#edit_btn").addClass("show_edit"):a("#edit_btn").removeClass("show_edit"))});a("#avatar").bind("click",function(){k.role!=1&&k.role!=2||(y(10),ca.OnOpenModifyHeadWnd(k.groupuin))});
a("#share_group").bind("click",function(){var b=j.getClientKey().clientKey,b="http://ptlogin2.qq.com/qun_share?clientuin="+D.uin()+"&clientkey="+b+"&groupUin="+k.groupuin;j.popNewWebPage(480,348,b,"\u5206\u4eab\u7fa4");a.report({bId:183,aId:4,v:k.role==1||k.role==2?1:0,flag1:k.groupuin})});a("#group_pos").bind("click",function(){k.role==4?y(4):y(12);g.log("\u70b9\u51fb\uff1a\u8c03\u7528\u5730\u56fe\u63a5\u53e3\uff01");require(["mapManage"],function(b){L=b;k.mapInitialized||L.init({getCatFn:function(){return k.classID},
encodeFn:function(a){var b=[],c;for(c in a)b.push(c+"="+encodeURIComponent(a[c]));return b.join("&")}});k.pos&&L.setVal(k.pos);L.loadMap("",0,a("#group_home_pos_container")[0]);k.mapShown=1})});a("#join_group").bind("click",function(){j.joinGroup(k.groupuin);a.report({aId:1065,v:a(this).attr("_type")=="even"?0:1,flag1:k.groupuin,flag2:a(this).attr("_uin")});C.gdtJoinGroupClick("banner");a(document.body).trigger("app.lecture.addGroupClicked")});a("#edit_info").bind("click",function(){g.log("\u70b9\u51fb\uff0c\u4fee\u6539\u8d44\u6599\uff01");
y(14);if(k.auth)s("http://qun.qq.com/renzheng.html?from=1"),a.report({aId:1138,v:k.role==1?1:k.role==2?0:-1,flag1:k.groupuin});else if(v(),k.mapShown)k.mapShown=0,L&&L.close()});a(document.body).bind("click",function(b){for(b=b.target;b;){if(b.id=="group_show_tags"||b.id=="group_tag_board")break;b=b.parentNode}b||a("#group_tag_board").hide()});document.getElementById("nav").addEventListener("keydown",function(b){var c=b.keyCode,d=h(z),b=a("#nav li");switch(c){case 8:case 37:case 38:c=d;d=document.getElementById("nav").getElementsByTagName("li");
c--;if(c>d.length-1||c<0)c=d.length-1;b.eq(c).click();break;case 39:case 40:c=d;d=document.getElementById("nav").getElementsByTagName("li");c++;if(c>d.length-1||c<0)c=0;b.eq(c).click()}},false);a("#group_show_tags").bind("click",function(){k.role==4?y(6):y(11);a("#group_tag_board").css("display")=="none"?a("#group_tag_board").fadeIn(150):a("#group_tag_board").fadeOut(150);if(a("#group_tag_board").css("display")!="none"){var b=a("#group_show_tags")[0].getBoundingClientRect().left,c=a("#group_tag_board")[0].getBoundingClientRect().left,
b=b+17-c-2;a("#group_tag_arrow").css("left",b+"px")}});a("#group_auth").bind("click",function(){s("http://qun.qq.com/renzheng.html?from=1");a.report({aId:1156,v:k.role==1?1:k.role==2?0:-1,flag1:k.groupuin})})}function s(a){a="http://ptlogin2.qq.com/jump?clientuin="+j.getSelfUin()+"&clientkey="+j.getClientKey().clientKey+"&u1="+encodeURIComponent(a);window.open(a)}function v(a){k.changedAfterEdit=false;var b={groupuin:k.groupuin,clientversion:k.clientversion,role:k.role};if(typeof a!=="undefined")b.from=
a;if(w.get("debug")==="1")b.debug=1;p.init(b)}function M(){require(["groupActiveLevel"],function(a){a.show({groupuin:k.groupuin})})}function G(b){var c=b.gRemark||b.gName||"";a("#group_name").html('<span class="element-invisible">\u7fa4\u540d\u79f0\u662f</span><span class="qname" title="'+c+'">'+c+"</span>");b.auth?a("#group_name").addClass("group_name_restrict_len"):a("#group_name").removeClass("group_name_restrict_len");a("#group_number").html(k.groupuin);H(b);a("#group_member_number").fadeIn().css("display",
"inline-block");a("#header_cur_num").html(b.gMemNum);a("#header_max_num").html(b.gMaxMem);a("#aria_mem_num").html("\u7fa4\u5f53\u524d\u4eba\u6570\u662f"+b.gMemNum+", \u4eba\u6570\u4e0a\u9650\u662f"+b.gMaxMem);T(b);b.auth?a("#group_auth").css("display","inline-block"):(a("#group_auth").hide(),a("#group_name_number").find("#group_auth_info").remove());b.auth&&b.auth_info&&(a("#group_auth").attr("title",b.auth_info.t===1?"\u817e\u8baf\u4e2a\u4eba\u8ba4\u8bc1\u7fa4":"\u817e\u8baf\u673a\u6784\u8ba4\u8bc1\u7fa4"),
b.auth_info.t===1?a("#group_auth").addClass("personal_auth"):a("#group_auth").removeClass("personal_auth"),c=a("#group_name_number"),c.find("#group_auth_info").length||c.append(' <span title="'+b.auth_info.info+'" class="group_auth_info" id="group_auth_info">'+b.auth_info.info+"</span>"))}function H(b){require(["catCtrl"],function(c){c=c.getCatNamePath(b.classID)||[];c[c.length-1]==="\u5176\u4ed6"&&c.splice(c.length-1,1);b.classInfo=c.join("<em> | </em>");b.classInfo?a("#group_class").html('<em class="element-invisible">\u7fa4\u5206\u7c7b\u662f</em>'+
b.classInfo).fadeIn(100):a("#group_class").css("display","none");N(b)})}function N(b){var c=a("#header_group_info").width()-a("#header_group_btn_container").width()-10-10-a("#group_class").outerWidth()-a("#group_show_tags").outerWidth()-parseInt(a("#group_tag").css("padding-left"))-parseInt(a("#group_tag").css("padding-right")),b=b.tags||[],d=a("#group_tag").html(""),e=a("#group_show_tags"),f=false,h="";if(b.length){for(var i=0,g=b.length;i<g;i++){var k=b[i],o;o=a("<span>"+k.tag+"</span>").appendTo(d);
if(d.width()>c){f=true;o.remove();break}h+=", "+k.tag}if(f){e.animate({opacity:1});var j="",h="";b.forEach(function(a){j+="<span>"+a.tag+"</span>";h+=" "+a.tag});a("#group_tag_board_inner").html(j)}else e.hide();d.append('<em class="element-invisible" tabindex="1">\u7fa4\u6807\u7b7e\u662f'+h+"</em>").animate({opacity:1},100).show()}else d.hide(),e.hide()}function T(b){require(["catCtrl"],function(c){var d=(b.pos||"").split("|"),e=(b.pos||"").split("|");if(e=e[e.length-1]){var f=[],c=c.getCatNamePath(d[0]);
c[2]&&f.push(c[2]);c[3]&&f.push(c[3]);a("#group_pos").html('<em class="element-invisible">\u7fa4\u5730\u70b9\u662f</em>'+(f.join("")+e)).show();C.isNotGroupMember()&&a("#group_pos").prop("title","\u7fa4\u4e3b\u5c06\u5730\u70b9\u8bbe\u7f6e\u5728\u8fd9\u91cc\uff0c\u6b22\u8fce\u9644\u8fd1\u7684\u4eba\u52a0\u5165")}else a("#group_pos").css("display","none")})}function u(){C.updateAvatar({img:document.getElementById("group_avatar"),onload:function(b){b<=40?a("#avatar").addClass("group_avatar_min"):a("#avatar").removeClass("group_avatar_min")}},
true)}function A(d){var e=d.afterEdit;f.get_group_info({param:{gc:k.groupuin,useCache:d.afterEdit?false:true},succ:function(f){g.debug("get_group_info succ!");f.classInfo=[];G(f);k.auth=f.auth;k.pos=f.pos;k.classID=f.classID;a("#container").data("group-info",f);d.firstTime&&(k.role==1||k.role==2?k.auth&&k.role==1||!k.auth?a("#edit_info").fadeIn(100):a("#edit_info").hide(100):a("#edit_info").hide(100),k.role!=4&&t?(a("#share_group").fadeIn(100),setTimeout(function(){a.report({bId:183,aId:1,flag1:k.groupuin})},
2E3)):a("#share_group").hide(100));e&&window.postMessage(JSON.stringify({event:"OnGroupDataFetched",from:"Index",data:f}),"*");var h=function(){var a=D.uin()||Client.getUin(),b=j.getClientKey();return"http://ptlogin2.qq.com/jump?clientuin="+a+"&clientkey="+b.clientKey+"&u1="+encodeURIComponent("http://qun.qq.com/member.html#gid="+k.groupuin)},i=function(){var b=['<div class="adv-member-tips">','<div class="adv-member-manage">','<a href="'+h()+'" target="_blank">\u9ad8\u7ea7\u7ba1\u7406</a>',"</div>",
'<div class="adv-member-close"></div>',"</div>",'<div class="adv-member-mask"></div>'],c=a(b.join("")).appendTo(a("body"));a(".adv-member-manage a").one("click",function(){o("Clk_highmana");c.remove()});a(".adv-member-close").one("click",function(){c.remove();o("Clk_close")});localStorage.setItem(D.uin()+"memberMange",true);o("exp")},o=function(a){param={uin:k.selfUin,opername:"pc-grpdata",module:"mana-grp",action:a,obj1:k.groupuin+"",obj2:k.version};l.tdw(param)},v=function(){var a=f.gMemNum;if(localStorage.getItem(D.uin()+
"memberMange")!=="true"&&f.classInfo.indexOf("\u540c\u4e8b.\u670b\u53cb")<0&&a>=50&&(k.role==="1"||k.role==="2"))(localStorage.getItem(D.uin()+"guideLevel")=="true"||k.role==="2")&&i()};f.sys_show===1&&d.role=="1"&&localStorage.getItem(D.uin()+"guideLevel")!="true"&&(m=false,require(["guideLevel"],function(a){LoadCSS.load("http://2.url.cn/qun/qinfo_v2/modules/index/css/3cbd.guideLevel.css",function(){f.user_show===0?window.guideLevelSettingCallback===1?a.show(1,D.uin()):(window.guideLevelSettingCallback=
function(){a.show(1,D.uin())},E("setting")):a.show(0,D.uin());window.sessionStorage.setItem("show",1)})}));var s=parseInt(window.localStorage.getItem("profile_"+k.groupuin)||0),n=(k.role==1||k.role==2)&&f.classID!=10010&&f.classID!=10011&&f.classID!=10011&&s==0&&d.firstTime&&z=="info"&&!k.enterFromCreate;V.getWording(0,0,function(e,h){var i=0;if(e||!h)i=1;var i=d.firstTime&&!i&&c&&!K(),g=false;d.firstTime&&(f.ac_open==1&&f.ac_grade==0?a("#show_level_layer").remove():(x(f),g=true),g=b&&k.from=="level"&&
g);i?(a(V).on("TextTips.closeBtnClicked",function(a,b){localStorage.setItem(V.getKey(b),1)}),a(V).on("TextTips.linkClicked",function(a,b){localStorage.setItem(V.getKey(b),1);r("uin,ts,opername,module,action,obj2,obj3,ver1".split(","),[j.getSelfUin(),+new Date,"Edu","qun_ziliao_wording","clk",j.getSelfUin(),k.role,h.id])}),V.show({role:k.role,uin:j.getSelfUin(),groupuin:k.groupuin,tips:h}),r("uin,ts,opername,module,action,obj2,obj3,ver1".split(","),[j.getSelfUin(),+new Date,"Edu","qun_ziliao_wording",
"exposure",j.getSelfUin(),k.role,h.id])):g?k.from=="level"&&M():m&&(n&&(fa.show(),a.report({aId:q,v:k.role==1?1:k.role==2?0:-1,flag1:k.groupuin})),window.localStorage.setItem("profile_"+k.groupuin,++s))});f.user_show===1&&!n&&v()},err:function(){g.log("get_group_info err!")}})}function x(b){var c=a("#show_level_layer"),b=b.ac_grade,d=b==0?"\u5982\u4f55\u70b9\u4eae\u56fe\u6807?":"\u7fa4\u6d3b\u8dc3\u7b49\u7ea7LV"+b;c.length?c.prop("className","group_level_icon_top group_level_icon_"+b).fadeIn():c=
a('<a href="javascript:void(0)"  id="show_level_layer" class="group_level_icon_top icon group_level_icon_'+b+'" id="group_level_icon"></a href="javascript:void(0)">').hide().appendTo(a("#group_name_number")).fadeIn();c.attr("title",d);c.on("click",function(){M()})}function B(b,c){var d=a("#nav li:eq("+b+")");c?(d.attr("class","active").attr("tabIndex",1).attr("aria-label",d.data("label")+"\u9009\u9879\u5361\u5df2\u9009\u4e2d"),d.focus()):d.attr("class","").attr("tabIndex","-1").attr("aria-label",
"")}function E(a,b){if(z==a){var c={event:"onTabChanged",from:"Index"};if(b)c.data=b,c.to=b.tab;window.postMessage(JSON.stringify(c),"*")}else{var c=document.getElementById("editorBox"),d=Y[z].module;if(c)c.style.display="none";d&&d.canLeave&&d.canLeave()==false?k.heldTab=a:(c=h(z),d=h(a),a=="info"&&y(9),B(c,false),B(d,true),ba(a,b))}}function S(){var b=document.getElementById("nav"),c=k.role,d=k.tab;g.log("\u521d\u59cb\u5316\uff1a\u5bfc\u822a\u680f\uff0crole=="+c);c==="1"||c==="2"||c==="3"?b.innerHTML=
'<li tabindex="1" role="tabpanel"  aria-labelledby="\u9996\u9875" aria-label="\u9996\u9875\u9009\u9879\u5361\u5df2\u9009\u4e2d" data-label="\u9996\u9875" rel="info"><span class="info">\u9996\u9875</span><div class="arrow_down"></div></li><li tabindex="-1" role="tabpanel" aria-labelledby="\u6210\u5458" aria-label="\u6210\u5458\u9009\u9879\u5361\u5df2\u9009\u4e2d" data-label="\u6210\u5458" rel="member"><span class="member">\u6210\u5458</span><div class="arrow_down"></div></li><li tabindex="-1" role="tabpanel" aria-labelledby="\u8bbe\u7f6e" aria-label="\u8bbe\u7f6e\u9009\u9879\u5361\u5df2\u9009\u4e2d" data-label="\u8bbe\u7f6e" rel="setting"><span class="setting">\u8bbe\u7f6e</span><div class="arrow_down"></div></li>':
(a("#navigation").hide(),a("#container").addClass("no_nav"));c!=1&&c!=2&&a("#avatar").css("cursor","default");b.querySelectorAll("li");c=h(d);B(c,true);a("li",b).each(function(b){a(this).prop("index",b)}).bind("click",function(){g.debug(a(this));var b=this.getAttribute("rel");E(b)})}function O(){f.set_group_visit_list({param:{gc:w.get("groupuin")},success:function(){g.log("set_group_visit_list succ")},error:function(){g.log("set_group_visit_list err")}})}function J(){window.OnGroupHeadChanged=function(){u();
window.postMessage(JSON.stringify({event:"OnGroupHeadChanged",from:"Index"}),"*")};window.onGroupShut=function(){a("body").triggerHandler("member:groupShut",arguments);a("body").triggerHandler("setting:groupShut",arguments)};window.onMemberShut=function(){a("body").triggerHandler("member:memberShut",arguments);a("body").triggerHandler("setting:memberShut",arguments)};window.checkModify=function(){var a=0;(U.checkModify||[]).forEach(function(b){a=a||b()});return a-0};window.saveProfile=function(a){(U.saveProfile||
[]).forEach(function(b){b(a)})};window.OnBkgColorChanged=function(a){JSON.parse(a||"{}")};window.onTabChanged=function(a){var a=JSON.parse(a),b=a.tab,c;for(c in a)window.location=window.location.hash.replace(RegExp("(#|&)"+c+"=([^&]*)(&|$)"),function(b,d,e,f){return d+c+"="+a[c]+f});E(b,a)}}function K(){return k.role!=1&&k.role!=2&&k.role!=3}function aa(a){if(K())return k.defaultTab;var b=false,c;for(c in Y)if(c==a){b=true;break}return b?a:k.defaultTab}function W(){var a={};location.hash.slice(1).split("&").forEach(function(b){b=
b.split("=");a[b[0]]=b[1]});return a}function I(a){a+="";return parseInt(a.charAt(a.length-3))%2==0}function X(a){a.add(document.getElementById("header"));a.add(document.getElementById("container_home"))}var C=window.Util;a.noConflict();var P=C.hash.get("traceid"),Q=function(a,b){if(window.__ADID){var c=window.__HashData,c=[P,c.POSID,c.ADID,c.SRCID,c.TIME].join("|"),c={uin:C.cookie.uin(),obj1:C.hash.get("groupuin"),obj2:"1.0",obj3:"obj3",opername:"qinfo",module:"index",action:a,ver1:c,ver2:b};l.tdw(c)}};
C.gdtJoinGroupClick=function(a){Q("gdt_join_group_click",a);P&&(a="http://c.gdt.qq.com/gdt_trace_a.fcg?client=32&actionid=66&clickid="+P,P&&__report(a))};window.__ADID&&(Q("gdt_load_start_time",TRecord.htmlStart),Q("gdt_load_done_time",Date.now()));TRecord.push("main","index_loaded");TRecord.push("static_js_index_aio","end");var y=function(b,c){var d={1:[0,1063],2:[0,1064],3:[0,1065],4:[0,1066],5:[0,1067],6:[0,1068],7:[0,1069],8:[0,1070],9:[0,1072],10:[0,1077],11:[0,1078],12:[0,1079],13:[0,1080],
14:[0,1081]};setTimeout(function(){a.report({mId:d[b][0],aId:d[b][1],value:typeof c=="number"?c:1})},2E3)};q=1122;g.log("\u4e3b\u6846\u67b6\u903b\u8f91\u5f00\u59cb\uff01");var R=0,z="info",w={get:function(a){a=window.location.hash.match(RegExp("(#|&)"+a+"=([^&]*)(&|$)"));return!a?"":decodeURIComponent(a[2])},set:function(a){location.hash="#"+a}};b=true;m=true;c=true;t=true;var k={role:"",groupuin:"",defaultTab:"info",heldTab:"",tabChooseWhenIn:"",fromCreate:false,mapShown:0,changedAfterEdit:0,enterFromCreate:0},
D={get:function(a){a=document.cookie.match(RegExp("(^| )"+a+"=([^;]*)(;|$)"));return!a?"":decodeURIComponent(a[2])},uin:function(){var a=this.get("uin");return!a?null:parseInt(a.substring(1,a.length),10)}},L=null,Y={info:{module:null,path:"home",parentNode:"container_home"},member:{module:null,path:"member",parentNode:"container_member"},setting:{module:null,path:"setting",parentNode:"container_setting"},profilepage:{module:p,parentNode:""},contextmenu:{path:"contextmenu"},activeLevel:{path:"groupActiveLevel"}},
U={},ca={OnStartDragMove:function(){g.log("window.external.StartDragMove called!");try{window.external.StartDragMove()}catch(a){}},OnGetGroupBasicInfo:function(a){var b=null;try{b=JSON.parse(window.external.GetGroupBasicInfo(a+""))}catch(c){b={}}return b},OnRemoveLoading:function(){g.log("OnRemoveLoading called!");try{window.external.RemoveLoading()}catch(a){}},OnOpenModifyHeadWnd:function(a){g.log("OnOpenModifyHeadWnd called!");try{window.external.OpenModifyHeadWnd(a+"")}catch(b){}},ShareGroup:function(a){try{window.external.CallHummerApi("Group.ShareGroup",
JSON.stringify({groupId:a}))}catch(b){}}},ba=function(b,c){c&&a("#container").attr("data-tab",b);c=c||{};w.get("groupuin");w.get("role");w.get("clientversion");if(z!=""&&z!=b){g.log("tab\u5207\u6362 > \u9500\u6bc1\u4e0a\u4e00\u4e2a\u6807\u7b7e\u7684\u5185\u5bb9\uff01");var d=Y[z],e=d.module;g.log("tab\u5207\u6362 > "+d.module+".hide();");e&&e.hide();a("#"+d.parentNode).hide()}else g.log("tab\u5207\u6362 > \u5728\u8fd9\u4e4b\u524d\u6ca1\u6709\u521d\u59cb\u5316\u8fc7\u5176\u4ed6\u6807\u7b7e\u7684\u5185\u5bb9\uff0c\u6240\u4ee5\u4e0d\u7528\u9500\u6bc1\uff01");
g.log("tab\u5207\u6362 > \u5207\u6362\u5230\u65b0\u6807\u7b7e\uff01");d=Y[b];e=d.module;z=b;e?(e.show(a.extend(c,{parentNode:document.getElementById(d.parentNode)})),a("#"+d.parentNode).show()):require([d.path],function(e){d.module=e;z==b&&(e.show(a.extend(c,{parentNode:document.getElementById(d.parentNode)})),a("#"+d.parentNode).css("display","block"))})},ea=function(a,b){g.debug(a+":"+b);window[a]=function(a){var c=document.getElementById("qFrame").src.match(/^http:\/\/[\w\.]+\//ig);document.getElementById("qFrame").contentWindow.postMessage('{"callBackName":"'+
b+'","data":"'+encodeURIComponent(a)+'"}',c)}};window.addEventListener("message",function(a){var b=eval("("+a.data+")");if(b.kk||b.kk==0){var c=document.getElementById("nav").querySelectorAll("li");c[4].className="";c[4].removeAttribute("class");c[4].setAttribute("tabIndex","-1");c[4].setAttribute("aria-label","");c[b.kk].className="active";c[b.kk].setAttribute("tabIndex","1");c[b.kk].setAttribute("aria-label","\u5df2\u9009\u4e2d");R=c[b.kk].index;ba(c[b.kk].index)}a=a.origin;if(!(a!="http://qqun.qq.com"&&
a!="http://qinfo.clt.qq.com")&&(b.fn&&ea(b.apiName,b.callBackName),b.variable))window[b.variable]=b.value});document.addEventListener("focus",function(){var a=document.getElementById("nav");a&&a.getElementsByTagName("li")&&R!=void 0&&a.getElementsByTagName("li")[R].focus()},false);var fa=function(){return{shouldShow:function(){return true},adjustEditProfileBtnPos:function(){var b=a("#edit_info")[0].getBoundingClientRect();a("#guide_profile_edit").css({left:b.left-2+"px",top:b.top-2+"px"})},show:function(){this.adjustEditProfileBtnPos();
this.addEvent();a("#guide_profile_fill").fadeIn()},hide:function(){a("#guide_profile_fill").fadeOut()},addEvent:function(){var b=this;a("#guide_profile_edit").click(function(){k.auth?s("http://qun.qq.com/renzheng.html?from=1"):v("guide-index");b.hide();a.report({aId:1123,v:k.role==1?1:k.role==2?0:-1,flag1:k.groupuin})});a("#guide_profile_quit").click(function(){b.hide()});document.getElementById("guide_profile_drag_bg").addEventListener("mousedown",function(a){a.button==0&&ca.OnStartDragMove()})}}}(),
V=function(){var b=3,c=1,d,e=function(a){return[d||w.get("groupuin")||0,D.uin(),a].join("_")};return{getKey:e,getWording:function(a,b,c){return K()?void 0:f.get_text_oper({param:{gc:d||w.get("groupuin")||0},succ:function(a){var b=e(a.id);if(localStorage.getItem(b))return c(null);if(!a.wording)return c(null);c(null,a);window.sessionStorage.setItem("show",1)},err:function(a){c(a)}})},addEvent:function(){var e=this;a("#js_tips_container .js_wording").on("click",function(){var f=a(this).data("href");
/^https?:\/\/ke\.qq\.com/.test(f)&&(f+=/\?/.test(f)?"&from=11":"?from=11");/^https?:\/\/.*\.qq\.com/.test(f)&&(f="http://ptlogin2.qq.com/jump?clientuin="+j.getSelfUin()+"&clientkey="+j.getClientKey().clientKey+"&u1="+encodeURIComponent(f));window.open(f);a(e).trigger("TextTips.linkClicked",[a(this).data("tid")]);a.report({aId:{1:1133,2:1135,3:1137}[b],v:c,flag1:d})});a("#js_tips_container .js_close").on("click",function(){a(this).css("visibility")!="hidden"&&(a(e).trigger("TextTips.closeBtnClicked",
[a(this).data("tid")]),e.hide())})},removeEvent:function(){a("#js_tips_container .js_wording").off("click");a("#js_tips_container .js_close").off("click")},show:function(e){e.uin=e.uin||"";var f=e.uin.toString();b=e.role;c=parseInt(f.charAt(f.length-3))%2==0?0:1;d=e.groupuin;e=e.tips;a("#js_tips_container .js_wording").html(e.wording).data("href",e.url).data("tid",e.id);a("#js_tips_container .js_close").data("tid",e.id);this.addEvent();a("#js_tips_container").fadeIn(600);a.report({aId:{1:1132,2:1134,
3:1136}[b],v:c,flag1:d})},hide:function(){a("#js_tips_container").fadeOut();this.removeEvent()}}}(),d=new Date-0;(function(){k.role=w.get("role");k.groupuin=w.get("groupuin");k.tab=aa(w.get("tab"));k.clientversion=w.get("clientversion");k.from=w.get("from");var b=k.tabChooseWhenIn=k.tab,c=k.role,d=j.getSelfUin()+"",e=I(d);S();f.genSampleAPI2({cgiName:window.global_get_group_info,apiName:"get_group_info",cacheWhenLeave:true});f.genSampleAPI2({cgiName:"qun_info/get_group_members_new",apiName:"get_group_members",
cacheTime:3E5});f.genSampleAPI2({cgiName:"qun_info/get_group_members_new",apiName:"get_group_members_all",cacheTime:3E5});f.genSampleAPI("get_uin","qun_info/get_uin");f.genSampleAPI("get_text_oper","qun_info/get_text_oper");A({firstTime:true,role:c});c==="1"||c==="2"||c==="3"?(c==="1"||c==="2"?y(8):c==3&&y(7),a("#join_group").hide()):(setTimeout(function(){O()},2E3),a("#join_group").attr("_type","odd").attr("_uin",d).fadeIn(),setTimeout(function(){a.report({aId:1063,v:e?0:1,flag1:k.groupuin,flag2:d})},
2E3));ba(b,a.extend(W(),k));o();i();J();OnBkgColorChanged(w.get("colorvalue"));k.enterFromCreate=w.get("from")=="create"&&w.get("enableedit")==1&&(k.role==1||k.role==2);if(k.enterFromCreate)k.fromCreate=true,v(w.get("from"));a(document).ready(function(){var a=window.webkitPerformance?window.webkitPerformance:window.performance,b="navigationStart,unloadEventStart,unloadEventEnd,redirectStart,redirectEnd,fetchStart,domainLookupStart,domainLookupEnd,connectStart,connectEnd,requestStart,responseStart,responseEnd,domLoading,domInteractive,domContentLoadedEventStart,domContentLoadedEventEnd,domComplete,loadEventStart,loadEventEnd".split(","),
c,d;if(a&&(c=a.timing)){c.domContentLoadedEventStart||b.splice(15,2,"domContentLoadedStart","domContentLoadedEnd");var e=[],f=c[b[0]];for(d=0,a=b.length;d<a;d++)point=(point=c[b[d]])?point-f:0,point>0&&e.push(d+"="+point);Math.random()*100<30&&TRecord.doReport("flag1=7809&flag2=45&flag3=1",e)}});setTimeout(function(){require(["contextmenu"],X)},200);setTimeout(function(){TRecord.report2("flag1=7809&flag2=1&flag3=56","main",{header_info_show:"3"});window.__has_file_load_err||(TRecord.report2("flag1=7809&flag2=1&flag3=56",
"main",{index_loaded:__global_env=="local"?"28":"1"}),TRecord.report2("flag1=7809&flag2=1&flag3=56","static_css",{end:"7"}),TRecord.report2("flag1=7809&flag2=1&flag3=56","static_js_require",{end:"9"}),TRecord.report2("flag1=7809&flag2=1&flag3=56","static_js_index_aio",{end:"10"}));window.__static_file_load_err["index.js"]&&a.report({mId:359297})},2E3);setTimeout(function(){switch(b){case "info":w.get("enableedit")-0?a.report({mId:358255}):a.report({mId:358252});break;case "member":a.report({mId:358253});
break;case "setting":a.report({mId:358254});break;case "info":a.report({mId:358252})}},2E3)})();d=new Date-0-d;d>1E3&&Badjs("Index init:"+d,window.location,2,366176,2)});define("modules/index/js/index",function(){});define("modules/index/js/text",["module"],function(a){var d,g,f,j,n,p=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],e=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,l=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,c=typeof location!=="undefined"&&location.href,b=c&&location.protocol&&
location.protocol.replace(/\:/,""),m=c&&location.hostname,t=c&&(location.port||void 0),q={},r=a.config&&a.config()||{};d={version:"2.0.10",strip:function(a){if(a){var a=a.replace(e,""),b=a.match(l);b&&(a=b[1])}else a="";return a},jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:r.createXhr||function(){var a,
b,c;if(typeof XMLHttpRequest!=="undefined")return new XMLHttpRequest;else if(typeof ActiveXObject!=="undefined")for(b=0;b<3;b+=1){c=p[b];try{a=new ActiveXObject(c)}catch(d){}if(a){p=[c];break}}return a},parseName:function(a){var b,c,d=false,e=a.indexOf(".");b=a.indexOf("./")===0||a.indexOf("../")===0;e!==-1&&(!b||e>1)?(b=a.substring(0,e),c=a.substring(e+1,a.length)):b=a;a=c||b;e=a.indexOf("!");e!==-1&&(d=a.substring(e+1)==="strip",a=a.substring(0,e),c?c=a:b=a);return{moduleName:b,ext:c,strip:d}},
xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(a,b,c,e){var f,g;f=d.xdRegExp.exec(a);if(!f)return true;a=f[2];f=f[3];f=f.split(":");g=f[1];f=f[0];return(!a||a===b)&&(!f||f.toLowerCase()===c.toLowerCase())&&(!g&&!f||g===e)},finishLoad:function(a,b,c,e){c=b?d.strip(c):c;r.isBuild&&(q[a]=c);e(c)},load:function(a,e,f,g){if(g.isBuild&&!g.inlineText)f();else{r.isBuild=g.isBuild;var j=d.parseName(a),g=j.moduleName+(j.ext?"."+j.ext:""),l=e.toUrl(g),n=r.useXhr||d.useXhr;l.indexOf("empty:")===0?f():!c||
n(l,b,m,t)?d.get(l,function(b){d.finishLoad(a,j.strip,b,f)},function(a){f.error&&f.error(a)}):e([g],function(a){d.finishLoad(j.moduleName+"."+j.ext,j.strip,a,f)})}},write:function(a,b,c){if(q.hasOwnProperty(b)){var e=d.jsEscape(q[b]);c.asModule(a+"!"+b,"define(function () { return '"+e+"';});\n")}},writeFile:function(a,b,c,e,f){var b=d.parseName(b),g=b.ext?"."+b.ext:"",j=b.moduleName+g,l=c.toUrl(b.moduleName+g)+".js";d.load(j,c,function(){var b=function(a){return e(l,a)};b.asModule=function(a,b){return e.asModule(a,
l,b)};d.write(a,j,b,f)},f)}};if(r.env==="node"||!r.env&&typeof process!=="undefined"&&process.versions&&process.versions.node&&!process.versions["node-webkit"])g=require.nodeRequire("fs"),d.get=function(a,b,c){try{var d=g.readFileSync(a,"utf8");d.indexOf("\ufeff")===0&&(d=d.substring(1));b(d)}catch(e){c(e)}};else if(r.env==="xhr"||!r.env&&d.createXhr())d.get=function(a,b,c,e){var f=d.createXhr(),g;f.open("GET",a,true);if(e)for(g in e)e.hasOwnProperty(g)&&f.setRequestHeader(g.toLowerCase(),e[g]);if(r.onXhr)r.onXhr(f,
a);f.onreadystatechange=function(){var d;if(f.readyState===4&&(d=f.status,d>399&&d<600?(d=Error(a+" HTTP status: "+d),d.xhr=f,c(d)):b(f.responseText),r.onXhrComplete))r.onXhrComplete(f,a)};f.send(null)};else if(r.env==="rhino"||!r.env&&typeof Packages!=="undefined"&&typeof java!=="undefined")d.get=function(a,b){var c,d,e=new java.io.File(a),f=java.lang.System.getProperty("line.separator"),e=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(e),"utf-8")),g="";try{c=
new java.lang.StringBuffer;(d=e.readLine())&&d.length()&&d.charAt(0)===65279&&(d=d.substring(1));for(d!==null&&c.append(d);(d=e.readLine())!==null;)c.append(f),c.append(d);g=String(c.toString())}finally{e.close()}b(g)};else if(r.env==="xpconnect"||!r.env&&typeof Components!=="undefined"&&Components.classes&&Components.interfaces)f=Components.classes,j=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),n="@mozilla.org/windows-registry-key;1"in f,d.get=function(a,
b){var c,d,e,g={};n&&(a=a.replace(/\//g,"\\"));e=new FileUtils.File(a);try{c=f["@mozilla.org/network/file-input-stream;1"].createInstance(j.nsIFileInputStream),c.init(e,1,0,false),d=f["@mozilla.org/intl/converter-input-stream;1"].createInstance(j.nsIConverterInputStream),d.init(c,"utf-8",c.available(),j.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),d.readString(c.available(),g),d.close(),c.close(),b(g.value)}catch(l){throw Error((e&&e.path||"")+": "+l);}};return d})})();
