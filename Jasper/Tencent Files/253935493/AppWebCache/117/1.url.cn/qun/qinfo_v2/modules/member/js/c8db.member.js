/*
 RequireJS text 2.0.10 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/requirejs/text for details
*/
(function(){define("modules/setting/js/common/client",["jquery","commonapi"],function(a,e){function l(a,d){try{return external[a].apply(this,d)}catch(f){}return false}var c={allowConcurrent:true},i,h={},n={getSKey:"Hummer_IM_GetSKey",openUserInfo:"Hummer_Contact_OpenContactInfoCard",getGroupUin:"GetGroupCode",getQQSkinColor:"GetQQSkinColor",getSelfIdentity:"GetSelfIdentity"},r=function(c,d,f){if(!(c==="init"||c==="register")){var e=a.extend({},i,d);f[c]=function(){if(!e.allowConcurrent&&f[c].isProcessing)return false;
f[c].isProcessing=true;var a=l(e.name,arguments);f[c].isProcessing=false;return e.json?window.JSON.parse(a):a};f[c].isProcessing=false}};return{init:function(j,d){i=a.extend({},c,d||{});for(var f in e)e.hasOwnProperty(f)&&typeof e[f]=="function"&&!this[f]&&(this[f]=function(a){return function(){return e[a].apply(e,arguments)}}(f));i.defaultParams=a.extend({},h,i.defaultParams);j=a.extend({},n,j);window.CommonApi=e;this.register(j)},register:function(a){for(var d in a)a.hasOwnProperty(d)&&(typeof a[d]===
"string"&&(a[d]={name:a[d]}),r(d,a[d],this))}}});define("modules/setting/js/common/cookie",{get:function(a){a=document.cookie.match(RegExp("(^| )"+a+"=([^;]*)(;|$)"));return!a?"":decodeURIComponent(a[2])},set:function(a,e,l,c,i){var h=new Date;h.setTime(h.getTime()+(i?36E5*i:2592E6));document.cookie=a+"="+encodeURIComponent(e)+"; expires="+h.toGMTString()+"; path="+(c?c:"/")+"; "+(l?"domain="+l+";":"")},del:function(a,e,l){document.cookie=a+"=; expires=Mon, 26 Jul 1997 05:00:00 GMT; path="+(l?l:"/")+
"; "+(e?"domain="+e+";":"")},uin:function(){var a=this.get("uin");return!a?null:parseInt(a.substring(1,a.length),10)},bkn:function(){var a=this.get("skey");if(a){for(var e=5381,l=0,c=a.length;l<c;++l)e+=(e<<5)+a.charAt(l).charCodeAt();a=e&2147483647}else a=null;return a}});define("modules/setting/js/common/cgi",["jquery","./cookie"],function(a,e){var l=function(){var a=h.client.getSKey();if(typeof a!="string")return a;for(var c="",e=0,g=a.length;e<g;e+=2)c+=String.fromCharCode("0x"+a.slice(e,e+2));
return c},c=function(a){for(var c=5381,e=0,g=a.length;e<g;++e)c+=(c<<5)+a.charAt(e).charCodeAt();return c&2147483647},i={maxReattemptCount:1,allowConcurrent:true,method:"post",splitKey:"",splitMax:1,client:null,vCode:null},h,n={from:"qinfo_v2"},r=function(){var a=l();return a&&a!=e.get("skey")||!h.client||!h.client.getSelfUin()?(e.set("uin","o"+h.client.getSelfUin(),".qq.com"),e.set("skey",a,".qq.com"),true):false},j=function(d,f,j){if(!(d==="init"||d==="register")){var g=a.extend({},h,f),i=0;j[d]=
function(f,s){if(g.allowConcurrent||!j[d].isProcessing){a.isFunction(f)&&(s=f,f={});var p=a.extend({},g.defaultParams,f);j[d].isProcessing=true;g.splitKey&&(p[g.splitKey]=p[g.splitKey].slice(0,g.splitMax).join("-"));p.bkn=e.bkn()||h.client&&c(l());a.ajax({url:g.url,type:g.method,dataType:"json",data:p,success:function(a){j[d].isProcessing=false;if(g.vCode){var b=d!=="sendSms",c=g.vCode,e=c.isVisible();f.elevel&&c.unlock()}if(a.ec==0)i=0,s(a),b&&c.hide().clear(),!g.allowConcurrent&&g.splitKey&&f[g.splitKey].length>
g.splitMax&&(f[g.splitKey]=f[g.splitKey].slice(g.splitMax),j[d](f,s));else if((a.ec===1||a.ec===4)&&i<g.maxReattemptCount)i++,h.client&&r()?j[d](f,s):s({ec:1});else if((a.ec===201||a.ec===202)&&g.vCode&&b){var p=a.ec===201;g.vCode.show(p,function(b,a){p?(f.elevel=2,f.vc=b):(f.elevel=4,f.phone=a,f.smsvc=b);g.vCode.lock();j[d](f,s)},function(){s(a)})}else a.ec===203&&c?(c.refreshCodeImg(),c.showError("\u9a8c\u8bc1\u7801\u8f93\u5165\u6709\u8bef")):a.ec===204&&c?c.showError("\u9a8c\u8bc1\u7801\u8f93\u5165\u6709\u8bef"):
(c&&e&&c.showError("\u7cfb\u7edf\u7e41\u5fd9,\u8bf7\u7a0d\u540e\u91cd\u8bd5"),s(a))},error:function(){j[d].isProcessing=false;if(g.vCode){var a=g.vCode;f.elevel&&a.unlock()}s({ec:500})}});g.allowConcurrent&&g.splitKey&&f[g.splitKey].length>g.splitMax&&(f[g.splitKey]=f[g.splitKey].slice(g.splitMax),j[d](f,s))}};j[d].isProcessing=false}};return{init:function(d,c){h=a.extend({},i,c||{});h.defaultParams=a.extend({},n,h.defaultParams);this.register(d)},register:function(a){for(var c in a)a.hasOwnProperty(c)&&
(typeof a[c]==="string"&&(a[c]={url:a[c]}),j(c,a[c],this))}}});define("modules/setting/js/common/str",[],function(){var a={quot:'"',lt:"<",gt:">",amp:"&",nbsp:" ","#34":'"',"#60":"<","#62":">","#38":"&","#160":" "},e={'"':"#34","<":"#60",">":"#62","&":"#38"," ":"#160"};return{decodeHtml:function(e){e+="";return e.replace(/&(quot|lt|gt|amp|nbsp);/ig,function(c,e){return a[e]}).replace(/&#u([a-f\d]{4});/ig,function(a,e){return String.fromCharCode(parseInt("0x"+e))}).replace(/&#(\d+);/ig,function(a,
e){return String.fromCharCode(+e)})},encodeHtml:function(a){a+="";return a.replace(/["<>& ]/g,function(a){return"&"+e[a]+";"})},byteLen:function(a,c){var e=c||2;a+="";var h=(a.match(/[^\x00-\xff]/g)||[]).length;return a.length+(e-1)*h},getMaxlen:function(a,c){var e="",h=0,n=0,r=false,j;if(a.replace(/[^\x00-\xff]/g,"xxx").length<=c)return a;for(;!r;)j=a.charAt(n),h+=j.match(/[^\x00-\xff]/)!==null?3:1,h>c?r=true:(e+=j,n++);return e}}});define("text",["module"],function(a){var e,l,c,i,h,n=["Msxml2.XMLHTTP",
"Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,j=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,d=typeof location!=="undefined"&&location.href,f=d&&location.protocol&&location.protocol.replace(/\:/,""),y=d&&location.hostname,g=d&&(location.port||void 0),v={},o=a.config&&a.config()||{};e={version:"2.0.10",strip:function(a){if(a){var a=a.replace(r,""),d=a.match(j);d&&(a=d[1])}else a="";return a},jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,
"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:o.createXhr||function(){var a,d,c;if(typeof XMLHttpRequest!=="undefined")return new XMLHttpRequest;else if(typeof ActiveXObject!=="undefined")for(d=0;d<3;d+=1){c=n[d];try{a=new ActiveXObject(c)}catch(b){}if(a){n=[c];break}}return a},parseName:function(a){var d,c,b=false,e=a.indexOf(".");d=a.indexOf("./")===0||a.indexOf("../")===
0;e!==-1&&(!d||e>1)?(d=a.substring(0,e),c=a.substring(e+1,a.length)):d=a;a=c||d;e=a.indexOf("!");e!==-1&&(b=a.substring(e+1)==="strip",a=a.substring(0,e),c?c=a:d=a);return{moduleName:d,ext:c,strip:b}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(a,d,c,b){var f,g;f=e.xdRegExp.exec(a);if(!f)return true;a=f[2];f=f[3];f=f.split(":");g=f[1];f=f[0];return(!a||a===d)&&(!f||f.toLowerCase()===c.toLowerCase())&&(!g&&!f||g===b)},finishLoad:function(a,d,c,b){c=d?e.strip(c):c;o.isBuild&&(v[a]=c);b(c)},
load:function(a,c,j,b){if(b.isBuild&&!b.inlineText)j();else{o.isBuild=b.isBuild;var h=e.parseName(a),b=h.moduleName+(h.ext?"."+h.ext:""),i=c.toUrl(b),u=o.useXhr||e.useXhr;i.indexOf("empty:")===0?j():!d||u(i,f,y,g)?e.get(i,function(b){e.finishLoad(a,h.strip,b,j)},function(a){j.error&&j.error(a)}):c([b],function(a){e.finishLoad(h.moduleName+"."+h.ext,h.strip,a,j)})}},write:function(a,d,c){if(v.hasOwnProperty(d)){var b=e.jsEscape(v[d]);c.asModule(a+"!"+d,"define(function () { return '"+b+"';});\n")}},
writeFile:function(a,d,c,b,f){var d=e.parseName(d),g=d.ext?"."+d.ext:"",j=d.moduleName+g,h=c.toUrl(d.moduleName+g)+".js";e.load(j,c,function(){var d=function(a){return b(h,a)};d.asModule=function(a,d){return b.asModule(a,h,d)};e.write(a,j,d,f)},f)}};if(o.env==="node"||!o.env&&typeof process!=="undefined"&&process.versions&&process.versions.node&&!process.versions["node-webkit"])l=require.nodeRequire("fs"),e.get=function(a,d,c){try{var b=l.readFileSync(a,"utf8");b.indexOf("\ufeff")===0&&(b=b.substring(1));
d(b)}catch(f){c(f)}};else if(o.env==="xhr"||!o.env&&e.createXhr())e.get=function(a,d,c,b){var f=e.createXhr(),g;f.open("GET",a,true);if(b)for(g in b)b.hasOwnProperty(g)&&f.setRequestHeader(g.toLowerCase(),b[g]);if(o.onXhr)o.onXhr(f,a);f.onreadystatechange=function(){var b;if(f.readyState===4&&(b=f.status,b>399&&b<600?(b=Error(a+" HTTP status: "+b),b.xhr=f,c(b)):d(f.responseText),o.onXhrComplete))o.onXhrComplete(f,a)};f.send(null)};else if(o.env==="rhino"||!o.env&&typeof Packages!=="undefined"&&typeof java!==
"undefined")e.get=function(a,d){var c,b,f=new java.io.File(a),e=java.lang.System.getProperty("line.separator"),f=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(f),"utf-8")),g="";try{c=new java.lang.StringBuffer;(b=f.readLine())&&b.length()&&b.charAt(0)===65279&&(b=b.substring(1));for(b!==null&&c.append(b);(b=f.readLine())!==null;)c.append(e),c.append(b);g=String(c.toString())}finally{f.close()}d(g)};else if(o.env==="xpconnect"||!o.env&&typeof Components!=="undefined"&&
Components.classes&&Components.interfaces)c=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),h="@mozilla.org/windows-registry-key;1"in c,e.get=function(a,d){var f,b,e,g={};h&&(a=a.replace(/\//g,"\\"));e=new FileUtils.File(a);try{f=c["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),f.init(e,1,0,false),b=c["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),b.init(f,"utf-8",
f.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),b.readString(f.available(),g),b.close(),f.close(),d(g.value)}catch(j){throw Error((e&&e.path||"")+": "+j);}};return e});define("text!modules/member/css/member.css",[],function(){return'@charset "UTF-8";\r\n.element-invisible {\r\n  position: absolute !important;\r\n  clip: rect(1px, 1px, 1px, 1px);\r\n  padding: 0 !important;\r\n  border: 0 !important;\r\n  height: 1px !important;\r\n  width: 1px !important;\r\n  overflow: hidden;\r\n}\r\n.usrInputFont {\r\n  font-family: \u5fae\u8f6f\u96c5\u9ed1, Tahoma;\r\n}\r\n.element-invisible {\r\n  position: absolute !important;\r\n  clip: rect(1px, 1px, 1px, 1px);\r\n  padding: 0 !important;\r\n  border: 0 !important;\r\n  height: 1px !important;\r\n  width: 1px !important;\r\n  overflow: hidden;\r\n}\r\n.editEntry, .member-container .member-nav li.member-nav-tag #memTagEditor, .member-container #gradeEditor {\r\n  background: transparent url(modules/member/img/editor.png) no-repeat center center;\r\n  text-decoration: none;\r\n  display: none;\r\n  width: 16px;\r\n  display: none;\r\n  cursor: pointer;\r\n}\r\n.black-tip {\r\n  display: none;\r\n}\r\ninput:focus, li:focus, button:focus {\r\n  outline: 1px dotted silver;\r\n}\r\n#container_member #owner .toolbar, #container_member #admin .toolbar, #container_member #member .toolbar {\r\n  display: block;\r\n}\r\n#container_member #block-member-toolbar.toolbar {\r\n  display: none;\r\n}\r\n#not-member #members-wrapper {\r\n  height: 284px;\r\n}\r\n#container_member {\r\n  position: relative;\r\n}\r\n.member-container {\r\n  position: relative;\r\n}\r\n.member-container input[type="checkbox"] {\r\n  border: 1px solid #406982;\r\n  width: 12px;\r\n  height: 12px;\r\n  -webkit-appearance: none;\r\n  position: relative;\r\n  top: 5px;\r\n  left: 49px;\r\n  background-color: white;\r\n}\r\n.member-container input[type="checkbox"]:disabled {\r\n  border: 1px solid #acbbc6;\r\n  background-color: #e9e9eb;\r\n  box-shadow: none;\r\n}\r\n.member-container input[type="checkbox"]:hover {\r\n  box-shadow: 0 0 1px 1px #3aa9ff;\r\n}\r\n.member-container input[type="checkbox"]:checked {\r\n  background-position: 0 -32px;\r\n}\r\n.member-container input[type="checkbox"]:checked:disabled {\r\n  background-position: -14px -32px;\r\n}\r\n.member-container .toolbar {\r\n  position: relative;\r\n  display: none;\r\n  height: 35px;\r\n  padding: 0 10px;\r\n  background-color: #eee;\r\n}\r\n.member-container .toolbar button {\r\n  display: none;\r\n  float: right;\r\n  margin: 6px 0 0 0;\r\n  padding-left: 6px;\r\n  padding-right: 6px;\r\n  cursor: pointer;\r\n}\r\n.member-container .toolbar button {\r\n  height: 22px;\r\n  border: 1px solid #919294;\r\n  border-radius: 4px;\r\n  background-color: #fcfcfd;\r\n  box-shadow: 0 6px 6px -6px #707c8a;\r\n}\r\n.member-container .toolbar button:hover {\r\n  background-image: -webkit-linear-gradient(top, #d5effd, #dcf1fd);\r\n}\r\n.member-container .toolbar button:active {\r\n  background-color: #fcfcfd;\r\n  box-shadow: inset 0 0 -2px #3CC2F4;\r\n}\r\n.member-container .toolbar button[disabled] {\r\n  border: 1px solid #919294;\r\n  background-color: #fcfcfd;\r\n  opacity: .5;\r\n}\r\n.member-container .toolbar button[disabled]:hover {\r\n  border: 1px solid #919294;\r\n  background-image: none;\r\n  cursor: default;\r\n}\r\n.member-container .toolbar button[disabled]:active {\r\n  border: 1px solid #919294;\r\n  background-color: #f4f5f6;\r\n  padding: 0;\r\n  box-shadow: 0 6px 6px -6px #707c8a;\r\n}\r\n.member-container .toolbar button.js-modify-name {\r\n  display: inline-block;\r\n  margin-right: 10px;\r\n}\r\n.member-container .toolbar p {\r\n  line-height: 35px;\r\n}\r\n.member-container .toolbar p.js-admin-word, .member-container .toolbar #batch-modify, .member-container .toolbar #batch-del-member, .member-container .toolbar #exit-batch-modify, .member-container .toolbar #edit-member-tag {\r\n  display: none;\r\n}\r\n.member-container .toolbar #edit-member-tag {\r\n  margin-right: 10px;\r\n}\r\n.member-container .toolbar #batch-modify, .member-container .toolbar #exit-batch-modify, .member-container .toolbar #advMemberManage {\r\n  float: right;\r\n  height: 22px;\r\n  line-height: 22px;\r\n  margin: 7px 10px 0 0;\r\n}\r\n.member-container .toolbar #advMemberManage {\r\n  display: none;\r\n}\r\n.member-container .toolbar a.admin-detail {\r\n  vertical-align: middle;\r\n}\r\n.member-container .toolbar #black-member-ct {\r\n  display: none;\r\n  margin-left: 10px;\r\n}\r\n.member-container .toolbar #admin-operation-record {\r\n  margin-right: -2px;\r\n}\r\n.member-container .member-list {\r\n  width: 100%;\r\n}\r\n.member-container .member-nav {\r\n  width: 100%;\r\n  height: 24px;\r\n  background: -webkit-gradient(linear, left top, left bottom, from(#c5cbe7), to(#d5d9ec));\r\n}\r\n.member-container .member-nav li {\r\n  height: 23px;\r\n  line-height: 23px;\r\n  background: transparent url(modules/member/img/icons.png) no-repeat 0 -260px;\r\n  display: inline-block;\r\n}\r\n.member-container .member-nav li.member-nav-role {\r\n  background: none;\r\n  width: 26px;\r\n}\r\n.member-container .member-nav li.member-nav-nick {\r\n  width: 146px;\r\n}\r\n.member-container .member-nav li.member-nav-card {\r\n  width: 122px;\r\n}\r\n.member-container .member-nav li.member-nav-tag {\r\n  width: 70px;\r\n}\r\n.member-container .member-nav li.member-nav-tag #memTagEditor {\r\n  display: inline-block;\r\n}\r\n.member-container .member-nav li.member-nav-grade-name {\r\n  width: 80px;\r\n}\r\n.member-container .member-nav li.member-nav-grade-name span {\r\n  padding-right: 8px;\r\n}\r\n.member-container .member-nav li.member-nav-grade-name .gradeHelp {\r\n  margin: 0;\r\n  padding-left: 0;\r\n  background: transparent url(modules/member/img/help.png) no-repeat center 3px;\r\n  cursor: pointer;\r\n  display: none;\r\n}\r\n.member-container .member-nav li.member-nav-grade-name:hover span.gradeHelp {\r\n  display: inline;\r\n}\r\n.member-container .member-nav li.member-nav-grade-point {\r\n  width: 70px;\r\n}\r\n.member-container .member-nav li.member-nav-last-talk {\r\n  width: 160px;\r\n}\r\n.member-container .member-nav span {\r\n  padding-left: 6px;\r\n  padding-right: 10px;\r\n}\r\n.member-container .member-nav span.desc, .member-container .member-nav span.asc {\r\n  background: transparent url(modules/member/img/desc.png) no-repeat right center;\r\n}\r\n.member-container .member-nav span.asc {\r\n  background-image: url(modules/member/img/asc.png);\r\n}\r\n.member-container #members-wrapper {\r\n  overflow-y: auto;\r\n  height: 253px;\r\n  background: #f6f6f6;\r\n}\r\n.member-container #members {\r\n  width: 100%;\r\n  background: transparent url(modules/member/img/member-list-bg.png);\r\n  background-attachment: scroll;\r\n  position: relative;\r\n}\r\n.member-container #members .member-row {\r\n  clear: both;\r\n  outline: none;\r\n  \r\n  border: 1px solid transparent;\r\n  \r\n}\r\n.member-container #members .member-row:hover {\r\n  background: #ffe2a2;\r\n  \r\n}\r\n.member-container #members .member-row:hover button.mod-member {\r\n  background-position: -1px -240px;\r\n}\r\n.member-container #members .member-row:hover button.view-info {\r\n  background-position: -1px -218px;\r\n}\r\n.member-container #members .member-row.selected, .member-container #members .member-row.selected:hover, .member-container #members .member-row.focus {\r\n  background: #3288c8;\r\n  background: -webkit-linear-gradient(top, #3f98d9, #3188c7);\r\n  color: #fff;\r\n  border: 1px solid #3288c8;\r\n}\r\n.member-container #members li, .member-container #members li img {\r\n  float: left;\r\n}\r\n.member-container #members li {\r\n  padding-left: 6px;\r\n  height: 24px;\r\n  \r\n}\r\n.member-container #members li span {\r\n  float: left;\r\n  padding: 5px 0 0 6px;\r\n}\r\n.member-container #members li .pic {\r\n  float: left;\r\n  width: 18px;\r\n  height: 18px;\r\n  margin: 4px 8px 0 5px;\r\n  position: relative;\r\n  padding: 0;\r\n}\r\n.member-container #members li.member-nav-role {\r\n  width: 24px;\r\n  padding-left: 0;\r\n}\r\n.member-container #members li.member-nav-nick {\r\n  width: 144px;\r\n}\r\n.member-container #members li.member-nav-nick img {\r\n  width: 18px;\r\n  height: 18px;\r\n}\r\n.member-container #members li.member-nav-nick .nick {\r\n  float: left;\r\n  width: 110px;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  padding-left: 0;\r\n  font-family: Tahoma, \'Microsoft YaHei\', SimSun, Verdana;\r\n}\r\n.member-container #members li.member-nav-nick .pic img.shielded {\r\n  width: 9px;\r\n  height: 9px;\r\n  display: none;\r\n  position: absolute;\r\n  right: 0;\r\n  bottom: 0;\r\n}\r\n.member-container #members li.member-nav-nick span.shield img.shielded {\r\n  display: inline;\r\n}\r\n.member-container #members li.member-nav-card {\r\n  width: 120px;\r\n}\r\n.member-container #members li.member-nav-card input {\r\n  display: none;\r\n  width: 100px !important;\r\n}\r\n.member-container #members li.member-nav-card span.card {\r\n  float: left;\r\n  padding-left: 0;\r\n  width: 100%;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  font-family: Tahoma, \'Microsoft YaHei\', SimSun, Verdana;\r\n}\r\n.member-container #members li.member-nav-card .mover, .member-container #members li.member-nav-card .editable {\r\n  margin: 2px 0 0 5px;\r\n  padding: 0 0 0 1px;\r\n  border: 1px solid #9aa99d;\r\n  background: #fff;\r\n  color: #333;\r\n}\r\n.member-container #members li.member-nav-card .editable {\r\n  border: 1px solid #3187b8;\r\n  background: #fff;\r\n  color: #333;\r\n  width: 135px;\r\n  height: 19px;\r\n  line-height: 17px;\r\n}\r\n.member-container #members li.member-nav-grade-name {\r\n  width: 78px;\r\n}\r\n.member-container #members li.member-nav-grade-name span {\r\n  white-space: nowrap;\r\n  height: 16px;\r\n  width: 80px;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n}\r\n.member-container #members li.member-nav-grade-point {\r\n  width: 68px;\r\n}\r\n.member-container #members li.member-nav-last-talk {\r\n  width: 158px;\r\n}\r\n.member-container #members li.member-nav-last-talk span.last-talk {\r\n  width: 78px;\r\n  display: inline-block;\r\n}\r\n.member-container #members li span.space {\r\n  float: left;\r\n  width: 20px;\r\n  height: 20px;\r\n  padding: 1px;\r\n  margin: 1px 0 0 2px;\r\n}\r\n.member-container #members li button.role-owner, .member-container #members li button.role-admin, .member-container #members li button.set-admin, .member-container #members li button.view-info, .member-container #members li button.del-member, .member-container #members li button.mod-member {\r\n  float: left;\r\n  width: 22px;\r\n  height: 22px;\r\n  overflow: hidden;\r\n  text-indent: -9999px;\r\n  padding: 1px;\r\n  margin: 1px 0 0 2px;\r\n  border: 1px solid rgba(79, 89, 96, 0);\r\n  border-radius: 2px;\r\n  background: transparent url(modules/member/img/icons.png) no-repeat 0px -153px;\r\n}\r\n.member-container #members li button.mod-member {\r\n  margin: 1px 0 0 1px;\r\n}\r\n.member-container #members li button.role-admin {\r\n  background-position: 0px -175px;\r\n}\r\n.member-container #members li button.set-admin {\r\n  background-position: -1000px -1310px;\r\n}\r\n.member-container #members li button.view-info {\r\n  background-position: -1000px -2190px;\r\n}\r\n.member-container #members li button.del-member {\r\n  background-position: -1000px -1970px;\r\n}\r\n.member-container #members li button.mod-member {\r\n  background-position: -1000px -2390px;\r\n}\r\n.member-container #members li button.mod-member:hover, .member-container #members li button.view-info:hover, .member-container #members li button.set-admin:hover, .member-container #members li button.del-member:hover {\r\n  cursor: pointer;\r\n  border: 1px solid rgba(79, 89, 96, 0.5);\r\n  box-shadow: inset 0 0 8px rgba(0, 0, 0, 0.4);\r\n  border-radius: 2px;\r\n}\r\n.member-container #members .member-nav {\r\n  height: 24px;\r\n}\r\n.member-container #members .member-row {\r\n  height: 24px;\r\n}\r\n.member-container #tips_box {\r\n  padding: 8px 15px;\r\n  line-height: 20px;\r\n  display: inline-block;\r\n  position: fixed;\r\n  left: 50%;\r\n  top: 60%;\r\n  background: #f6f6f6;\r\n  border: 1px solid #838589;\r\n  z-index: 22222;\r\n  border-radius: 4px;\r\n  box-shadow: 0 0 5px #a0a3a8;\r\n  word-wrap: break-word;\r\n  max-width: 280px;\r\n}\r\n.member-container #tips_box .tri_masker {\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 1;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n}\r\n.member-container #tips_box #masker {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  background: #ccc;\r\n  opacity: 0.3;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 9999;\r\n}\r\n.member-container #tips_box .close_btn {\r\n  width: 12px;\r\n  height: 12px;\r\n  position: absolute;\r\n  top: 8px;\r\n  right: 10px;\r\n}\r\n.member-container #tips_box .close_btn:active .l, .member-container #tips_box .close_btn:active .r {\r\n  left: 1px;\r\n  top: 7px;\r\n}\r\n.member-container #tips_box .close_btn:focus {\r\n  outline: 1px dotted silver;\r\n}\r\n.member-container #tips_box .close_btn li {\r\n  border-top: 1px solid #333;\r\n  width: 10px;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 6px;\r\n}\r\n.member-container #tips_box .close_btn .l {\r\n  -webkit-transform: rotate(45deg);\r\n}\r\n.member-container #tips_box .close_btn .r {\r\n  -webkit-transform: rotate(135deg);\r\n}\r\n.member-container #tips_box .close_btn .tri_masker {\r\n  border: none;\r\n}\r\n.member-container #tips_box .close_btn:hover li {\r\n  border-color: #000;\r\n}\r\n.member-container #tips_box .close_btn {\r\n  right: 1px;\r\n  top: 1px;\r\n}\r\n.nograde .member-nav {\r\n  height: 24px;\r\n}\r\n.nograde .member-nav li.member-nav-role {\r\n  background: none;\r\n  width: 5%;\r\n}\r\n.nograde .member-nav li.member-nav-nick {\r\n  width: 30%;\r\n}\r\n.nograde .member-nav li.member-nav-card {\r\n  width: 30%;\r\n}\r\n.nograde .member-nav li.member-nav-grade-name {\r\n  width: 0px;\r\n  display: none;\r\n}\r\n.nograde .member-nav li.member-nav-grade-point {\r\n  width: 0px;\r\n  display: none;\r\n}\r\n.nograde .member-nav li.member-nav-last-talk {\r\n  width: 30%;\r\n}\r\n.nograde #gradeEditor {\r\n  display: none;\r\n}\r\n.nograde #members li.member-nav-role {\r\n  width: 5%;\r\n}\r\n.nograde #members li.member-nav-nick {\r\n  width: 30%;\r\n}\r\n.nograde #members li.member-nav-nick span.nick {\r\n  width: 135px;\r\n}\r\n.nograde #members li.member-nav-card {\r\n  width: 30%;\r\n}\r\n.nograde #members li.member-nav-card input {\r\n  display: none;\r\n  width: auto !important;\r\n}\r\n.nograde #members li.member-nav-card span.card {\r\n  width: 135px;\r\n}\r\n.nograde #members li.member-nav-grade-name {\r\n  width: 0;\r\n  display: none;\r\n}\r\n.nograde #members li.member-nav-grade-point {\r\n  width: 0;\r\n  display: none;\r\n}\r\n.nograde #members li.member-nav-last-talk {\r\n  width: 32%;\r\n}\r\n.nograde #members li.member-nav-last-talk span.last-talk {\r\n  padding-left: 7px;\r\n  width: 100px;\r\n  display: inline-block;\r\n}\r\n.nograde #members li button.role-owner, .nograde #members li button.role-admin, .nograde #members li button.set-admin, .nograde #members li button.view-info, .nograde #members li button.del-member, .nograde #members li button.mod-member {\r\n  margin: 1px 0 0 5px;\r\n}\r\n.has-member-tag .member-nav li.member-nav-role, .has-member-tag #members li.member-nav-role {\r\n  width: 4%;\r\n}\r\n.has-member-tag .member-nav li.member-nav-nick, .has-member-tag #members li.member-nav-nick {\r\n  width: 15%;\r\n}\r\n.has-member-tag .member-nav li.member-nav-card, .has-member-tag #members li.member-nav-card {\r\n  width: 15%;\r\n}\r\n.has-member-tag .member-nav li.member-nav-tag, .has-member-tag #members li.member-nav-tag {\r\n  width: 14%;\r\n}\r\n.has-member-tag .member-nav li.member-nav-grade-name, .has-member-tag #members li.member-nav-grade-name {\r\n  width: 11%;\r\n}\r\n.has-member-tag .member-nav li.member-nav-grade-name span, .has-member-tag #members li.member-nav-grade-name span {\r\n  padding-right: 0px;\r\n}\r\n.has-member-tag .member-nav li.member-nav-grade-name .grade-name-span, .has-member-tag #members li.member-nav-grade-name .grade-name-span {\r\n  padding-left: 0;\r\n  width: 100%;\r\n}\r\n.has-member-tag .member-nav li.member-nav-grade-point, .has-member-tag #members li.member-nav-grade-point {\r\n  width: 11%;\r\n}\r\n.has-member-tag .member-nav li.member-nav-grade-point span, .has-member-tag #members li.member-nav-grade-point span {\r\n  padding-right: 10px;\r\n}\r\n.has-member-tag .member-nav li.member-nav-grade-point .point-num, .has-member-tag #members li.member-nav-grade-point .point-num {\r\n  padding-left: 0;\r\n}\r\n.has-member-tag .member-nav li.member-nav-last-talk, .has-member-tag #members li.member-nav-last-talk {\r\n  width: 26%;\r\n}\r\n.has-member-tag .member-nav li.member-nav-last-talk .last-talk, .has-member-tag #members li.member-nav-last-talk .last-talk {\r\n  padding-left: 0;\r\n}\r\n.has-member-tag .member-nav li.mem-row-grade-point, .has-member-tag #members li.mem-row-grade-point {\r\n  width: 10%;\r\n}\r\n.has-member-tag #members li.member-nav-nick .nick {\r\n  width: 62px;\r\n}\r\n.has-member-tag #members li.member-nav-card {\r\n  overflow: hidden;\r\n}\r\n.has-member-tag #members li.member-nav-tag {\r\n  padding-left: 0px;\r\n  padding-right: 6px;\r\n}\r\n.has-member-tag #members li.member-nav-last-talk {\r\n  width: 24%;\r\n}\r\n.no-member-tag .member-nav li.member-nav-tag, .no-member-tag #members li.member-nav-tag {\r\n  display: none;\r\n  width: 0%;\r\n}\r\n#owner .toolbar button, #admin .toolbar button {\r\n  display: inline-block;\r\n}\r\n#owner .toolbar p.js-admin-word, #admin .toolbar p.js-admin-word {\r\n  display: block;\r\n}\r\n#owner .toolbar #batch-modify, #admin .toolbar #batch-modify {\r\n  display: inline-block;\r\n}\r\n#owner .batch-checkbox, #admin .batch-checkbox {\r\n  display: none;\r\n}\r\n#owner.batch-mode #add-member, #owner.batch-mode #modify-name, #owner.batch-mode #batch-modify, #admin.batch-mode #add-member, #admin.batch-mode #modify-name, #admin.batch-mode #batch-modify {\r\n  display: none;\r\n}\r\n#owner.batch-mode #batch-del-member, #owner.batch-mode #exit-batch-modify, #admin.batch-mode #batch-del-member, #admin.batch-mode #exit-batch-modify {\r\n  display: inline-block;\r\n}\r\n#owner.batch-mode .batch-checkbox, #admin.batch-mode .batch-checkbox {\r\n  display: inline-block;\r\n}\r\n#owner.batch-mode .view-info, #owner.batch-mode .mod-member, #owner.batch-mode .del-member, #owner.batch-mode .space, #owner.batch-mode .set-admin, #admin.batch-mode .view-info, #admin.batch-mode .mod-member, #admin.batch-mode .del-member, #admin.batch-mode .space, #admin.batch-mode .set-admin {\r\n  display: none;\r\n}\r\n#owner.batch-mode .member-row.focus, #admin.batch-mode .member-row.focus {\r\n  background: transparent;\r\n  color: #000;\r\n}\r\n#owner.batch-mode .member-row.focus.selected, #owner.batch-mode .member-row.focus.selected:hover, #admin.batch-mode .member-row.focus.selected, #admin.batch-mode .member-row.focus.selected:hover {\r\n  background: #3288c8;\r\n  background: -webkit-linear-gradient(top, #3f98d9, #3188c7);\r\n  color: #fff;\r\n}\r\n#member .toolbar button.js-modify-name {\r\n  display: inline-block;\r\n}\r\n#member .toolbar p.js-admin-word {\r\n  display: none;\r\n}\r\n#container_member #owner ul[data-black="1"], #container_member #admin ul[data-black="1"] {\r\n  color: gray;\r\n}\r\n#container_member #owner ul[data-black="1"] .pic, #container_member #admin ul[data-black="1"] .pic {\r\n  opacity: 0.5;\r\n}\r\n#container_member #owner ul[data-black="1"].focus, #container_member #admin ul[data-black="1"].focus {\r\n  color: white;\r\n}\r\n#container_member #owner ul[data-black="1"].focus .pic, #container_member #admin ul[data-black="1"].focus .pic {\r\n  opacity: 1;\r\n}\r\n#container_member #owner ul[data-black="1"] span.black-tip, #container_member #admin ul[data-black="1"] span.black-tip {\r\n  display: block;\r\n  width: 10px;\r\n  background: transparent url(modules/member/img/black-memger.png) no-repeat 0 6px;\r\n  cursor: default;\r\n}\r\n#container_member #owner ul[data-black="1"] span.black-tip + span.nick, #container_member #admin ul[data-black="1"] span.black-tip + span.nick {\r\n  width: 45px;\r\n}\r\n#container_member #owner ul[data-black="1"] span.black-tip:hover, #container_member #admin ul[data-black="1"] span.black-tip:hover {\r\n  background: transparent url(modules/member/img/black-memger-hover.png) no-repeat 0 6px;\r\n}\r\n#container_member #owner #back-normal-member-list, #container_member #admin #back-normal-member-list {\r\n  float: left;\r\n  margin-right: 10px;\r\n}\r\n#container_member #owner.black-member-mode, #container_member #admin.black-member-mode {\r\n  \r\n}\r\n#container_member #owner.black-member-mode ul[data-black="1"], #container_member #admin.black-member-mode ul[data-black="1"] {\r\n  color: black;\r\n}\r\n#container_member #owner.black-member-mode ul[data-black="1"] .pic, #container_member #admin.black-member-mode ul[data-black="1"] .pic {\r\n  opacity: 1;\r\n}\r\n#container_member #owner.black-member-mode ul[data-black="1"] span.black-tip, #container_member #admin.black-member-mode ul[data-black="1"] span.black-tip {\r\n  display: none;\r\n}\r\n#container_member #owner.black-member-mode .toolbar, #container_member #admin.black-member-mode .toolbar {\r\n  display: none;\r\n}\r\n#container_member #owner.black-member-mode #block-member-toolbar, #container_member #admin.black-member-mode #block-member-toolbar {\r\n  display: block;\r\n}\r\n#container_member #owner.black-member-mode #block-member-toolbar p, #container_member #admin.black-member-mode #block-member-toolbar p {\r\n  color: #808080;\r\n}\r\n#container_member #owner.black-member-mode button.del-member, #container_member #admin.black-member-mode button.del-member {\r\n  background-position: -1px -196px;\r\n}\r\n#container_member #owner.black-member-mode button.view-info, #container_member #admin.black-member-mode button.view-info {\r\n  background-position: -1px -218px;\r\n}\r\n#container_member #owner.black-member-mode .set-admin, #container_member #owner.black-member-mode .mod-member, #container_member #owner.black-member-mode .space, #container_member #admin.black-member-mode .set-admin, #container_member #admin.black-member-mode .mod-member, #container_member #admin.black-member-mode .space {\r\n  display: none;\r\n}\r\n#owner button.role-admin:hover {\r\n  cursor: pointer;\r\n  border: 1px solid rgba(79, 89, 96, 0.5);\r\n  box-shadow: inset 0 0 8px rgba(0, 0, 0, 0.4);\r\n  border-radius: 2px;\r\n}\r\n#owner ul.owner button.del-member:hover,\r\n#admin ul.admin button.del-member:hover,\r\n#admin ul.owner button.del-member:hover,\r\n#admin ul.member button.set-admin:hover,\r\n#member ul.admin button.set-admin:hover,\r\n#member ul.member button.set-admin:hover,\r\n#member ul.owner button.del-member:hover,\r\n#member ul.admin button.del-member:hover,\r\n#member ul.member button.del-member:hover {\r\n  border: none;\r\n  box-shadow: none;\r\n  cursor: default;\r\n}\r\n#owner ul.admin:hover button.del-member,\r\n#owner ul.member:hover button.del-member,\r\n#admin ul.member:hover button.del-member {\r\n  background-position: -1px -196px;\r\n}\r\n#owner ul:hover button.set-admin {\r\n  background-position: 0px -131px;\r\n}\r\n.context-menu {\r\n  position: absolute;\r\n  z-index: 2;\r\n  width: 120px;\r\n  background: white url(modules/member/img/menu_bg.png) no-repeat 1px 1px;\r\n  background-size: 25px 99%;\r\n  padding: 1px;\r\n  border-radius: 2px;\r\n  border: 1px solid #889095;\r\n  display: none;\r\n}\r\n.context-menu li {\r\n  padding-left: 30px;\r\n  cursor: auto;\r\n  line-height: 25px;\r\n}\r\n.context-menu li.shield {\r\n  background: transparent url(modules/member/img/navshield.png) no-repeat 5px center;\r\n}\r\n.context-menu li.gag {\r\n  background: transparent url(modules/member/img/ungag.png) no-repeat 4px 5px;\r\n}\r\n.context-menu li.gag:hover {\r\n  background-image: url(modules/member/img/gag-hover.png) no-repeat 0 center;\r\n}\r\n.context-menu li.ungag {\r\n  background: transparent url(modules/member/img/ungag.png) no-repeat 4px 5px;\r\n}\r\n.context-menu li.ungag:hover {\r\n  background-image: url(modules/member/img/ungag.png) no-repeat 4px 5px;\r\n}\r\n.context-menu li:hover, .context-menu li.hover {\r\n  cursor: default;\r\n  background: -webkit-linear-gradient(top, #3f98d9, #3188c7);\r\n  color: #fff;\r\n}\r\n.context-menu li:hover.gag, .context-menu li.hover.gag {\r\n  background: url(modules/member/img/gag-hover.png) no-repeat 0 center, -webkit-linear-gradient(top, #3f98d9, #3188c7);\r\n}\r\n.context-menu li:hover.ungag, .context-menu li.hover.ungag {\r\n  background: url(modules/member/img/ungag.png) no-repeat 4px 5px, -webkit-linear-gradient(top, #3f98d9, #3188c7);\r\n}\r\n.context-menu li#shield {\r\n  background: red;\r\n}\r\n.context-sec-menu {\r\n  width: auto;\r\n}\r\n.context-sec-menu li {\r\n  padding-right: 12px;\r\n}\r\n.loading {\r\n  width: 123px;\r\n  height: 35px;\r\n  margin: -19px 0 0 -62px;\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  background: #fff;\r\n  border: 1px solid #8d8f92;\r\n  z-index: 22222;\r\n  border-radius: 4px;\r\n  box-shadow: 0 0 5px #a0a3a8;\r\n  text-align: center;\r\n  line-height: 35px;\r\n}\r\n.loading img {\r\n  width: 14px;\r\n  height: 14px;\r\n  vertical-align: middle;\r\n}\r\n#retry {\r\n  width: 123px;\r\n  height: 35px;\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  margin: -17px -61px;\r\n}\r\n#editorBox {\r\n  position: absolute;\r\n  z-index: 2001;\r\n  width: 297px;\r\n  height: 350px;\r\n  left: 170px;\r\n  top: 80px;\r\n  border: solid 1px #4e6c79;\r\n  border-radius: 5px;\r\n  background: #f1f7fa;\r\n}\r\n#editorBox h3 {\r\n  height: 72px;\r\n  font-weight: bold;\r\n  background-image: -webkit-linear-gradient(top, #80c2eb, #f1f7fa, #f1f7fa);\r\n}\r\n#editorBox h3 span {\r\n  display: inline-block;\r\n  line-height: 32px;\r\n  padding-left: 30px;\r\n  background: transparent url(http://3.url.cn/res/common/header/qq_22.png) 5px 5px no-repeat;\r\n}\r\n#editorBox .editorCloser {\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n  width: 40px;\r\n  height: 20px;\r\n  background: transparent url(modules/member/img/closer.png) no-repeat 0 -2px;\r\n  cursor: pointer;\r\n}\r\n#editorBox .editorCloser:hover {\r\n  background-position: -40px -2px;\r\n}\r\n#editorBox ul li {\r\n  height: 33px;\r\n  padding-left: 42px;\r\n}\r\n#editorBox ul li input {\r\n  border: solid 1px #9ab9cc;\r\n  width: 200px;\r\n  height: 22px;\r\n  line-height: 22px;\r\n  padding-left: 4px;\r\n}\r\n#editorBox .errorBox {\r\n  display: none;\r\n  color: #f00;\r\n  padding-left: 42px;\r\n}\r\n#editorBox .btnBox {\r\n  text-align: right;\r\n  margin-top: 50px;\r\n  background: #cce1ee;\r\n  width: 100%;\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  height: 24px;\r\n  padding: 3px 0;\r\n}\r\n#editorBox .btnBox input {\r\n  width: 65px;\r\n  height: 22px;\r\n  border: 1px solid #919294;\r\n  border-radius: 4px;\r\n  background-color: #fcfcfd;\r\n  box-shadow: 0 6px 6px -6px #707c8a;\r\n  margin-right: 5px;\r\n  cursor: pointor;\r\n}\r\n#editorBox .btnBox input:hover {\r\n  background-image: -webkit-linear-gradient(top, #d5effd, #dcf1fd);\r\n}\r\n#recordBox {\r\n  position: absolute;\r\n  z-index: 3001;\r\n  width: 426px;\r\n  height: 238px;\r\n  left: 105px;\r\n  top: 135px;\r\n  border: solid 1px #4e6c79;\r\n  border-radius: 5px;\r\n  background: #f1f7fa;\r\n}\r\n#recordBox h3 {\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  height: 30px;\r\n  background-image: -webkit-linear-gradient(top, #80c2eb, #f1f7fa);\r\n}\r\n#recordBox h3 span {\r\n  display: inline-block;\r\n  line-height: 26px;\r\n  padding-left: 30px;\r\n  background: transparent url(modules/member/img/QQicon16.png) 6px 6px no-repeat;\r\n}\r\n#recordBox .boxCloser {\r\n  border: 0px;\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n  width: 40px;\r\n  height: 20px;\r\n  background: transparent url(modules/member/img/closer.png) no-repeat 0 -2px;\r\n  cursor: pointer;\r\n}\r\n#recordBox .boxCloser:hover {\r\n  background-position: -40px -2px;\r\n}\r\n#recordBox .tip-container {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 158px;\r\n  top: 55px;\r\n  background: #f2f7fb;\r\n  text-align: center;\r\n}\r\n#recordBox .tip-container .tip-msg {\r\n  color: #333;\r\n  font-size: 12px;\r\n  background: transparent url(modules/member/img/iconinfo2.png) no-repeat 0 1px;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  padding-left: 20px;\r\n  top: 62px;\r\n  position: relative;\r\n}\r\n#recordBox .record-nav {\r\n  width: 100%;\r\n  height: 23px;\r\n  background: -webkit-gradient(linear, left top, left bottom, from(#c5cbe7), to(#d5d9ec));\r\n}\r\n#recordBox .record-nav li {\r\n  height: 23px;\r\n  line-height: 23px;\r\n  background: transparent url(modules/member/img/icons.png) no-repeat 0 -260px;\r\n  display: inline-block;\r\n}\r\n#recordBox .record-nav li:first-child {\r\n  background: none;\r\n  width: 82px;\r\n}\r\n#recordBox .record-nav li:nth-child(2) {\r\n  width: 103px;\r\n}\r\n#recordBox .record-nav li:last-child {\r\n  width: 232px;\r\n}\r\n#recordBox .record-nav span {\r\n  padding-left: 12px;\r\n  padding-right: 15px;\r\n}\r\n#recordBox .record-nav span.desc, #recordBox .record-nav span.asc {\r\n  background: transparent url(modules/member/img/desc.png) no-repeat right center;\r\n}\r\n#recordBox .record-nav span.asc {\r\n  background-image: url(modules/member/img/asc.png);\r\n}\r\n#recordBox #operation-wrapper {\r\n  overflow-y: auto;\r\n  height: 155px;\r\n  background: #f6f6f6;\r\n}\r\n#recordBox #records {\r\n  width: 100%;\r\n  background: transparent url(modules/member/img/member-list-bg.png);\r\n  background-attachment: scroll;\r\n  position: relative;\r\n}\r\n#recordBox #records ul {\r\n  height: 24px;\r\n  clear: both;\r\n  overflow: hidden;\r\n  outline: none;\r\n  \r\n  border: 1px solid transparent;\r\n  \r\n}\r\n#recordBox #records ul:hover {\r\n  background: #ffe2a2;\r\n  \r\n}\r\n#recordBox #records ul:hover button.mod-member {\r\n  background-position: -1px -240px;\r\n}\r\n#recordBox #records ul:hover button.view-info {\r\n  background-position: -1px -218px;\r\n}\r\n#recordBox #records ul.selected, #recordBox #records ul.selected:hover, #recordBox #records ul.focus {\r\n  background: #3288c8;\r\n  background: -webkit-linear-gradient(top, #3f98d9, #3188c7);\r\n  color: #fff;\r\n  border: 1px solid #3288c8;\r\n}\r\n#recordBox #records li, #recordBox #records li img {\r\n  float: left;\r\n}\r\n#recordBox #records li {\r\n  height: 23px;\r\n  line-height: 23px;\r\n  padding-top: 2px;\r\n}\r\n#recordBox #records li span {\r\n  padding: 0px 0 0 15px;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: block;\r\n}\r\n#recordBox #records li .pic {\r\n  float: left;\r\n  width: 18px;\r\n  height: 18px;\r\n  margin: 4px 8px 0 5px;\r\n  position: relative;\r\n  padding: 0;\r\n}\r\n#recordBox #records li:first-child {\r\n  width: 82px;\r\n}\r\n#recordBox #records li:first-child span {\r\n  padding-left: 7px;\r\n}\r\n#recordBox #records li:nth-child(2) {\r\n  width: 103px;\r\n}\r\n#recordBox #records li:last-child {\r\n  width: 227px;\r\n}\r\n#recordBox #records li:last-child span {\r\n  padding-left: 17px;\r\n}\r\n#recordBox .errorBox {\r\n  display: none;\r\n  color: #f00;\r\n  padding-left: 42px;\r\n}\r\n#recordBox .btnBox {\r\n  text-align: right;\r\n  margin-top: 50px;\r\n  background: #cce1ee;\r\n  width: 100%;\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  height: 24px;\r\n  padding: 3px 0;\r\n}\r\n#recordBox .btnBox .info {\r\n  color: #666;\r\n  position: absolute;\r\n  left: 7px;\r\n  top: 6px;\r\n}\r\n#recordBox .btnBox .info .admin-detail img {\r\n  margin-bottom: -1px;\r\n}\r\n#recordBox .btnBox input {\r\n  width: 65px;\r\n  height: 22px;\r\n  border: 1px solid #919294;\r\n  border-radius: 4px;\r\n  background-color: #fcfcfd;\r\n  box-shadow: 0 6px 6px -6px #707c8a;\r\n  margin-right: 5px;\r\n  cursor: pointor;\r\n}\r\n#recordBox .btnBox input#export {\r\n  margin-right: 1px;\r\n  width: 98px;\r\n}\r\n#recordBox .btnBox input:hover {\r\n  background-image: -webkit-linear-gradient(top, #d5effd, #dcf1fd);\r\n}\r\n.mem-tag {\r\n  display: inline-block;\r\n  width: 100%;\r\n  line-height: 12px;\r\n  height: 100%;\r\n  cursor: pointer;\r\n}\r\n.mem-tag:hover {\r\n  border: 1px solid #ccc;\r\n}\r\n.mem-tag:focus {\r\n  border: 1px solid #ccc;\r\n}\r\n.dd-select-common .dd-select {\r\n  margin-top: 1px;\r\n  border: 1px solid transparent;\r\n  position: relative;\r\n  cursor: default;\r\n}\r\n.dd-select-common .dd-selected {\r\n  display: block;\r\n  overflow: hidden;\r\n  font-weight: normal;\r\n  font-size: 12px;\r\n  line-height: 18px;\r\n  padding-left: 4px;\r\n  padding-right: 15px;\r\n  color: #000;\r\n}\r\n.dd-select-common .dd-selected .dd-selected-text {\r\n  color: #000;\r\n  box-sizing: padding-box;\r\n  display: inline-block;\r\n  width: 100%;\r\n  padding-right: 5px;\r\n  display: block;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  cursor: pointer;\r\n}\r\n.dd-select-common .dd-options {\r\n  display: none;\r\n  max-height: 208px;\r\n}\r\n.dd-select-common .dd-options li {\r\n  height: auto !important;\r\n}\r\n.dd-select-common .dd-options li .dd-option .dd-option-text {\r\n  box-sizing: padding-box;\r\n  display: inline-block;\r\n  width: 100%;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  display: block;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n}\r\n.dd-select-common .dd-options-min-height {\r\n  max-height: 78px;\r\n}\r\n.dd-select-enable {\r\n  position: relative;\r\n}\r\n.dd-select-enable .dd-select {\r\n  border: solid 1px #ccc;\r\n  position: relative;\r\n  cursor: pointer;\r\n}\r\n.dd-select-enable .dd-desc {\r\n  color: #aaa;\r\n  display: block;\r\n  overflow: hidden;\r\n  font-weight: normal;\r\n  line-height: 1.4em;\r\n}\r\n.dd-select-enable .dd-selected {\r\n  overflow: hidden;\r\n  display: block;\r\n}\r\n.dd-select-enable .dd-pointer {\r\n  width: 0;\r\n  height: 0;\r\n  position: absolute;\r\n  right: 5px;\r\n  top: 50%;\r\n  margin-top: -3px;\r\n}\r\n.dd-select-enable .dd-pointer-down {\r\n  border: solid 5px transparent;\r\n  border-top: solid 5px #000;\r\n}\r\n.dd-select-enable .dd-pointer-up {\r\n  border: solid 5px transparent !important;\r\n  border-bottom: solid 5px #000 !important;\r\n  margin-top: -8px;\r\n}\r\n.dd-select-enable .dd-options {\r\n  border: solid 1px #ccc;\r\n  list-style: none;\r\n  box-shadow: 0px 1px 5px #ddd;\r\n  display: none;\r\n  position: absolute;\r\n  z-index: 2;\r\n  margin: 0;\r\n  padding: 0;\r\n  background: #fff;\r\n  overflow: auto;\r\n}\r\n.dd-select-enable .dd-option {\r\n  padding: 0px;\r\n  padding-top: 4px;\r\n  padding-bottom: 4px;\r\n  \r\n  display: block;\r\n  border-bottom: solid 1px #ddd;\r\n  overflow: hidden;\r\n  text-decoration: none;\r\n  color: #333;\r\n  cursor: pointer;\r\n  \r\n}\r\n.dd-select-enable .dd-options li {\r\n  width: 100%;\r\n  padding-left: 0px !important;\r\n}\r\n.dd-select-enable .dd-options > li:last-child > .dd-option {\r\n  border-bottom: none;\r\n}\r\n.dd-select-enable .dd-options:hover .dd-option:hover {\r\n  background: #3288c8;\r\n  color: #fff;\r\n}\r\n.dd-select-enable .dd-options:hover .dd-option-selected {\r\n  background: transparent;\r\n  color: #000;\r\n}\r\n.dd-select-enable .dd-selected-description-truncated {\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n.dd-select-enable .dd-option-selected {\r\n  \r\n  background: #3288c8;\r\n  color: #fff;\r\n}\r\n.dd-select-enable .dd-option-image, .dd-select-enable .dd-selected-image {\r\n  vertical-align: middle;\r\n  float: left;\r\n  margin-right: 5px;\r\n  max-width: 64px;\r\n}\r\n.dd-select-enable .dd-image-right {\r\n  float: right;\r\n  margin-right: 15px;\r\n  margin-left: 5px;\r\n}\r\n.dd-select-enable .dd-select {\r\n  height: 20px;\r\n  border: 1px solid transparent;\r\n  margin-top: 1px;\r\n  background: none;\r\n}\r\n.dd-select-enable .dd-select .dd-pointer {\r\n  display: none;\r\n}\r\n.dd-select-enable .dd-select .dd-pointer-down, .dd-select-enable .dd-select .dd-pointer-up {\r\n  display: none;\r\n  width: 0 !important;\r\n  height: 0 !important;\r\n  padding: 0 !important;\r\n  border: 5px solid transparent !important;\r\n  border-top-color: #000 !important;\r\n}\r\n.dd-select-enable .dd-select .dd-pointer-down {\r\n  border: 5px solid transparent !important;\r\n  border-top-color: #000 !important;\r\n}\r\n.dd-select-enable .dd-select .dd-pointer-up {\r\n  border: 5px solid transparent !important;\r\n  border-bottom-color: #000 !important;\r\n}\r\n.dd-select-enable .dd-select:hover {\r\n  border: 1px solid #a7c3d3;\r\n  border-radius: 2px;\r\n  background: #fff !important;\r\n}\r\n.dd-select-enable .dd-select:hover .dd-selected-text {\r\n  color: #000;\r\n  cursor: pointer;\r\n}\r\n.dd-select-enable .dd-select:hover .dd-pointer {\r\n  display: inline-block;\r\n  border-top-color: #ccc !important;\r\n}\r\n.dd-select-enable .dd-select:hover .dd-pointer-down {\r\n  border: 5px solid transparent !important;\r\n  border-top-color: #000 !important;\r\n}\r\n.dd-select-enable .dd-select:hover .dd-pointer-up {\r\n  border: 5px solid transparent !important;\r\n  border-bottom-color: #000 !important;\r\n}\r\n.dd-select-enable .dd-select.dd-select-open {\r\n  border: 1px solid #a7c3d3;\r\n  border-radius: 2px;\r\n  background: #fff !important;\r\n  color: #000;\r\n}\r\n.dd-select-enable .dd-select.dd-select-open .dd-selected-text {\r\n  color: #000;\r\n}\r\n.dd-select-enable .dd-select.dd-select-open .dd-pointer {\r\n  display: inline-block;\r\n  border-top-color: #ccc !important;\r\n}\r\n.dd-select-enable .dd-select.dd-select-open .dd-pointer-up {\r\n  border: 5px solid transparent !important;\r\n  border-bottom-color: #000 !important;\r\n}\r\n.dd-select-disable .dd-selected .dd-selected-text {\r\n  color: #000;\r\n  cursor: default;\r\n}\r\n.focus .dd-selected .dd-selected-text {\r\n  color: #fff;\r\n}\r\n.batch-mode .focus .dd-selected .dd-selected-text {\r\n  color: #000;\r\n}\r\n.batch-mode .selected .dd-selected .dd-selected-text {\r\n  color: #fff;\r\n}\r\n.group-member-tag-panel {\r\n  display: none;\r\n  position: absolute;\r\n  z-index: 2000;\r\n  top: 20px;\r\n  left: 20px;\r\n  width: 338px;\r\n  height: 151px;\r\n  background: #fff;\r\n}\r\n.group-member-tag-panel .title {\r\n  height: 25px;\r\n}\r\n.group-member-tag-panel .bottom {\r\n  height: 34px;\r\n}\r\n.group-member-tag-panel .bottom .confirm, .group-member-tag-panel .bottom .save {\r\n  float: right;\r\n  margin-right: 6px;\r\n  padding: 5px;\r\n  border: 1px solid #ccc;\r\n}\r\n.client-popup {\r\n  display: none;\r\n  position: absolute;\r\n  z-index: 2001;\r\n  width: 297px;\r\n  height: 155px;\r\n  left: 170px;\r\n  top: 162px;\r\n  border: solid 1px #4e6c79;\r\n  border-radius: 5px;\r\n  background: #f1f7fa;\r\n}\r\n.client-popup .client-popup-title {\r\n  height: 36px;\r\n  font-weight: bold;\r\n  background-image: -webkit-linear-gradient(top, #80c2eb, #afdcf8, #f1f7fa);\r\n}\r\n.client-popup .client-popup-title span {\r\n  display: inline-block;\r\n  line-height: 32px;\r\n  padding-left: 30px;\r\n  background: transparent url(http://3.url.cn/res/common/header/qq_22.png) 5px 5px no-repeat;\r\n}\r\n.client-popup .editorCloser {\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n  width: 40px;\r\n  height: 20px;\r\n  background: transparent url(modules/member/img/closer.png) no-repeat 0 -2px;\r\n  cursor: pointer;\r\n}\r\n.client-popup .editorCloser:hover {\r\n  background-position: -40px -2px;\r\n}\r\n.client-popup .errorBox {\r\n  display: none;\r\n  color: #f00;\r\n  padding-left: 42px;\r\n}\r\n.client-popup .client-popup-btnBox {\r\n  text-align: right;\r\n  margin-top: 50px;\r\n  background: #cce1ee;\r\n  width: 100%;\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  height: 24px;\r\n  padding: 3px 0;\r\n}\r\n.client-popup .client-popup-btnBox .client-popup-confirm, .client-popup .client-popup-btnBox .client-popup-cancel {\r\n  width: 65px;\r\n  height: 22px;\r\n  border: 1px solid #919294;\r\n  border-radius: 4px;\r\n  background-color: #fcfcfd;\r\n  box-shadow: 0 6px 6px -6px #707c8a;\r\n  margin-right: 5px;\r\n  cursor: pointor;\r\n}\r\n.client-popup .client-popup-btnBox .client-popup-confirm:hover, .client-popup .client-popup-btnBox .client-popup-cancel:hover {\r\n  background-image: -webkit-linear-gradient(top, #d5effd, #dcf1fd);\r\n}\r\n.member-tag-panel-content {\r\n  position: relative;\r\n}\r\n.member-tag-panel-content .member-tag-panel-alert-icon {\r\n  display: inline-block;\r\n  position: absolute;\r\n  width: 38px;\r\n  height: 38px;\r\n  top: 15px;\r\n  left: 27px;\r\n  background: url(modules/member/img/alert-icon.png);\r\n}\r\n.member-tag-panel-content .member-tag-panel-edit-area {\r\n  margin-left: 80px;\r\n}\r\n.member-tag-panel-content .member-tag-panel-edit-area .wording {\r\n  line-height: 20px;\r\n  padding-right: 40px;\r\n}\r\n.member-tag-panel-content .member-tag-panel-edit-area .dd-select {\r\n  border: 1px solid #a7c3d3;\r\n  border-radius: 2px;\r\n  background: #fff !important;\r\n}\r\n.member-tag-panel-content .member-tag-panel-edit-area .dd-select .dd-selected-text {\r\n  color: #000;\r\n}\r\n.member-tag-panel-content .member-tag-panel-edit-area .dd-select .dd-pointer {\r\n  display: inline-block;\r\n  border-top-color: #ccc !important;\r\n}\r\n.member-tag-panel-content .member-tag-panel-edit-area .dd-select .dd-pointer-down {\r\n  border: 5px solid transparent !important;\r\n  border-top-color: #000 !important;\r\n}\r\n.member-tag-panel-content .member-tag-panel-edit-area .dd-select .dd-pointer-up {\r\n  border: 5px solid transparent !important;\r\n  border-bottom-color: #000 !important;\r\n}\r\n#dragable-mask {\r\n  display: none;\r\n  position: absolute;\r\n  z-index: 11;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: transparent;\r\n}\r\n.adv-member-tips {\r\n  position: absolute;\r\n  z-index: 11;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: url(modules/member/img/member-tips.png) no-repeat 130px 144px;\r\n}\r\n.adv-member-tips .adv-member-manage {\r\n  position: absolute;\r\n  z-index: 12;\r\n  top: 168px;\r\n  left: 420px;\r\n}\r\n.adv-member-tips .adv-member-manage a {\r\n  cursor: pointer;\r\n}\r\n.adv-member-tips .adv-member-close {\r\n  width: 75px;\r\n  height: 25px;\r\n  bottom: 11px;\r\n  right: 21px;\r\n  position: absolute;\r\n  background: url(modules/index/img/profile_guide_exit.png) no-repeat;\r\n}\r\n.adv-member-mask {\r\n  position: absolute;\r\n  z-index: 10;\r\n  top: 15px;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: #000;\r\n  opacity: 0.7;\r\n}\r\n'});
define("modules/member/js/gradeEditor","jquery,modules/setting/js/common/client,modules/setting/js/common/cgi,modules/setting/js/common/str,modules/setting/js/common/cookie,modules/common/js/reportPatchJquery,text!../css/member.css".split(","),function(a,e,l,c,i,h,n){var r=a.report.ReportFactory({bId:187,config:{1:{aId:1113},2:{aId:1114},3:{aId:1115},4:{aId:1116},5:{aId:1117},6:{aId:1118}}}),j,d,f,y,g,v=function(){function a(b,d,c){return!d&&!c?f[b]||b:String.fromCharCode(d||c)}function b(a){return o[a]}
var d=/&quot;|&lt;|&gt;|&amp;|&nbsp;|&apos;|&#(\d+);|&#(\d+)/g,c=/['<> "&]/g,f={"&quot;":'"',"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" "},e=/\u00a0/g,g=/<br\s*\/?>/ig,j=/\r?\n/g,h=/\s/g,o={},i;for(i in f)o[f[i]]=i;f["&apos;"]="'";o["'"]="&#39;";return{encode:function(a){return a?(""+a).replace(c,b).replace(j,"<br/>").replace(h,"&nbsp;"):""},decode:function(b){return b?(""+b).replace(g,"\n").replace(d,a).replace(e," "):""}}}(),o=function(){l.getLevelName(function(a){d=a.levelname?a.levelname:{lvln1:"\u65b0\u624b",
lvln2:"\u521d\u7ea7",lvln3:"\u4e2d\u7ea7",lvln4:"\u9ad8\u7ea7",lvln5:"\u8d44\u6df1",lvln6:"\u81f3\u5c0a"};f=s(d);j&&j.getNameSuc&&j.getNameSuc(d)})},s=function(a){var b={},d;for(d in a)b[d]=a[d];return b},p=function(){for(var b=1;b<=6;b++)a("#lvln"+b).val(v.decode(d["lvln"+b]));a("#errorBox").hide();a("#editorBox").hide()},C=function(){var c=b(),e={},h=false;if(c)g[c].focus();else{for(c=1;c<7;c++)a("#lvln"+c).val()!==v.decode(d["lvln"+c])&&(e["lvln"+c]=v.decode(a("#lvln"+c).val()),h=true,r(c));h?
l.setSetting(e,function(b){b.ec==0?(d=s(f),p(),j&&j.nameChanged&&j.nameChanged(d)):b.ec==12?a("#errorBox").show().html("\u5185\u5bb9\u5305\u542b\u654f\u611f\u8bcd\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165"):b.ec==13?a("#errorBox").show().html("\u6bcf\u4e2a\u7b49\u7ea7\u5934\u8854\u6bcf\u5929\u6700\u591a\u53ef\u4fee\u6539\u4e09\u6b21 "):a("#errorBox").show().html("\u670d\u52a1\u5668\u7e41\u5fd9")}):p()}},b=function(){for(var a={},b=false,d=0;d<6;d++)if(a[g[d].value]){b=d;break}else a[g[d].value]=1;return b},
w=function(){if(!y){for(var b="",e=6;e>=1;e--)b+='<li><input type="text" value="'+d["lvln"+e]+'" id=lvln'+e+" index="+e+" /></li>";a("body").append('<div id="editorBox">                <div id="editorCloser" class="editorCloser" ></div>                <h3><span>\u7f16\u8f91\u7b49\u7ea7\u5934\u8854</span></h3>                <ul style="background:transparent;">'+b+'</ul>                <div style="color:#96999e;padding-left:42px;position:relative;top:-2px;">\u76f8\u5e94\u7b49\u7ea7\u5934\u8854\u540d\u79f0\u4f1a\u51fa\u73b0\u5728\u7fa4\u804a\u5929\u7a97\u53e3\u4e2d\u3002</div>                <div class="errorBox" id="errorBox">\u8bf7\u5bf9\u4e0d\u540c\u7b49\u7ea7\u4f7f\u7528\u4e0d\u540c\u5934\u8854</div>                <div class="btnBox">                    <input type="button" id="editorSave" value="\u4fdd\u5b58"/><input type="button" id="editorCancel" value="\u53d6\u6d88"/>                </div>            </div>');
y=a("#editorBox");g=y.find("ul li input");a("#editorSave").click(C).bind("keydown",function(a){switch(a.keyCode){case 13:C()}});a("#editorCancel").click(p).bind("keydown",function(a){switch(a.keyCode){case 13:p()}});a("#editorCloser").click(p).bind("keydown",function(a){switch(a.keyCode){case 13:p()}});g.blur(function(){var b=a(this).attr("index"),d=v.encode(this.value),c=f["lvln"+b];if(d==""||this.value.replace(/^\s+|\s+$/ig,"")=="")this.value=v.decode(c),d=c;f["lvln"+b]=d;b={};d=false;for(c=1;c<=
6;c++)if(b[f["lvln"+c]]){d=c;a("#errorBox").show();break}else b[f["lvln"+c]]=1;d||a("#errorBox").hide()}).bind("input",function(){if(a(this).prop("compositionstart")!=true&&c.byteLen(this.value,3)>=6)this.value=c.getMaxlen(this.value,6)}).bind("focus",function(){var a=this;window.setTimeout(function(){a.select()},0)}).bind("keydown",function(a){switch(a.keyCode){case 13:C()}}).bind("compositionstart",function(){a(this).prop("compositionstart",true);console.log("compositionstart")}).bind("compositionend",
function(){a(this).prop("compositionstart",false);console.log("compositionend")});y.click(function(a){a.stopPropagation()})}},z=function(a){w();y.length&&y.show();a.stopPropagation()},u=function(a){a=window.location.hash.match(RegExp("(#|&)"+a+"=([^&]*)(&|$)"));return!a?"":decodeURIComponent(a[2])},L=function(){},G=function(){},H=function(){};return{init:function(b){j=b;b=j.containerId;e.init({getGroupMemberOption:{name:"GetGroupMemberOptionEx",json:true},getGroupMemberInviteOption:"GetGroupMemberInvateOption",
getGroupMsgOption:"GetGroupMsgOption",getGroupVideoOption:"GetGroupVideoOption",isGroupManager:"IsGroupManager",isSetGVideoSvrFlag:"IsSetGVideoSvrFlag",setGroupMemberOption:"SetGroupMemberOption",setGroupMemberOptionEx:"SetGroupMemberOptionEx",setGroupMemberInviteOption:"SetGroupMemberInvateOption",setGroupMsgOption:"SetGroupMsgOption",setGroupVideoOption:"SetGroupVideoOption",onShowTips:"OnShowTips"},{allowConcurrent:false});l.init({getSetting:{url:"/cgi-bin/qun_info/get_group_setting",method:"get"},
setSetting:"/cgi-bin/qun_info/set_group_setting",getLevelName:"/cgi-bin/qun_info/get_group_level_info"},{allowConcurrent:false,defaultParams:{gc:""+(e.getGroupUin()||u("groupuin"))},client:e});a("<style>").html(n).appendTo(a("head"));a("#"+b).unbind("click",z).bind("click",z);a("#editorBox").bind("keypress",L).bind("keyup",G).bind("keydown",H);o()},hide:p}});define("modules/member/js/recordBox","jquery,modules/setting/js/common/client,modules/setting/js/common/cgi,modules/common/js/db,modules/setting/js/common/str,modules/setting/js/common/cookie,modules/common/js/reportPatchJquery".split(","),
function(a,e,l,c){function i(a){var b=f.recordDom,d='<div id="records">';a&&a.length>0?(j.hide(),a.forEach(function(a){var k;k=b[a.id]='<ul>                        <li><span class="nick" title="'+a.nick+'">'+a.nick+'</span></li>                         <li><span class="time">'+a.time+'</span></li>                        <li><span class="operation" title="'+a.content+'">'+a.content+"</span></li>                   </ul>",a=k;d+=a}),d+="</div>",r.html(d)):j.show()}var h=null,n,r,j,d,f,y=function(d){h&&
h.length>0||(d=d.classname||"",a("body").append('<div id="recordBox" class="'+d+'">                <button id="boxCloser" class="boxCloser" ></button>                <h3><span>\u7fa4\u7ba1\u7406\u8005\u64cd\u4f5c\u8bb0\u5f55</span></h3>                <div id="record_content" class="content" >                </div>                <div class="tip-container" id="tip-container" style="display:none">                    <label class="tip-msg">\u8fd1\u4e24\u5468\u5185\u7fa4\u4e3b\u3001\u7ba1\u7406\u5458\u6682\u65e0\u201c\u901a\u8fc7\u52a0\u7fa4\u8eab\u4efd\u9a8c\u8bc1\u201d\u7b49\u64cd\u4f5c\u8bb0\u5f55</label>                </div>                <div class="btnBox">                    <span class="info" >\u652f\u6301\u67e5\u770b\u6700\u8fd1100\u6761\u64cd\u4f5c\u8bb0\u5f55                        <a class="admin-detail" aria-label="\u8fd1\u4e24\u5468\u64cd\u4f5c\u8bb0\u5f55\u8bf7\u5bfc\u51fa\u67e5\u770b" title="\u8fd1\u4e24\u5468\u64cd\u4f5c\u8bb0\u5f55\u8bf7\u5bfc\u51fa\u67e5\u770b" href="javascript:void(0)" tabindex="-1"><img src="modules/member/img/admindetail.png"></a>                    </span>                    <input type="button" id="export" value="\u5bfc\u51fa\u64cd\u4f5c\u8bb0\u5f55"/>                    <input type="button" id="closeRecordBox" value="\u5173\u95ed"/>                </div>            </div>'),
h=a("#recordBox"),n=a("#record_content"),j=a("#tip-container"),a("#closeRecordBox").click(s).bind("keydown",function(a){switch(a.keyCode){case 13:s()}}),h.find(".boxCloser").click(s).bind("keydown",function(a){switch(a.keyCode){case 13:s()}}),a("#export").click(o).bind("keydown",function(a){switch(a.keyCode){case 13:o()}}),n.html('<ul class="record-nav">            <li data-sq="nick" tabindex="0" aria-label="\u6309\u64cd\u4f5c\u8005\u6635\u79f0\u6392\u5e8f"><span>\u64cd\u4f5c\u8005</span></li>            <li data-sq="time" tabindex="0" aria-label="\u6309\u64cd\u4f5c\u65f6\u95f4\u6392\u5e8f"><span class="desc">\u64cd\u4f5c\u65f6\u95f4</span></li>            <li data-sq="content" tabindex="0" aria-label="\u6309\u64cd\u4f5c\u9879\u6392\u5e8f"><span>\u64cd\u4f5c\u9879</span></li>        </ul>'),
r=a('<div id="operation-wrapper" class="wapper"></div>').appendTo(n),h.bind("keypress",p).bind("keyup",C).bind("keydown",b),g())},g=function(){var b=a(".record-nav").find("li");b.each(function(d){var c=a(this),e=c.find("span");if(e.hasClass("desc")||e.hasClass("asc"))f.current=d;c.index=d;c.click(function(){var c=a(this),e=c.find("span").eq(0);e.hasClass("desc")?(e.addClass("asc").removeClass("desc"),v(c.data("sq"),true)):(e.hasClass("asc")?e.addClass("desc").removeClass("asc"):(b.eq(f.current).find("span")[0].className=
"",e.addClass("desc")),v(c.data("sq")));f.curSeq=c.data("sq");c.data("sq");f.current=d})})},v=function(a,b){var d=b?-1:1;f.recordData.sort(function(b,c){return b[a].localeCompare(c[a])*d});i(f.recordData)},o=function(){z("export_clk",{ver1:w.role});var a=c.getCgiDownloadUrl("qun_info/get_sys_msg_all",{gc:f.gc}),b=document.createElement("iframe");b.src=a;document.body.appendChild(b)},s=function(){h.hide()},p=function(){},C=function(){},b=function(){},w,z;return{init:function(a){d=a;f=a.status||{};
w=f.M||{};z=f.report_edu_manage||function(){}},showDialog:function(a){y(d);if(h.length)f.recordDom={},f.recordData=a,i(a),h.show()}}});define("modules/setting/js/common/msgbox",["jquery"],function(a){var e={parentNode:document.body},l;return{init:function(c){l=a.extend({},e,c)},showTips:function(c,e){var h=a("#tips_box");l.$focusElem=e&&e.$focusElem||null;h.length||(h=a('<span id="tips_box"></span>').appendTo(l.parentNode),h.bind("click",function(c){if(a(c.target).closest(".close_btn").length&&(h.hide(),
c.preventDefault(),l.$focusElem))try{l.$focusElem.focus()}catch(e){}}));h.css({left:0,opacity:""}).html(c+'<ul class="close_btn" tabindex="0" aria-label="'+c+',\u5173\u95ed" role="button"><li class="l"></li><li class="r"></li>                    <li class="tri_masker"></li></ul>').show().css({left:"50%",marginLeft:-h.width()/2-16+"px",marginTop:-h.height()/2+"px"});h.find(".close_btn").focus();return h}}});(function(a,e){typeof define==="function"&&define.amd?define("modules/common/js/tdw_report",
[],e):a.report=e(a.report)})(this,function(a){function e(){if(l)return l;else{var a=[],d=0;return l=function(){var c=d++%10;return a[c]||(a[c]=new Image)}}}a=a||{};typeof JSON!=="object"&&(JSON={});if(typeof JSON.stringify!=="function")JSON.stringify=function(){};var l=null,c=function(a,d,c,h,g){if(a&&d&&c){var i="http://cgi.connect.qq.com/report/tdw/report?",a={table:a,fields:encodeURIComponent(JSON.stringify(d)),datas:encodeURIComponent(JSON.stringify(c)),pr_ip:h||"obj3",pr_t:g||"ts",t:+new Date};
if(i){d=[];if(a)for(var o in a)a[o]&&d.push(o+"="+a[o]);i+=d.join("&");e()().src=i}}},i=Object.prototype.toString,h={},n=[],r=[];reportTable="";a.toreport=function(){var a=r.length;if(a>1)for(var d=0;d<a;d++)for(var e=0,i=n.length;e<i;e++)!r[d][e]&&r[d][e]!==0&&(r[d][e]="");c(reportTable,n,r);h.length=n.length=r.length=0;reportTable=""};a.tdw=function(a,d,e){if(!a)throw"params can not be null";reportTable=e||reportTable||"dc00141";var l;switch(i.call(a)){case "[object Array]":l=a;break;case "[object Object]":if(d)l=
[a];else{d=[];l=[];for(var g in a)g==="obj3"||g==="ts"||(d.push(g),l.push(a[g]));return c(reportTable,d,[l],a.obj3,a.ts)}}g=0;for(a=l.length;g<a;g++){var e=l[g],v=[];r.push(v);for(var o in e){var s;o in h?(s=h[o],n[s]=o):(n.push(o),h[o]=s=n.length-1);v[s]=e[o]||""}}d||this.toreport()};return a});define("modules/setting/js/common/memTagCommon",["commonapi"],function(a){return{useVersionCtrl:true,openMemTagWin:function(e){a.groupPopNewWebPage(310,340,"http://qinfo.clt.qq.com/group_member_tags/index.html?groupuin="+
e,"\u7fa4\u6210\u5458\u6807\u7b7e\u7f16\u8f91","group_member_tags_"+e)},isVersionOk:function(){var e=a.getVersion().version;return!this.useVersionCtrl||e>=5317}}});define("text!modules/member/member.html",[],function(){return'<div class="member-container js-member-container has-grade no-member-tag">\r\n    <div class="toolbar">\r\n        <button id="add-member" class="js-add-member" tabindex="0">\u6dfb\u52a0\u6210\u5458</button>\r\n        <button id="modify-name" class="js-modify-name modify-name" tabindex="0">\u4fee\u6539\u7fa4\u540d\u7247</button>\r\n        <a href="#" target="blank" id="advMemberManage">\u9ad8\u7ea7\u7ba1\u7406</a>\r\n        <\!--\r\n        <a id="batch-modify" class="" role="button" href="javascript:void(0);" tabindex="0">\u6279\u91cf\u7ba1\u7406</a>\r\n        <button id="batch-del-member" tabindex="0">\u5220\u9664\u6210\u5458</button>\r\n        <button id="edit-member-tag" class="js-edit-member-tag edit-member-tag" tabindex="0">\u6539\u6210\u5458\u6807\u7b7e</button>\r\n        <a id="exit-batch-modify" class="" role="button" href="javascript:void(0);" tabindex="0">\u9000\u51fa\u6279\u91cf\u7ba1\u7406</a>\r\n        --\>\r\n\r\n        <p class="js-admin-word">\r\n            \u7ba1\u7406\u5458\uff1a<span id="cur-admin-num">&nbsp;</span>/<span id="total">&nbsp;</span>\u4eba\r\n            <a class="admin-detail"  aria-label="\u8be6\u60c5" title="\u8be6\u60c5" href="http://kf.qq.com/faq/120322fu63YV130422yeIR7v.html" target="_blank" tabIndex="-1"><img src="modules/member/img/admindetail.png"></a>\r\n            <span id="admin-operation-record" style="display:none">\r\n                <a id="show-operation-record" role="button" href="javascript: void (0)"  tabindex="0" >\u7ba1\u7406\u5458\u64cd\u4f5c\u8bb0\u5f55</a>\r\n            </span>\r\n            <span id="black-member-ct">\r\n                <a id="black-member-list" role="button" href="javascript: void (0)"  tabindex="0" > \u4e0d\u826f\u8bb0\u5f55\u6210\u5458(<span class="count">0</span>)</a>\r\n                <a class="admin-detail"  aria-label="\u4e0d\u826f\u8bb0\u5f55\u6210\u5458\u662f\u4ec0\u4e48?" title="\u4e0d\u826f\u8bb0\u5f55\u6210\u5458\u662f\u4ec0\u4e48?" href="http://kf.qq.com/faq/120511jiYzIJ140103yi6vQr.html" target="_blank" tabIndex="-1"><img src="modules/member/img/admindetail.png"></a>\r\n            </span>\r\n        </p>\r\n        <p tabIndex="0" class="element-invisible" id="admin-notice"></p>\r\n    </div>\r\n    <div id="block-member-toolbar" class="toolbar">\r\n        <button id="back-normal-member-list" aria-label="\u8fd4\u56de\u67e5\u770b\u5168\u90e8\u6210\u5458\u5217\u8868" tabindex="0" >\u8fd4\u56de</button> <p>\u4ee5\u4e0b\u6210\u5458\u8fd1\u671f\u591a\u6b21\u88ab\u5176\u4ed6\u7fa4\u4e3e\u62a5\u6216\u6e05\u7406</p>\r\n    </div>\r\n    <div class="member-list">\r\n        <ul class="member-nav">\r\n            <li data-sq="role" tabIndex="0" aria-label="\u6309\u7ba1\u7406\u6743\u9650\u6392\u5e8f" class="member-nav-role"><span class="desc ">&nbsp;</span></li>\r\n            <li data-sq="nick" tabIndex="0" aria-label="\u6309\u6210\u5458\u6635\u79f0\u6392\u5e8f" class="member-nav-nick"><span>\u6210\u5458</span></li>\r\n            <li data-sq="card" tabIndex="0" aria-label="\u6309\u7fa4\u540d\u7247\u6392\u5e8f" class="member-nav-card"><span>\u7fa4\u540d\u7247</span></li>\r\n            <li data-sq="tag" tabIndex="0" aria-label="\u6309\u7fa4\u6807\u7b7e\u6392\u5e8f" class="member-nav-tag"><span>\u6807\u7b7e</span>&nbsp;<u id="memTagEditor" aria-label="\u7f16\u8f91\u6210\u5458\u6807\u7b7e" tabIndex="0">&nbsp;</u></li>\r\n            <li data-sq="gradeName" class="member-nav-grade-name"><span class="member-nav-grade-name-wording">\u7b49\u7ea7</span>&nbsp;<u id="gradeEditor" aria-label="\u7f16\u8f91\u7b49\u7ea7\u5934\u8854" tabIndex="0">&nbsp;</u>&nbsp;<span class="gradeHelp" id="gradeHelp" title="\u7b49\u7ea7\u89c4\u5219">&nbsp;&nbsp;&nbsp;</span></li>\r\n            <li data-sq="points" tabIndex="0" aria-label="\u6309\u7fa4\u6210\u5458\u7b49\u7ea7\u79ef\u5206\u6392\u5e8f" class="member-nav-grade-point"><span>\u7b49\u7ea7\u79ef\u5206</span></li>\r\n            <li data-sq="last-talk" tabIndex="0" aria-label="\u6309\u6700\u540e\u53d1\u8a00\u65f6\u95f4\u6392\u5e8f" class="member-nav-last-talk"><span>\u6700\u540e\u53d1\u8a00</span></li>\r\n        </ul>\r\n        <div id="members-wrapper" class="wrapper">\r\n            <div id="members"></div>\r\n        </div>\r\n    </div>\r\n</div>'});
(function(a,e){typeof define==="function"&&define.amd?define("async",[],e):a.Async=e()})(this,function(){return function(){return{parallel:function(a,e){for(var l=a.length,c=a.length,i=[],h=false,n=0;n<c;n++)(function(c){a[c](function(a,d){a?h||(h=true,e(a,i)):(l--,i[c]=d,l||e(null,i))})})(n)}}}()});define("modules/common/js/jquery.ddslick",["jquery"],function(a){(function(a){function l(a,c,e){var g=a.data("ddslick");if(g){var h=a.find(".dd-selected"),o=h.siblings(".dd-selected-value");a.find(".dd-options");
h.siblings(".dd-pointer");var j=a.find(".dd-option").eq(c),p=j.closest("li"),l=g.settings,b=g.settings.data[c];a.find(".dd-option").removeClass("dd-option-selected");j.addClass("dd-option-selected");g.selectedIndex=c;g.selectedItem=p;g.selectedData=b;l.showSelectedHTML?h.html((b.imageSrc?'<img class="dd-selected-image'+(l.imagePosition=="right"?" dd-image-right":"")+'" src="'+b.imageSrc+'" />':"")+(b.text?'<label class="dd-selected-text">'+b.text+"</label>":"")+(b.description?'<small class="dd-selected-description dd-desc'+
(l.truncateDescription?" dd-selected-description-truncated":"")+'" >'+b.description+"</small>":"")):h.html(b.text);o.val(b.value);g.original.val(b.value);a.data("ddslick",g);i(a);c=a.find(".dd-select").css("height");h=a.find(".dd-selected-description");o=a.find(".dd-selected-image");h.length<=0&&o.length>0&&a.find(".dd-selected-text").css("lineHeight",c);typeof l.onSelected=="function"&&e!==true&&l.onSelected.call(this,g)}}function c(c){var f=c.find(".dd-select"),i=f.siblings(".dd-options"),g=f.find(".dd-pointer"),
l=i.is(":visible"),o=c.data("ddslick");a(".dd-click-off-close").not(i).slideUp(50);a(".dd-select").not(f).removeClass("dd-select-open");a(".dd-pointer").removeClass("dd-pointer-up");if(l)i.fadeOut("fast",function(){a(this).css("top","auto")}),g.removeClass("dd-pointer-up"),f.removeClass("dd-select-open");else if(j=c,i.css("max-height","0px").fadeIn("fast"),g.addClass("dd-pointer-up"),f.addClass("dd-select-open"),o.settings.constrain){var n=i.find("li"),n=Math.min(n.length*26,208);i.height();f=i.offset();
g=a(o.settings.constrain);o=g.height();g=g.offset();o=g.top+o;f.top+n<=o?i.css({"max-height":n+"px",top:"auto"}):f.top+104<=o?i.css({"max-height":o-f.top-5+"px",top:"auto"}):(n=Math.min(f.top-g.top-26,n),i.css("top",-n+"px").css("max-height",n+"px"))}else i.css({"max-height":n+"px",top:"auto"});h(c)}function i(a){a.find(".dd-select").removeClass("dd-select-open");a.find(".dd-options").slideUp(50);a.find(".dd-pointer").removeClass("dd-pointer-up").removeClass("dd-pointer-up")}function h(c){c.find(".dd-option").each(function(){var f=
a(this),h=f.css("height"),g=f.find(".dd-option-description"),i=c.find(".dd-option-image");g.length<=0&&i.length>0&&f.find(".dd-option-text").css("lineHeight",h)})}a.fn.ddslick=function(c){if(n[c])return n[c].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof c==="object"||!c)return n.init.apply(this,arguments);else a.error("Method "+c+" does not exists.")};var n={},r={data:[],keepJSONItemsOnTop:false,width:260,height:null,background:"transparent",selectText:"",defaultSelectedIndex:null,
truncateDescription:true,imagePosition:"left",showSelectedHTML:true,clickOffToClose:true,constrain:null,onSelected:function(){},onClick:function(){}},j=null;a("#css-ddslick").length<=0&&a('<style id="css-ddslick" type="text/css"></style>').appendTo("head");a("body").on("click",function(c){a(c.target).closest(".dd-container").length||j&&i(j)});n.init=function(d){d=a.extend({},r,d);return this.each(function(){var f=a(this);f.data("ddslick");var h=[];f.find("option").each(function(){var c=a(this),d=
c.data();h.push({text:a.trim(c.text()),value:c.val(),selected:c.is(":selected"),description:d.description,imageSrc:d.imagesrc})});d.keepJSONItemsOnTop?a.merge(d.data,h):d.data=a.merge(h,d.data);a('<div id="'+f.attr("id")+'"></div>');f.addClass("dd-container dd-select-common dd-select-enable").empty().append('<div class="dd-select"><input class="dd-selected-value" type="hidden" /><a class="dd-selected"></a><span class="dd-pointer dd-pointer-down"></span></div>').append('<ul class="dd-options"></ul>');
var h=f.find(".dd-select"),g=f.find(".dd-options");g.css({width:d.width-2,padding:1});h.css({width:d.width,background:d.background});f.css({width:d.width});d.height!=null&&g.css({height:d.height,overflow:"auto"});a.each(d.data,function(a,c){if(c.selected)d.defaultSelectedIndex=a;g.append('<li><a class="dd-option">'+(c.value?' <input class="dd-option-value" type="hidden" value="'+c.value+'" />':"")+(c.imageSrc?' <img class="dd-option-image'+(d.imagePosition=="right"?" dd-image-right":"")+'" src="'+
c.imageSrc+'" />':"")+(c.text?' <label class="dd-option-text">'+c.text+"</label>":"")+(c.description?' <small class="dd-option-description dd-desc">'+c.description+"</small>":"")+"</a></li>")});f.data("ddslick",{settings:d,original:f,selectedIndex:-1,selectedItem:null,selectedData:null});d.selectText.length>0&&d.defaultSelectedIndex==null?f.find(".dd-selected").html(d.selectText):l(f,d.defaultSelectedIndex!=null&&d.defaultSelectedIndex>=0&&d.defaultSelectedIndex<d.data.length?d.defaultSelectedIndex:
0);f.find(".dd-select").off("click.ddslick").on("click.ddslick",function(){if(d.onClick)d.onClick();f.hasClass("dd-select-disable")||c(f)});f.find(".dd-option").off("click.ddslick").on("click.ddslick",function(){l(f,a(this).closest("li").index())});d.clickOffToClose&&g.addClass("dd-click-off-close")})};n.select=function(c){return this.each(function(){typeof c.index!="undefined"&&l(a(this),c.index,c.quiet)})};n.value=function(){return a(this).data("ddslick").selectedData.value};n.selectedIndex=function(){return a(this).data("ddslick").selectedIndex};
n.disable=function(){a(this).removeClass("dd-select-enable").addClass("dd-select-disable")};n.enable=function(){a(this).removeClass("dd-select-disable").addClass("dd-select-enable")};n.open=function(){return this.each(function(){var d=a(this);d.data("ddslick")&&c(d)})};n.close=function(){return this.each(function(){var c=a(this);c.data("ddslick")&&i(c)})};n.destroy=function(){return this.each(function(){var c=a(this),f=c.data("ddslick");if(f)f=f.original,c.removeData("ddslick").unbind(".ddslick").replaceWith(f)})}})(a);
return a});define("member","jquery,modules/member/js/gradeEditor,modules/member/js/recordBox,modules/setting/js/common/client,modules/common/js/db,modules/setting/js/common/msgbox,modules/common/js/tdw_report,modules/common/js/reportPatchJquery,modules/setting/js/common/memTagCommon,text!modules/member/member.html,text!modules/member/css/member.css,async,modules/common/js/jquery.ddslick".split(","),function(a,e,l,c,i,h,n,r,j,d,f,y){var g;function v(a,b){typeof b[0]!=="array"&&(b=[b]);var c="http://cgi.connect.qq.com/report/tdw/report?table=dc00141&fields="+
JSON.stringify(a)+"&datas="+encodeURIComponent(JSON.stringify(b))+"&t="+ +new Date;(new Image).src=c}function o(a,c){a!=0&&(c=c||function(){},g?N[a]?c(N[a]):i.get_uin({param:{u:a,gc:b.groupUin,useCache:false},succ:function(b){N[a]=b.u;O[b.u]=a;c(b.u)},err:function(){}}):c(a))}function s(a,c){a!=0&&(c=c||function(){},g?O[a]?c(O[a]):i.get_uin({param:{t:1,ul:a,gc:b.groupUin,useCache:false},succ:function(b){console.log("encry:"+b.u+", uin:"+a);b=(b.ul||{})[a]||"";N[b]=a;O[a]=b;c(b)},err:function(){}}):
c(a))}var p=function(b,c){var F={1:[0,1091],2:[0,1092],3:[0,1093],4:[0,1094],5:[0,1095],6:[0,1096],7:[0,1097],8:[0,1098],9:[0,1099],10:[0,1100],11:[0,1101],12:[0,1102],13:[0,1103],14:[0,1104],15:[0,1105],16:[0,1106],17:[0,1115],18:[0,1116],19:[0,1117],20:[0,1157],21:[0,1158],22:[0,1159],23:[0,1160],24:[0,1161],25:[0,1168],26:[0,1169],27:[0,1170],28:[0,1171],29:[0,1172]};a.report({mId:F[b][0],aId:F[b][1],value:typeof c=="number"?c:1})},C=a.report.ReportFactory({bId:187,config:{17:{aId:1001},18:{aId:1010}}}),
b={data:{},memDoms:{},shownList:[],toShowList:[],curSeq:"role",memTagDataExpire:false,memTagServerPushRegistered:false,menuTime:false,change:false},w,z={},u={$blackCountLabel:null,originalMemeberList:"",blackMemberList:"",blackCount:0,blackMems:[],blacked:function(a){return~this.blackMems.indexOf(a)},renderBlackMemeberLabel:function(){this.blackCount===0?a("#black-member-ct").hide():(p(20),a("#black-member-ct").show(),this.$blackCountLabel.text(this.blackCount))},updateMemeberList:function(a){this.originalMemeberList&&
this.originalMemeberList.forEach(function(b,c){b.id===a&&u.originalMemeberList.splice(c,1)});this.blackMemberList&&this.blackMemberList.forEach(function(b,c){b.id===a&&u.blackMemberList.splice(c,1)})}},L={1:5,2:10,3:10,4:15};g=false;var G=0,H,V,N={},O={},P=null,M=false,D,E,A,X,W,za=function(){var a={};try{a=JSON.parse(top.external.GetGroupBasicInfo(b.groupUin+""))}catch(c){a={}}return a},ya=function(){for(var a=["sendMsgToGroupMem","groupMemAddFrined","impeachGroupMem"],b=0;b<a.length;b++){var F=
a[b];c[F]=function(a){return function(b){o(b,function(b){a(b+"")})}}(c[F])}};(function(){function a(b,m,c){return!m&&!c?e[b]||b:String.fromCharCode(m||c)}function b(a){return i[a]}var c=/&quot;|&lt;|&gt;|&amp;|&nbsp;|&apos;|&#(\d+);|&#(\d+)/g,d=/['<> "&]/g,e={"&quot;":'"',"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" "},f=/\u00a0/g,g=/<br\s*\/?>/ig,h=/\r?\n/g,k=/\s/g,i={},j;for(j in e)i[e[j]]=j;e["&apos;"]="'";i["'"]="&#39;";return{encode:function(a){return a?(""+a).replace(d,b).replace(h,"<br/>").replace(k,
"&nbsp;"):""},decode:function(b){return b?(""+b).replace(g,"\n").replace(c,a).replace(f," "):""}}})();var t=function(){var b=[],c;return{init:function(){a.each(b,function(b,m){var c=a(m);c.removeClass("selected");c.find(".batch-checkbox").prop("checked",false)});b=[]},get:function(){return c},getMul:function(){return a(b)},set:function(F){b=[F[0]];c=a(b[0])},add:function(a,c){if(b.indexOf(a[0])!=-1)return true;if(b.length>=100)return false;b.push(a[0]);a.addClass("selected");c&&a.find(".batch-checkbox").prop("checked",
true);return true},remove:function(a,c){b.splice(b.indexOf(a[0]),1);a.removeClass("selected");c&&a.find(".batch-checkbox").prop("checked",false)},len:function(){return b.length},getLast:function(){return a(b[b.length-1])},getUins:function(){var c=[];a.each(b,function(a,b){c.push(b.id)});return c},maxLen:function(){return 100}}}(),k,J,Q={get:function(a){a=document.cookie.match(RegExp("(^| )"+a+"=([^;]*)(;|$)"));return!a?"":decodeURIComponent(a[2])},uin:function(){var a=this.get("uin");return!a?null:
parseInt(a.substring(1,a.length),10)}},B=function(a,b,c,d){b.gc=J;i[a]({param:b,succ:c,err:d||c})};top.onCallback_MarkCreditAndDelUser=function(a,b,c){K(a,b,[c])};var Z=function(a){a=window.location.hash.match(RegExp("(#|&)"+a+"=([^&]*)(&|$)"));return!a?"":decodeURIComponent(a[2])},ha=function(a){var b=new Date;b.setTime(a*1E3);var a=b.getFullYear(),c=b.getMonth()+1<10?"0"+(b.getMonth()+1):b.getMonth()+1,b=b.getDate()-0<10?"0"+b.getDate():b.getDate();return a+"/"+c+"/"+b},ia=function(){if(!a("#addLoading").length){var c=
a('<div id="addLoading" class="loading">');c.html('<img alt="" src="http://3.url.cn/qun/clt/qinfo/member/img/loading.gif" /> \u6b63\u5728\u52a0\u8f7d\u4e2d...');b.$main.append(c)}},$=function(){var b=a("#addLoading");b.length&&b.remove()},Aa=function(){b.change=true},Ba=function(){b.change=true},Ca=function(c,x){var d=JSON.parse(x);if(parseInt(d.groupid)===parseInt(b.groupUin))b.change=true,a("#"+d.uin).data("shut-talk",parseInt(d.timestamp)),a("#"+d.uin).attr("data-shut-talk",d.timestamp),parseInt(d.timestamp)?
a("#"+d.uin+" .last-talk").html(Util.getShutTime(d.timestamp)+"\u540e\u89e3\u7981"):a("#"+d.uin+" .last-talk").html(a("#"+d.uin).attr("data-last-talk"))},q=function(a){var b=[{text:"\u53d1\u9001\u6d88\u606f",id:"send"},{text:"\u67e5\u770b\u8d44\u6599",id:"view"},{text:"\u52a0\u4e3a\u597d\u53cb",id:"add"},{text:"\u4fee\u6539\u7fa4\u540d\u7247",id:"modify"},{text:"\u5c4f\u853d\u6b64\u4eba\u53d1\u8a00",id:"shield"},{text:"\u4e3e\u62a5\u6b64\u7528\u6237",id:"jubao"},{text:"\u5c4f\u853d\u6b64\u4eba\u53d1\u8a00",
id:"shield",cls:"shield"},{text:"\u7981\u8a00",id:"gag",cls:"gag"},{text:"\u89e3\u9664\u7981\u8a00",id:"ungag",cls:"ungag"},{text:"10\u5206\u949f",id:"10m"},{text:"1\u5c0f\u65f6",id:"1hours"},{text:"12\u5c0f\u65f6",id:"12hours"},{text:"24\u5c0f\u65f6",id:"24hours"}],c=[];if(!a.length)return c;a.forEach(function(a){a>=0&&c.push(b[a])});return c},R=[],aa={},Da=function(){if(R.length===0){var a=c.getBanMenu(),b=JSON.parse(a);if(a)for(var d in b)R.push({text:b[d].text,id:b[d].seconds}),aa[b[d].seconds]=
parseInt(b[d].seconds);else R=[{text:"10\u5206\u949f",id:"600"},{text:"1\u5c0f\u65f6",id:"3600"},{text:"12\u5c0f\u65f6",id:"43200"},{text:"1\u5929",id:"86400"}],aa={600:600,3600:3600,43200:43200,86400:86400}}},Ea=function(){return{init:function(c){this.id=c.id;this.maxHeight=c.maxHeight||0;this.keySel=void 0;if(!document.getElementById(this.id)){var c=a('<div id="secMenu" class="context-menu context-sec-menu"><ul class="context-list" tabindex="1"></ul></div>'),x=[];R.forEach(function(a){x.push('<li data-menuid="'+
a.id+'"  aria-label="\u7981\u8a00'+a.text+'" tabindex="1" role="option">'+a.text+"</li>")});c.html(x.join(""));c.appendTo(b.$main)}this.$wrapper=a("#"+this.id);this.$wrapper.contextMenu=this;this.showed=false;this.bindEvents()},bindEvents:function(){var m=this;this.$wrapper.bind("mouseenter",function(){clearTimeout(b.menuTime)});this.$wrapper.on("click","li",function(){});this.$wrapper.mousedown(function(x){x=a(x.target);if(!c.isOnline())return h.showTips("\u60a8\u5df2\u7ecf\u5904\u4e8e\u79bb\u7ebf\u72b6\u6001\uff0c\u8bf7\u4e0a\u7ebf\u540e\u518d\u6b21\u5c1d\u8bd5",
{$focusElem:k}),b.menu.hide(),false;var d=k.attr("id"),e=x.data("menuid"),f=aa;f[e]&&(d=k.attr("id"),x=[{uin:parseInt(d),t:f[e]}],B("set_group_shutup",{gc:b.groupUin,shutup_list:JSON.stringify(x)},function(m){if(m.ec==0)b.change=true,a("#"+d+" .member-nav-last-talk .last-talk").text(Util.getShutTime(f[e])+"\u540e\u89e3\u7981"),a("#"+d).attr("data-shut-talk",f[e]),a("#"+d).data("shut-talk",f[e]),m={groupid:b.groupUin,banspeechmem:[{uin:parseInt(d),timestamp:f[e]}]},b.change=true,c.ShowGroupInMemBanSpeechMsg(JSON.stringify(m)),
m={bigT:"0X800402D",key:'{"groupuin":'+b.groupUin+';"currenttime":'+(new Date).getTime()+';"banspeechtime";'+f[e]+';"useruin":'+d+"}",param1:"1",param2:"2",param3:0,param4:0,param5:0,param6:0,param7:0},c.CallHummer("Default.DataReportEx",JSON.stringify(m)),a("body").triggerHandler("setting:memberWebShut")},function(a){a.ec===7?c.alert(1,"\u63d0\u793a","\u8bbe\u7f6e\u7981\u8a00\u5931\u8d25\uff0c\u6682\u65e0\u6b64\u64cd\u4f5c\u7684\u6743\u9650"):a.ec===22?c.alert(1,"\u63d0\u793a","\u8bbe\u7f6e\u7981\u8a00\u5931\u8d25\uff0c\u7981\u8a00\u4eba\u6570\u5df2\u8fbe\u6700\u5927\u4e0a\u9650"):
c.alert(1,"\u63d0\u793a","\u8bbe\u7f6e\u7981\u8a00\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}));m.hide();b.menu.hide()})},hide:function(){if(this.$wrapper)this.$wrapper.hide(),this.showed=false},show:function(){if(this.$wrapper)this.$wrapper.show(),this.showed=true},position:function(b){if(this.$wrapper){var c=b.width(),d=b.height(),e=b.position(),b=e.left,f=c+b+4,d=e.top+d-50,e=document.documentElement.offsetWidth,ga=a("#container_parent")[0].offsetHeight,g=this.$wrapper.width(),h=this.$wrapper.height();
d+h>ga&&(d=ga-h-10);f+g>e&&(f=e-g*2-4,f+c>b&&(f=b-c-4));f+b>b&&this.$wrapper.css({top:d+"px",left:f+"px"})}}}}(),Fa=function(){return{init:function(c){this.id=c.id;this.maxHeight=c.maxHeight||0;this.keySel=void 0;document.getElementById(this.id)||a('<div id="'+this.id+'" class="context-menu">').appendTo(b.$main);this.$wrapper=a("#"+this.id);this.$wrapper.contextMenu=this;this.$wrapper.html("");this.showed=false;this.bindEvents()},bindEvents:function(){var m=this;b.version<5335||(this.$wrapper.mouseover(function(d){var e=
a(d.target);if(!c.isOnline())return h.showTips("\u60a8\u5df2\u7ecf\u5904\u4e8e\u79bb\u7ebf\u72b6\u6001\uff0c\u8bf7\u4e0a\u7ebf\u540e\u518d\u6b21\u5c1d\u8bd5",{$focusElem:k}),b.menu.hide(),false;k.attr("id");clearTimeout(b.menuTime);b.menuTime=e.data("menuid")=="gag"?setTimeout(function(){m.$wrapper.position();b.secMenu.show();b.secMenu.position(m.$wrapper,d)},200):setTimeout(function(){b.secMenu.hide()},200)}),this.$wrapper.mousedown(function(m){m=a(m.target);if(!c.isOnline())return h.showTips("\u60a8\u5df2\u7ecf\u5904\u4e8e\u79bb\u7ebf\u72b6\u6001\uff0c\u8bf7\u4e0a\u7ebf\u540e\u518d\u6b21\u5c1d\u8bd5",
{$focusElem:k}),b.menu.hide(),false;var d=k.attr("id");switch(m.data("menuid")){case "send":p(11);c.sendMsgToGroupMem(d);break;case "view":p(12);var e=k.data("role")||"0";p(8,e==3?0:1);o(d,function(a){c.openUserInfo(a+"","1")});break;case "add":p(13);c.groupMemAddFrined(d);break;case "modify":p(14);S(k.find(".card"));break;case "shield":p(15);e=c.shieldGroupMem(d);a("#"+d).find("span.pic")[e?"addClass":"removeClass"]("shield");break;case "ungag":if(b.version<5335)return;var f=a("#"+d).attr("data-last-talk"),
e=[{uin:parseInt(d),t:0}];i.set_group_shutup({param:{gc:b.groupUin,shutup_list:JSON.stringify(e)},succ:function(m){if(m.ec==0)a("#"+d+" .member-nav-last-talk .last-talk").text(f),a("#"+d).attr("data-shut-talk",0),a("#"+d).data("shut-talk",0),m={groupid:b.groupUin,banspeechmem:[{uin:parseInt(d),timestamp:0}]},b.change=true,c.ShowGroupInMemBanSpeechMsg(JSON.stringify(m)),m={bigT:"0X800402D",key:'{"groupuin":'+b.groupUin+';"currenttime":'+(new Date).getTime()+';"banspeechtime";0;"useruin":'+d+"}",param1:"1",
param2:"2",param3:0,param4:0,param5:0,param6:0,param7:0},c.CallHummer("Default.DataReportEx",JSON.stringify(m)),a("body").triggerHandler("setting:memberWebShut")},err:function(a){a.ec===7?c.alert(1,"\u63d0\u793a","\u89e3\u9664\u7981\u8a00\u5931\u8d25\uff0c\u6682\u65e0\u6b64\u64cd\u4f5c\u7684\u6743\u9650"):a.ec==22?c.alert(1,"\u63d0\u793a","\u89e3\u9664\u7981\u8a00\u5931\u8d25\uff0c\u7981\u8a00\u4eba\u6570\u5df2\u8fbe\u6700\u5927\u4e0a\u9650"):c.alert(1,"\u63d0\u793a","\u89e3\u9664\u7981\u8a00\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}});
break;case "jubao":p(16),c.impeachGroupMem(d)}m.data("menuid")!=="gag"&&b.menu.hide();b.secMenu.hide();m.data("menuid")!=="modify"&&k.focus();return false}))},setItems:function(a){this.items=a;this.keySel=void 0;this.hide();this.create()},create:function(){var b=a('<ul class="context-list" aria-label="\u53f3\u952e" tabindex="1">'),c=document.createDocumentFragment();this.items.forEach(function(b){var m=a('<li data-menuid="'+b.id+'" role="option" tabindex="-1">'+b.text+"</li>");b.cls&&m.addClass(b.cls);
c.appendChild(m[0])});b[0].appendChild(c);this.$wrapper.empty().append(b)},position:function(a,c){if(this.$wrapper){var d=this.$wrapper[0].offsetWidth,e=this.$wrapper[0].offsetHeight,f=document.documentElement.offsetWidth,g=b.$main.offset().top;d+a>f&&(a=f-d);this.$wrapper.css({top:(c+e-g>this.maxHeight?c-e-g:c-g)+"px",left:a+"px"})}},hide:function(){if(this.$wrapper)this.$wrapper.hide(),this.showed=false},show:function(){if(this.$wrapper)this.$wrapper.show(),this.showed=true},isShow:function(){return this.showed},
keyMove:function(a){var b=this.$wrapper.find("ul").children();switch(a){case "up":a=this.keySel==void 0?this.items.length-1:this.keySel-1;a=a<0?this.items.length-1:a;this.keySel!=void 0&&b.eq(this.keySel).removeClass("hover").attr("tabindex","-1");b.eq(a).addClass("hover").attr("tabindex","1").focus();this.keySel=a;break;case "down":a=this.keySel==void 0?0:this.keySel+1,a=a>=b.length?0:a,this.keySel!=void 0&&b.eq(this.keySel).removeClass("hover").attr("tabindex","-1"),b.eq(a).addClass("hover").attr("tabindex",
"1").focus(),this.keySel=a}}}}(),T=function(){if(b.$wrapper[0]&&b.$wrapper[0].childElementCount==0)return Badjs("calElementIndexInScreen",window.location,0,-1,2),{begin:0,end:0};var c,d;d=Math.ceil(b.wrapperHeight/26);c=a(b.$wrapper[0].firstElementChild).offset().top;c=Math.floor(-(c-b.$wrapper.parent().offset().top)/26-d);d=c+3*d;return{begin:c<0?0:c,end:d}},U=function(m){var d=m.begin,m=m.end,e;b.toShowList=[];var f=[];Array.prototype.slice.call(b.$wrapper[0].childNodes,d,m).forEach(function(c){if(c.getAttribute("data-showed")!==
"true"){var m=a(c).attr("data-grade");c.innerHTML=b.memDoms[c.id].replace(/#data-gradeName#/g,z.levelname["lvln"+m]||"\u65b0\u624b");H&&G&&ja(a(c));c.setAttribute("data-showed","true");w&&(e=a(c),e.hasClass("selected")&&e.find(".batch-checkbox").prop("checked",true))}b.toShowList.push(c.id);f.push(c)});var g=Q.uin()||c.getUin();setTimeout(function(){a.each(f,function(m,d){var x=d.id,e=a(d),f;f='<span class="space js-mod-member">&nbsp;</span>';if(b.role==="1"||b.role==="2"||g==x)f='<button class="mod-member js-mod-member" title="\u4fee\u6539\u7fa4\u540d\u7247">\u4fee\u6539\u7fa4\u540d\u7247</button>';
c.isAllowEditCard(""+x)&&e.find(".js-mod-member").replaceWith(f);c.getIsShieldGroupMem(""+x)&&e.find(".js-shield").addClass("shield")})},25)},Ga=function(){a("#dragable-mask").show().on("mousedown",function(){window.external.StartDragMove()})},Ha=function(c){Ga();var d=c[0];text="\u60a8\u5c06\u4e3a"+b.dataStore[d].c+"("+d+")"+(c.length>1?"\u7b49"+c.length+"\u4f4d\u6210\u5458":"")+"\u8bbe\u7f6e\u6807\u7b7e\uff1a";var e=0,d=a("#group-member-tag-panel");d.find(".js-wording").html(text);d.find(".js-confirm").on("click",
function(){var b=a("#group-member-tag-panel").find("#member-tags-selector").ddslick("value"),d=a("#group-member-tag-panel").find("#member-tags-selector").ddslick("selectedIndex");ka(c,b,function(){a.each(c,function(c,m){E[m]=b;a("#group-mem-tag-"+m).ddslick("select",{index:d,quiet:true}).ddslick("disable")})});ba()});d.find(".js-cancel").on("click",function(){ba()});d.find(".js-edit-close").on("click",function(){ba()});var f={data:D,width:126,constrain:"#members-wrapper",defaultSelectedIndex:e,imagePosition:"right",
onSelected:function(a){e=a.selectedIndex}};d.find("#member-tags-selector").ddslick(f);d.fadeIn()},ba=function(){var b=a("#group-member-tag-panel");b.hide();b.find(".js-confirm").off("click");b.find(".js-cancel").off("click");b.find(".js-edit-close").off("click");a("#dragable-mask").hide().off("mousedown")},Ia=function(){a("#members .dd-container").each(function(b,c){a(c).ddslick("disable")})},Ja=function(){a("#members .dd-container").each(function(b,c){a(c).ddslick("enable")})},Ka=function(){u.$blackCountLabel=
a("#black-member-list .count");b.role==="1"||b.role==="2"?(b.$main.attr("id",b.role==="1"?"owner":"admin"),a("#add-member").click(function(){p(2);c.isOnline()?c.openContactSelecter():h.showTips("\u60a8\u5df2\u7ecf\u5904\u4e8e\u79bb\u7ebf\u72b6\u6001\uff0c\u8bf7\u4e0a\u7ebf\u540e\u518d\u6b21\u5c1d\u8bd5",{$focusElem:a(this)})}),a("#batch-modify").click(function(){p(17,b.role=="1"?1:0);b.$main.addClass("batch-mode");w=true;t.init();a("#batch-del-member").focus();G&&j.isVersionOk()&&(a("#edit-member-tag").show(),
Ia())}),a("#exit-batch-modify").click(function(){p(20,b.role=="1"?1:0);b.$main.removeClass("batch-mode");w=false;t.init();a("#batch-modify").focus();a("#edit-member-tag").hide();Ja()}),a("#black-member-list").click(function(){w&&(b.$main.removeClass("batch-mode"),w=false,t.init());b.$main.addClass("black-member-mode");b.$wrapper.html(u.blackMemberList);b.mapList=u.blackMemberList;b.$wrapper.parent().scrollTop(1).scrollTop(0);U(T());p(21)}).keyup(function(b){(b.keyCode===13||b.keyCode===32)&&a(this).trigger("click")}),
a("#back-normal-member-list").click(function(){b.$main.removeClass("black-member-mode");b.$wrapper.html(u.originalMemeberList);b.mapList=u.originalMemeberList;U(T());p(24)}),a("#batch-del-member").click(function(){if(c.isOnline()){p(18,b.role=="1"?1:0);var m=t.getUins(),d="",e=function(a,b){a=Str.decodeHtml(a);return a.length>b?a.substr(0,b-3)+"...":a};if(m.length==0)c.alert(1,"\u63d0\u793a","\u8bf7\u5148\u9009\u62e9\u60a8\u8981\u5220\u9664\u7684\u6210\u5458");else if(m.sort(function(a,c){var d=Str.decodeHtml(b.dataStore[a].c||
b.dataStore[a].n),m=Str.decodeHtml(b.dataStore[c].c||b.dataStore[c].n);return d.length>m.length}),d="\u60a8\u786e\u5b9a\u5c06 ",d+=e((b.dataStore[m[0]].c||b.dataStore[m[0]].n)+"("+m[0]+")",m[1]?14:28),m[1]&&(d+=", "+e((b.dataStore[m[1]].c||b.dataStore[m[1]].n)+"("+m[1]+")",14)),m.length>2&&(d+="\u7b49"+m.length+"\u4f4d\u6210\u5458"),d+=(m.length<=2?" ":"")+"\u4ece\u672c\u7fa4\u4e2d\u5220\u9664\u5417?",d=d.replace(/(.{26})/,"$1\n"),c.confirm(1,"\u63d0\u793a",d).ret){for(var d=t.maxLen(),f=[],e=0,g=
Math.ceil(m.length/d);e<g;e++)(function(a){B("deleteMember",{ul:a.join("|")},function(c){c.ec==0&&p("19",b.role=="1"?1:0);K(c.ec,"",a)},function(){f=f.concat(m)})})(m.slice(e*d,(e+1)*d));f.length>0&&K(4,"",f)}}else h.showTips("\u60a8\u5df2\u7ecf\u5904\u4e8e\u79bb\u7ebf\u72b6\u6001\uff0c\u8bf7\u4e0a\u7ebf\u540e\u518d\u6b21\u5c1d\u8bd5",{$focusElem:a(this)})}),a("#edit-member-tag").click(function(){a.report({aId:1187,v:b.role==1?1:0,flag1:b.groupUin});if(c.isOnline()){var d=t.getUins();d.length==0?
c.alert(1,"\u63d0\u793a","\u8bf7\u5148\u9009\u62e9\u60a8\u8981\u4fee\u6539\u6807\u7b7e\u7684\u6210\u5458"):!D||!D.length?c.alert(1,"\u6e29\u99a8\u63d0\u793a","\u60a8\u5c1a\u672a\u6dfb\u52a0\u7fa4\u6210\u5458\u6807\u7b7e\uff0c\u65e0\u6cd5\u6279\u91cf\u4fee\u6539"):Ha(d)}else h.showTips("\u60a8\u5df2\u7ecf\u5904\u4e8e\u79bb\u7ebf\u72b6\u6001\uff0c\u8bf7\u4e0a\u7ebf\u540e\u518d\u6b21\u5c1d\u8bd5",{$focusElem:a(this)})}),a("#admin-operation-record").show(),a("#show-operation-record").click(function(){la("log_clk",
{ver1:b.role});ia();i.get_sys_msg({param:{gc:J},succ:function(a){var m;m=(a=a.msg)||[],a=m;$();l.showDialog(a)},err:function(a){$();console.log("ERROR in get_sys_msg, message:"+JSON.stringify(a))}})}),p(1,1)):b.role==="3"?(b.$main.attr("id","member"),p(1,0)):b.$main.attr("id","not-member");(b.role==="1"||b.role==="2"||b.role==="3")&&a("#modify-name").click(function(){c.isOnline()?(b.enableEdit="1",b.memUin=c.getSelfUin(),ma()):h.showTips("\u60a8\u5df2\u7ecf\u5904\u4e8e\u79bb\u7ebf\u72b6\u6001\uff0c\u8bf7\u4e0a\u7ebf\u540e\u518d\u6b21\u5c1d\u8bd5",
{$focusElem:a(this)})})},ka=function(c,d,e,f){var g=[].concat(c);i.set_group_mem_tag({param:{gc:b.groupUin,uin_list:g.join("|"),tag_id:d},succ:function(b){a.each(g,function(b,c){var m=E[c];typeof m!="undefined"&&(A.mem_tag[m]=a.map(A.mem_tag[m],function(a){return a==c?null:a}));d!=-1&&(A.mem_tag[d]=A.mem_tag[d]||[],A.mem_tag[d].push(c))});a.each(g,function(a,b){E[b]=d});e&&e(b);console.log("add member tag succ!")},err:function(a){f&&f(a);console.log("add member tag err!")}})},na=function(){a("#members .js-member-row").each(function(){ja(a(this))})},
ja=function(c){var d=c.prop("id");c.attr("data-tag",X[d]||"");var e=a(".js-mem-tag",c);if(e.length){var f=E,g=W,h=X,i=f[d],g=typeof i!="undefined"&&typeof h[i]!="undefined"?g[i]:-1,f=typeof f[d]!="undefined"?f[d]:-1,h={data:D,width:93,constrain:"#members-wrapper",imagePosition:"right",onSelected:function(f){var f=f.selectedData,g=f.value,h=e.prop("tag_id");g!=h&&(console.log("changed! from "+h+" to "+g),e.prop("tag_id",g),ka(d,g,function(){E[d]=g}),a.report({aId:1186,v:b.role==1?1:0,flag1:b.groupUin}));
c.attr("data-tag",f.text||"")},onClick:function(){D.length<2&&(j.openMemTagWin(b.groupUin),a.report({aId:1195,v:b.role==1?1:0,flag1:b.groupUin}))}};g!=-1?h.defaultSelectedIndex=g:h.selectText="&nbsp;";e.prop("tag_id",f).ddslick(h)}},La=function(d){var e=0;if(d.adm&&d.adm.length)e=d.adm.length;var f={};if(d.shutup_list)f=d.shutup_list;var g=d.ext_num||0,h=parseInt(d.level||0)+5,h=L[d.type]>h?L[d.type]:h;a("#cur-admin-num").html(e);a("#total").html(h+g);a("#admin-notice").html("\u8be5\u7fa4\u76ee\u524d\u7ba1\u7406\u5458\u6570"+
e+"\u4eba,\u7ba1\u7406\u5458\u4e0a\u9650"+(h+g)+"\u4eba");var e=d.mems,i="",g=a("<div>"),k=[],j=[];(Q.uin()||c.getUin())==d.owner&&a("#gradeEditor").css("display","inline-block");var l=Q.uin()||c.getUin(),o=c.getVersion().version;e.forEach(function(a){var c=a.u;(!d.remarks||!d.remarks[c])&&j.push(c);k.push(c);var e=d.lv[c].p,x=d.lv[c].l||1,g=d.friends&&d.friends.indexOf(c)!==-1?1:0,h=l===c?1:0,n=d.remarks&&d.remarks[c]?d.remarks[c]:a.n.length?a.n:c,p=d.cards&&d.cards[c]?d.cards[c]:"",I=d.times&&d.times[c]?
ha(d.times[c]):"-",Y=I,q=0;f[c]&&(I=Util.getShutTime(f[c])+"\u540e\u89e3\u7981",q=f[c]);var s=d.join&&d.join[c]?ha(d.join[c]):"-",r='<ul class="member member-row js-member-row" id="'+c+'" data-role="3" data-nick="'+n+'" data-isfriend="'+g+'" data-ismyself="'+h+'" data-shut-talk="'+q+'" data-last-talk="'+Y+'" tabindex="0" aria-label="'+(n||"")+","+c+",\u6700\u540e\u53d1\u8a00\u65f6\u95f4:"+I+'" data-card="'+p+'" data-showed="false"';b.dataStore[c]={n:(n+"").toLowerCase(),c:p.toLowerCase()};var v='<span class="space">&nbsp;</span>',
t='<span class="space">&nbsp;</span>',w='<span class="pic">',w='<span class="space js-mod-member">&nbsp;</span>';b.role==="1"&&(v='<button class="set-admin" title="\u8bbe\u7f6e\u7ba1\u7406\u5458">\u8bbe\u7f6e\u7ba1\u7406\u5458</button>');if(b.role==="1"||b.role==="2")t=o>=5281?"\u4ece\u672c\u7fa4\u4e2d\u5220\u9664":"\u4ece\u672c\u7fa4\u4e2d\u79fb\u9664",t=h?'<span class="space">&nbsp;</span>':'<button class="del-member" title="'+t+'">'+t+'</button><input type="checkbox" class="batch-checkbox" id="batch-checkbox-'+
c+'"/><label for="batch-checkbox-'+c+'" class="element-invisible">\u6279\u91cf\u64cd\u4f5c</label>',w='<button class="mod-member js-mod-member" title="\u4fee\u6539\u7fa4\u540d\u7247">\u4fee\u6539\u7fa4\u540d\u7247</button>',a.b&&!u.blacked(a.u)&&(u.blackCount++,u.blackMems.push(a.u));h&&(w='<button class="mod-member" title="\u4fee\u6539\u7fa4\u540d\u7247">\u4fee\u6539\u7fa4\u540d\u7247</button>',t='<span class="space">&nbsp;</span>');c===d.owner&&(r='<ul class="owner member-row js-member-row" id="'+
c+'" data-role="1" data-nick="'+n+'" data-isfriend="'+g+'" data-ismyself="'+h+'" data-shut-talk="'+q+'" data-card="'+p+'"  data-shut-talk="'+q+'" data-last-talk="'+Y+'" tabindex="0" aria-label="'+n+","+c+",\u6700\u540e\u53d1\u8a00\u65f6\u95f4:"+I+(a.b?",\u4e0d\u826f\u8bb0\u5f55\u6210\u5458":"")+'"',v='<button class="role-owner" title="\u7fa4\u4e3b">\u7fa4\u4e3b</button>',t='<span class="space">&nbsp;</span>');d.adm&&d.adm.indexOf(c)!==-1&&(r='<ul class="admin member-row js-member-row" id="'+c+'" data-role="2" data-nick="'+
n+'" data-isfriend="'+g+'" data-ismyself="'+h+'" data-shut-talk="'+q+'" data-card="'+p+'"  data-shut-talk="'+q+'" data-last-talk="'+Y+'" tabindex="0" aria-label="'+n+","+c+",\u6700\u540e\u53d1\u8a00\u65f6\u95f4:"+I+(a.b?",\u4e0d\u826f\u8bb0\u5f55\u6210\u5458":"")+'"',v='<button class="role-admin" title="\u7ba1\u7406\u5458">\u7ba1\u7406\u5458</button>',b.role==="2"&&(t='<span class="space">&nbsp;</span>'));r+=' data-join="'+s+'" data-gradeName="#data-gradeName#" data-points="'+e+'" data-grade="'+x+
'" data-black="'+a.b+'"></ul>';i+=r;b.memDoms[c]='<li class="member-nav-role">'+v+'</li><li class="member-nav-nick"><span class="pic js-shield"><img class="figure" src="http://3.url.cn/qun/clt/qinfo/member/img/auto.png" alt=""><img class="shielded" src="http://3.url.cn/qun/clt/qinfo/member/img/shield.png" alt=""></span><span title="\u4e0d\u826f\u8bb0\u5f55\u6210\u5458" class="black-tip">&nbsp;</span><span class="nick">'+n+'</span></li><li class="member-nav-card"><span class="card">'+p+'</span><input name="nick-input" value="'+
p+'" type="text" size="21" id="card-input-'+c+'"/><label class="element-invisible" for="card-input-'+c+'">\u7fa4\u540d\u7247\u4fee\u6539,enter\u4fdd\u5b58</label></li><li class="member-nav-tag"><div class="js-mem-tag" id="group-mem-tag-'+c+'"></div></li><li class="member-nav-grade-name"><span class="grade-name-span">#data-gradeName#</span></li><li class="member-nav-grade-point mem-row-grade-point"><span class="point-num">'+e+'</span></li><li class="member-nav-last-talk"><span class="last-talk">'+
I+"</span>"+w+'<button class="view-info" title="\u67e5\u770b\u8d44\u6599">\u67e5\u770b\u8d44\u6599</button>'+t+"</li>"});g.html(i);return{$div:g,nickUins:j,faceUins:k}},oa=function(b){b.tag_info=b.tag_info||{};b.mem_tag=b.mem_tag||{};A=b;X=b.tag_info;D=a.map(b.tag_info,function(a,b){return{value:b,text:a}});D.length&&D.push({text:"&nbsp",value:-1});W={};var c=0;a.each(b.tag_info,function(a){W[a]=c++});E={};a.each(b.mem_tag,function(b,c){a.each(c,function(a,c){E[c]=b})})},Ma=function(){var a=Q.uin()||
c.getUin(),d=c.getClientKey();return"http://ptlogin2.qq.com/jump?clientuin="+a+"&clientkey="+d.clientKey+"&u1="+encodeURIComponent("http://qun.qq.com/member.html#gid="+b.groupUin)},Na=function(c){var d=za().cur_mem_num;if(b.role==="1"||b.role==="2")a("#advMemberManage").attr("href",Ma()).show(),a("#advMemberManage").click(function(){param={uin:b.selfUin,opername:"pc-grpdata",module:"mana-grp",action:"Clk_highmana",obj1:b.groupUin+"",obj2:b.version};n.tdw(param)});if(d<=40){d={gc:b.groupUin};if(b.change)d.t=
(new Date).getTime();TRecord.push("get_member_list_first","start");i.get_group_members_all({param:d,succ:function(a){b.change=false;TRecord.push("get_member_list_first","end");TRecord.report2("flag1=7809&flag2=1&flag3=56","get_member_list_first",{end:"27"});ca(a);c(null)}})}else{var e=false,d={gc:b.groupUin,p:1,n:20};if(b.change)d.t=(new Date).getTime();TRecord.push("get_member_list_first","start");i.get_group_members({param:d,succ:function(a){if(!e)TRecord.push("get_member_list_first","end"),ca(a),
TRecord.report2("flag1=7809&flag2=1&flag3=56","get_member_list_first",{end:"27"}),b.enableEdit=b._enableEdit||false}});setTimeout(function(){var a={gc:b.groupUin};if(b.change)a.t=(new Date).getTime();TRecord.push("get_member_list_all","start");i.get_group_members_all({param:a,succ:function(a){b.change=false;e=true;TRecord.push("get_member_list_all","end");ca(a);TRecord.report2("flag1=7809&flag2=1&flag3=56","get_member_list_all",{end:"26"});c(null)}})},10)}},Oa=function(a){i.get_member_tag_flag({param:{gc:b.groupUin,
useCache:false},succ:function(b){G=b.flag;pa(b);a(null,b)},err:function(b){G=0;pa({flag:0});a(null,b)}})},Pa=function(a){var c={gc:b.groupUin};if(b.memTagDataExpire)c.useCache=false,b.memTagDataExpire=false;i.get_group_mem_tag({param:c,succ:function(b){oa(b);a(null,b)},err:function(){a(null,{ec:0})}})},Qa=function(){u.blackCount=0;TRecord.push("get_member_list","start");y.parallel([function(a){Na(a)},function(a){H=false;qa()?Pa(a):a(null,{ec:0})},function(a){qa()?Oa(a):a(null,{ec:0,flag:0})}],function(a,
b){var c=b[1];b[2].flag&&(H=true,na(c))})},ca=function(c){TRecord.push("get_member_list","end");TRecord.push("generate_member_list","start");if(c.mems&&c.mems.length){z=c;if(!c.levelname){c.levelname={lvln1:"\u65b0\u624b",lvln2:"\u521d\u7ea7",lvln3:"\u4e2d\u7ea7",lvln4:"\u9ad8\u7ea7",lvln5:"\u8d44\u6df1",lvln6:"\u81f3\u5c0a"};c.lv={};for(var d=c.mems,e=0;e<d.length;e++)c.lv[d[e].u]={},c.lv[d[e].u].p=0,c.lv[d[e].u].l=1}z=c;d=La(c);$div=d.$div;nickUins=d.nickUins;faceUins=d.faceUins;a("#black-member-list");
u.renderBlackMemeberLabel();var f=Array.prototype.slice.call($div[0].childNodes);u.originalMemeberList=f;u.blackMemberList=f.filter(function(a){return a.getAttribute("data-black")-0===1});B("nicks",{u:nickUins.join("-")},function(a){a.ec==0&&a.ns&&a.ns.forEach(function(a){var c=a.n?a.n:a.u,d=f.filter(function(b){return b.id==a.u})[0],e=Str.decodeHtml(a.n);if(d){d.setAttribute("aria-label",a.n+","+a.u+",\u6700\u540e\u53d1\u8a00\u65f6\u95f4:"+d.getAttribute("lastTalk")+(d.getAttribute("data-black")===
"1"?",\u4e0d\u826f\u8bb0\u5f55\u6210\u5458":""));d.setAttribute("data-nick",e);b.memDoms[a.u]=b.memDoms[a.u].replace(/(<span class="nick">)[^<]*/i,"$1"+c+'<span class="element-invisible">'+a.u+"</span>");if(d.getAttribute("data-showed")==="true")d=d.getElementsByClassName("nick")[0],d.innerHTML=c+'<span class="element-invisible">'+a.u+"</span>";b.dataStore[a.u].n=a.n.toLowerCase()}})});B("getImages",{qq:{size:40,ls:faceUins}},function(a){if(a.ec===0){var a=a.qq||{},c;for(c in a){var d=a[c].u.replace(/&amp;/g,
"&"),e=f.filter(function(a){return a.id==c})[0];b.memDoms[c]=b.memDoms[c].replace(/(<img class="figure" src=")[^"]*/i,"$1"+d);e&&e.getAttribute("data-showed")==="true"&&e.getElementsByClassName("figure")[0].setAttribute("src",d)}}});TRecord.push("generate_member_list","end");TRecord.push("sort_and_show_member_list","start");b.mapList=u.originalMemeberList;da(b.curSeq);ra(u.blackMemberList,1);TRecord.push("sort_and_show_member_list","end");$();TRecord.push("member","end");z=c;b.$main.delegate(".black-tip",
"mouseenter",function(){p(29)});setTimeout(function(){TRecord.report2("flag1=7809&flag2=1&flag3=56","member",{end:"11"});TRecord.report2("flag1=7809&flag2=1&flag3=56","get_member_list",{end:"12"});TRecord.report2("flag1=7809&flag2=1&flag3=56","generate_member_list",{end:"13"});TRecord.report2("flag1=7809&flag2=1&flag3=56","sort_and_show_member_list",{end:"14"})},2E3);if(a("#container").attr("data-tab")==="member"){try{var g=Util.getPerfTimeStamp(),h=window.performance.timing,i=TRecord.get("main"),
k=TRecord.get("get_member_list_first"),j=TRecord.get("get_member_list_all");j&&(k=j);var n=TRecord.get("generate_member_list"),l=TRecord.get("generate_member_list"),o={bigT:"0X8004125",key:'{"groupuin":'+b.groupUin+';"useruin":'+CommonApi.getSelfUin()+';"model","member"}',param1:g.StartNavigateTS-g.StartVisitTS+"",param2:g.NavigateCompleteTS-g.StartNavigateTS+"",param3:h.domainLookupStart-h.domainLookupEnd+"",param4:h.responseEnd-h.requestStart+"",param5:i.hash.index_loaded-i.hash.base+"",param6:k.hash.end-
k.hash.start+"",param7:l.hash.end-n.hash.start+""};v("uin,ts,opername,module,action,obj1,ver1,ver2,ver3,ver4".split(","),[CommonApi.getSelfUin(),+new Date,"PC_grpdata","member","load",b.groupUin,g.StartNavigateTS-g.StartVisitTS,h.domainLookupStart-h.domainLookupEnd,i.hash.index_loaded-i.hash.base,k.hash.end-k.hash.start]);window.external.CallHummerApi("Default.DataReportEx",JSON.stringify(o))}catch(q){}a("#container").removeAttr("data-tab")}}},ra=function(a,b){a.sort(function(a,c){var d=a.getAttribute("data-role"),
e=c.getAttribute("data-role"),f=a.getAttribute("data-points"),m=c.getAttribute("data-points"),g=a.getAttribute("data-join")||"",h=c.getAttribute("data-join")||"",d=d.localeCompare(e)*-1,f=parseInt(f)-parseInt(m),g=g.localeCompare(h);return(d==0?f==0?g:f:d)*-b})},da=function(c,d){var e="data-"+c,f=d?-1:1;if(c!="tag"||H){c=="role"?ra(b.mapList,f):c=="points"?(b.mapList.sort(function(a,b){var c=a.getAttribute("data-points"),d=b.getAttribute("data-points"),e=a.getAttribute("data-join")||"",m=b.getAttribute("data-join")||
"",c=parseInt(c)-parseInt(d),e=e.localeCompare(m);return(c==0?e:c)*-f}),C(18)):c=="gradeName"?b.mapList.sort(function(a,b){var c=a.getAttribute("data-grade"),d=b.getAttribute("data-grade"),e=a.getAttribute("data-join")||"",m=b.getAttribute("data-join")||"",c=parseInt(c)-parseInt(d),e=e.localeCompare(m);return(c==0?e:c)*-f}):b.mapList.sort(function(a,b){var c=a.getAttribute(e),d=b.getAttribute(e);return c.localeCompare(d)*f});var g=document.createDocumentFragment();b.mapList.forEach(function(a){g.appendChild(a)});
b.$wrapper.html("");b.$wrapper[0].appendChild(g);b.offsetBottomLimit=170+b.$main.height();b.wrapperHeight=b.$wrapper.parent().height();s(b.memUin,function(c){try{var d=a("#"+c).addClass("focus"),e=b.enableEdit;b.enableEdit=false;b.$wrapper.parent().prop("scrollTop",d.prop("offsetTop"));k=d;e==1&&setTimeout(function(){S(k.find(".card"))},100)}catch(f){}});U(T())}},ea=function(d){var e=a(d.target),f=d.clientX,g=d.clientY,h=true,i;a("#contextmenu").addClass("hidden");k&&(k.removeClass("focus"),i=k.attr("id"));
k=e.closest(".js-member-row").addClass("focus");if(d.type=="click"&&(b.sucMenu&&b.sucMenu.hide(),w)){var j=e.closest("ul"),n=j.find(".batch-checkbox"),l=a(d.target).hasClass("batch-checkbox");if(n.length&&d.button!=2)if(d.shiftKey&&i){b.$wrapper.find("ul");var o=false,p=j.attr("id");b.$wrapper.find(".js-member-row").each(function(c,d){var e=d.id,f=a(d);b.memDoms[e].indexOf('class="batch-checkbox"')!=-1&&(e==i||e==p?(o=!o,h=t.add(f,true)):o&&(h=t.add(f,true)))})}else(l=a(d.target).hasClass("batch-checkbox"))?
n.prop("checked")?h=t.add(j,false):t.remove(j,false):n.prop("checked")?t.remove(j,true):h=t.add(j,true);h||c.alert(1,"\u6e29\u99a8\u63d0\u793a","\u60a8\u6700\u591a\u53ea\u80fd\u9009\u62e9"+t.maxLen()+"\u4f4d\u6210\u5458")}d.type=="contextmenu"?a.contains(b.$wrapper[0],e[0])?(d=[],j=k.attr("id"),e=c.isAllowEditCard(""+j),j=c.getIsShieldGroupMem(j),k.data("role"),n=k.data("shut-talk"),l=-1,b.version>=5335&&(l=7,n&&(l=8)),b.role==="1"&&(d=k.data("ismyself")===1?q([1,3]):k.data("isfriend")===1?j?!e?q([0,
1,6,l,5]):q([0,1,3,6,l,5]):!e?q([0,1,4,l,5]):q([0,1,3,4,l,5]):j?!e?q([0,1,2,6,l,5]):q([0,1,2,3,6,l,5]):!e?q([0,1,2,4,l,5]):q([0,1,2,3,4,l,5])),b.role==="2"&&(d=k.data("ismyself")===1?q([1,3]):k.data("isfriend")===1?j?k.data("role")===1?q([0,1,6,5]):k.data("role")===2?e?q([0,1,3,6,5]):q([0,1,6,5]):e?q([0,1,3,6,l,5]):q([0,1,6,l,5]):k.data("role")===1?q([0,1,4,5]):k.data("role")===2?e?q([0,1,3,4,5]):q([0,1,4,5]):e?q([0,1,3,4,l,5]):q([0,1,4,l,5]):k.data("role")===1?q([0,1,2,6,5]):k.data("role")===2?e?
q([0,1,2,3,6,5]):q([0,1,2,6,5]):e?q([0,1,2,3,6,l,5]):q([0,1,2,6,l,5])),b.role==="3"&&(d=k.data("ismyself")===1?q([1,3]):k.data("isfriend")===1?j?q([0,1,6,5]):q([0,1,4,5]):j?q([0,1,2,6,5]):q([0,1,2,4,5])),b.menu.setItems(d),b.menu.show(),b.menu.position(f+2,g+2)):(b.menu&&b.menu.hide(),b.sucMenu&&b.sucMenu.hide()):b.menu&&b.menu.hide()},Ra=function(){if(!c.isOnline())return h.showTips("\u60a8\u5df2\u7ecf\u5904\u4e8e\u79bb\u7ebf\u72b6\u6001\uff0c\u8bf7\u4e0a\u7ebf\u540e\u518d\u6b21\u5c1d\u8bd5",k),
false;var a=k.attr("id");a&&c.sendMsgToGroupMem(a);return false},Sa=function(d){ea(d);var e=a(d.target),f=k.attr("id"),d=a(d.target).closest("ul").attr("data-black")=="1",g=b.$main.is(".black-member-mode");if(e.is("button")){if((b.role=="1"||b.role=="2"||e.hasClass("view-info"))&&!c.isOnline())return h.showTips("\u60a8\u5df2\u7ecf\u5904\u4e8e\u79bb\u7ebf\u72b6\u6001\uff0c\u8bf7\u4e0a\u7ebf\u540e\u518d\u6b21\u5c1d\u8bd5",{$focusElem:e}),false;var i=parseInt(a("#cur-admin-num").html()),j=parseInt(a("#total").html()),
l=k.data("role")||"0";e.hasClass("view-info")&&(g?p(23):d&&p(27),p(8,l==3?0:1),o(f,function(a){c.openUserInfo(a+"","1")}));if(e.hasClass("set-admin")){p(4);if(b.role!=="1")return false;if(i===j)return c.hummerGroupMsg("\u7fa4\u7ba1\u7406\u5458\u4eba\u6570\u5df2\u8fbe\u4e0a\u9650\uff0c\u60a8\u53ef\u4ee5\u589e\u52a0\u7ba1\u7406\u5458\u4eba\u6570\u540e\u518d\u8fdb\u884c\u8bbe\u7f6e","\u63d0\u793a",1)===1&&(d="http://ptlogin2.qq.com/ext_num?clientuin="+c.getUin()+"&clientkey="+c.getClientKey()+"&gc="+
(b.groupUin||c.getGroupUin()),window.open(d)),false;j=k.data("nick")+"("+f+")";c.hummerGroupMsg("\u8bbe\u7f6e  "+j+"  \u4e3a\u7ba1\u7406\u5458","\u8bbe\u7f6e\u7ba1\u7406\u5458",1)===1&&B("setAdmin",{u:f,op:1},function(c){c.ec===0&&(p(5),e.addClass("role-admin").removeClass("set-admin").attr("title","\u7ba1\u7406\u5458").html("\u7ba1\u7406\u5458"),k.removeClass("member").addClass("admin"),a("#cur-admin-num").html(i+1),b.mapList.forEach(function(a){a.id===f&&a.setAttribute("data-role","2")}),window.postMessage(JSON.stringify({event:"OnAdminChange",
from:"Home"}),"*"))})}if(e.hasClass("role-admin")){if(l=="1"||b.role!=="1"&&l=="2")return false;if(w)return false;j=k.data("nick")+"("+f+")";c.hummerGroupMsg("\u53d6\u6d88  "+j+"  \u7ba1\u7406\u5458\u8eab\u4efd","\u53d6\u6d88\u7ba1\u7406\u5458",1)===1&&B("setAdmin",{u:f,op:0},function(c){c.ec===0&&(e.addClass("set-admin").removeClass("role-admin").attr("title","\u8bbe\u7f6e\u7ba1\u7406\u5458").html("\u8bbe\u7f6e\u7ba1\u7406\u5458"),k.removeClass("admin").addClass("member"),a("#cur-admin-num").html(i-
1),b.mapList.forEach(function(a){a.id===f&&a.setAttribute("data-role","3")}),window.postMessage(JSON.stringify({event:"OnAdminChange",from:"Home"}),"*"))})}if(e.hasClass("del-member")){g?p(22):d&&p(25);p(9);if(l=="1"||b.role!=="1"&&l=="2")return false;j=k.data("nick")+"("+f+")";c.getVersion();window.external.MarkCreditAndDelUser?o(f,function(a){window.external.MarkCreditAndDelUser(a+"")}):c.confirm(1,"\u5220\u9664\u7fa4\u6210\u5458","\u5c06  "+j+"  \u79fb\u51fa\u672c\u7fa4","\u5220\u9664\u7fa4\u6210\u5458").ret&&
o(f,function(a){B("deleteMember",{ul:a},function(b){K(b.ec,"",[a])},function(b){K(b.ec,"",[a])})})}}e.hasClass("mod-member")&&(d&&p(28),S(k.find(".card")))},K=function(d,e,f){d=parseInt(d);if(d===0){var g=parseInt(a("#cur-admin-num").html());p(10);a.each(f,function(d,e){s(e,function(d){var e=a("#"+d);e.hasClass("admin")&&(a("#cur-admin-num").html(g-1),window.postMessage(JSON.stringify({event:"OnAdminChange",from:"Home"}),"*"));e.attr("data-black")==1&&u.blackCount--;t.remove(a("#"+d));e.remove();
k&&k.is("#"+d)&&(k=null);u.updateMemeberList(d);b.mapList.forEach(function(a,c){a.id===d&&b.mapList.splice(c,1)});c.onRemoveMem(d)})});i.delMemberFromCache(f);u.renderBlackMemeberLabel();window.postMessage(JSON.stringify({from:"Member",event:"OnMemberNumChange",curMemberNum:b.mapList.length}),"http://qinfo.clt.qq.com");b.$main.is(".black-member-mode")&&u.blackCount===0&&a("#back-normal-member-list").trigger("click")}else d===2?c.alert(1,"\u6e29\u99a8\u63d0\u793a",e):c.alert(1,"\u6e29\u99a8\u63d0\u793a",
"\u5220\u9664\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5");b.$wrapper.scroll()},S=function(d){p(6);var e=null,f="",g=k.attr("id");c.isOnline()?(e=d.next(),d.hide(),e.data("nid",g).addClass("editable").show(),e.bind("input",function(){if(a(this).prop("compositionstart")!=true&&Str.byteLen(this.value,3)>=21)this.value=Str.getMaxlen(this.value,21)}).bind("compositionstart",function(){a(this).prop("compositionstart",true);console.log("compositionstart")}).bind("compositionend",function(){a(this).prop("compositionstart",
false);console.log("compositionend")}),e.blur(function(){var d=a(this).prev(),g=a(this);g.val(Str.getMaxlen(g.val(),21));var m=g.val();m===f?(d.html(Str.encodeHtml(m)).show(),g.hide()):(g=g.data("nid"),o(g,function(a){B("setCard",{u:a,name:m},function(){p(7);c.onAdmModifyMemCard(a);d.html(Str.encodeHtml(m)).show();e.hide();b.dataStore[a].c=m;b.memDoms[a]=b.memDoms[a].replace(/(<span class="card">)[^<]*(<\/span><input name="nick-input" value=")[^"]*/,"$1"+Str.encodeHtml(m)+"$2"+Str.encodeHtml(m))},
function(a){a.ec===11&&(h.showTips("\u7fa4\u6635\u79f0\u4e2d\u542b\u6709\u654f\u611f\u8bcd\uff0c\u8bf7\u60a8\u91cd\u65b0\u8f93\u5165",{$focusElem:e}),e.val(f).hide(),d.html(Str.encodeHtml(f)).show())})}))}),e.keydown(function(a){(a.keyCode===13||a.keyCode===27)&&this.blur()}),e.focus().select(),f=e.val()):h.showTips("\u60a8\u5df2\u7ecf\u5904\u4e8e\u79bb\u7ebf\u72b6\u6001\uff0c\u8bf7\u4e0a\u7ebf\u540e\u518d\u6b21\u5c1d\u8bd5")},sa=function(a,c,d){for(;c&&c!=d;){var e=c.id;if(b.dataStore[e]&&(b.dataStore[e].n.toLowerCase().indexOf(a)===
0||b.dataStore[e].c&&b.dataStore[e].c.toLowerCase().indexOf(a)===0))return c;c=c.nextElementSibling}return null},ta=function(c){if(document.activeElement.tagName!=="INPUT")b.charCode+=String.fromCharCode(c.keyCode).toLowerCase(),clearTimeout(this.keyTimer),this.keyTimer=setTimeout(function(){var c=k&&k[0]||b.$wrapper[0].firstElementChild,d=sa(b.charCode,c.nextElementSibling);d||(d=sa(b.charCode,b.$wrapper[0].firstElementChild,c));d&&(k.removeClass("focus"),k=a(d).addClass("focus"),b.$wrapper.parent().prop("scrollTop",
k.prop("offsetTop")));b.charCode=""},100)},ua=function(c){var d=a(document.activeElement),e=b.$main.is(".black-member-mode");switch(c.keyCode){case 13:b.menu&&b.menu.isShow()?d.mousedown():d.parent().hasClass("member-nav")&&d.click();break;case 9:c=d.closest("ul");c.length&&c.parent().is("#members")&&(k&&k.removeClass("focus"),c.addClass("focus"),k=c);break;case 27:b.menu&&b.menu.isShow()&&(b.menu.hide(),k.focus());e&&a("#back-normal-member-list").trigger("click");break;case 32:d.hasClass("close_btn")&&
d.click();if(w&&d.is(".batch-checkbox"))t[d.prop("checked")?"remove":"add"](d.closest("ul"));(d.is("#batch-modify")||d.is("#exit-batch-modify"))&&d.click()}},va=function(a){if(a.keyCode===38||a.keyCode===40)if(a.preventDefault(),b.menu&&b.menu.isShow())b.menu.keyMove(a.keyCode===38?"up":"down");else switch(a.keyCode===38?"up":"down"){case "up":if(!k){k=b.$wrapper.find("ul:last-child").addClass("focus");break}k.prev().length?(a=k.prev().focus().addClass("focus"),k.removeClass("focus")):(k.removeClass("focus"),
a=b.$wrapper.find("ul:last-child").addClass("focus").focus());k=a;break;case "down":if(!k){k=b.$wrapper.find("ul:first-child").addClass("focus");break}k.next().length?(a=k.next().focus().addClass("focus"),k.removeClass("focus")):(k.removeClass("focus"),a=b.$wrapper.find("ul:first-child").addClass("focus").focus());k=a}else a.keyCode===93&&(k&&k.length&&ea({target:k,clientX:k.width()/2,clientY:k.offset().top-(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),button:2}),
a.preventDefault())},Ta=function(){var a=T();U(a);for(a=0;a<b.shownList.length;a++)if(b.toShowList.indexOf(b.shownList[a])===-1){var c=document.getElementById(b.shownList[a]);if(c&&c.getAttribute("data-showed")==="true")c.innerHTML="",c.setAttribute("data-showed","false")}b.shownList=b.toShowList.slice()},Ua=function(){var c=a(".member-nav").find("li"),d;c.each(function(e){var f=a(this),g=f.find("span");if(g.hasClass("desc")||g.hasClass("asc"))d=e;f.index=e;f.click(function(){var f=a(this),g=f.find("span").eq(0),
h=0;g.hasClass("desc")?(g.addClass("asc").removeClass("desc"),da(f.data("sq"),true),h=1):(g.hasClass("asc")?g.addClass("desc").removeClass("asc"):(c.eq(d).find("span")[0].className="",g.addClass("desc")),da(f.data("sq")));b.curSeq=f.data("sq");switch(f.data("sq")){case "role":f=356540;break;case "nick":f=356542;break;case "card":f=356544;break;case "last-talk":f=356546;break;default:f=356617}a.report(f+h);d=e})});a("#gradeHelp").click(function(a){a.stopPropagation();window.open("http://kf.qq.com/menu/227_1.html");
C(17)})},wa=function(c){a(c.target).data("menuid")!=="gag"&&(b.menu.hide(),b.secMenu.hide())},xa=function(a){a=eval("("+a.data+")");if(a.event==="onTabChanged"&&a.to==="member")b.memUin=a.data.memuin,b.enableEdit=a.data.enableedit,ma()},ma=function(){if(b.memUin)try{var c=a("#"+b.memUin).addClass("focus");b.$wrapper.parent().prop("scrollTop",c.prop("offsetTop"));k&&k.removeClass("focus");k=c;b.enableEdit=="1"&&setTimeout(function(){S(k.find(".card"));if(k.find(".card"))b.enableEdit=false},60)}catch(d){}},
Va=function(){b.$wrapper.bind("dblclick",Ra).click(Sa);b.$wrapper.parent().scroll(function(){clearTimeout(b.scrollTimer);b.scrollTimer=setTimeout(Ta,33)});b.$main.on("contextmenu",ea);b.$wrapper.on("contextmenu",function(a){a.preventDefault()});document.addEventListener("keypress",ta,false);document.addEventListener("keyup",ua,false);document.addEventListener("keydown",va,false);document.addEventListener("click",wa,false);window.addEventListener("message",xa,false);document.getElementsByClassName("admin-detail")[0].addEventListener("click",
function(){p(3)},false);Ua()},fa=function(){a(".js-member-container").removeClass("has-member-tag").addClass("no-member-tag")},Wa=function(c){c=JSON.parse(c);if(V){if(c.OnMemTagChange&&c.OnMemTagChange.gc==b.groupUin)A.tag_info=c.OnMemTagChange.tag_info||{},a.each(A.mem_tag,function(a){typeof A.tag_info[a]=="undefined"&&delete A.mem_tag[a]}),oa(A),na(A)}else b.memTagDataExpire=true},qa=function(){var a=true;j.isVersionOk()||(a=false);b.role!=1&&b.role!=2&&(a=false);return a},pa=function(d){if(j.isVersionOk())if(b.role!=
1&&b.role!=2)fa();else{if(d.flag?(a(".js-member-container").removeClass("no-member-tag").addClass("has-member-tag"),a.report({aId:1188,v:b.role==1?1:0,flag1:b.groupUin})):fa(),a("#memTagEditor").on("click",function(c){j.openMemTagWin(b.groupUin);c.stopPropagation();a.report({aId:1185,v:b.role==1?1:0,flag1:b.groupUin})}),!b.memTagServerPushRegistered)b.memTagServerPushRegistered=true,c.onReceiveS2CMsg(Wa)}else fa()};window.M=b;var la=function(a,c){param={uin:b.selfUin,opername:"edu",module:"manage",
action:a,obj1:J,obj2:b.version};c&&(arr=["ver1","ver2","ver3","ver4"],arr.forEach(function(a){c[a]&&(param[a]=c[a])}));n.tdw(param)};return{init:function(){c.init({sendMsgToGroupMem:"SendMsgToGroupMem",groupMemAddFrined:"GroupMemAddFrined",impeachGroupMem:"ImpeachGroupMem",openContactSelecter:"OpenContactSelecter",hummerGroupOnShowTips:"Hummer_Group_OnShowTips",hummerGroupMsg:"Hummer_Group_ShowMessageBox",shieldGroupMem:"ShieldGroupMem",onRemoveMem:"OnRemoveMem",onShowTips:"OnShowTips",onAdmModifyMemCard:"OnAdmModifyMemCard",
isAllowEditCard:"IsAllowEditCard",getIsShieldGroupMem:"GetIsShieldGroupMem",ShowGroupInMemBanSpeechMsg:"ShowGroupInMemBanSpeechMsg",CallHummer:"CallHummerApi",getBanMenu:"GetBanSpeechMenuInfo"},{allowConcurrent:false});P=null;M=false;if(c.isOnline){var d=c.isOnline;c.isOnline=function(){var a=d();if(typeof a=="boolean")if(a==false){if(M)return false;P||(P=setTimeout(function(){M=true},1E4))}else P=null,M=false;return true}}ya();i.genSampleAPI2({cgiName:"qun_info/get_group_mem_tag",apiName:"get_group_mem_tag",
cacheTime:3E5});i.genSampleAPI2({apiName:"set_group_mem_tag",cgiName:"qun_info/set_group_mem_tag",type:"POST",cacheTime:0});i.genSampleAPI2({apiName:"set_group_shutup",cgiName:"qun_info/set_group_shutup",type:"POST",cacheTime:0});b.role=""+(c.getSelfIdentity()||Z("role"));b.dataStore={};b.mapList=[];b.curSeq="role";t.init();k=null;b.groupUin=Z("groupuin");b.charCode="";b.selfUin=c.getSelfUin();b.version=c.getVersion().version;a("body").bind("member:memberShut",Ca);a("body").bind("member:memberWebShut",
Aa);a("body").bind("member:groupWebShut",Ba);J=""+(c.getGroupUin()||Z("groupuin"));w=false;i.genSampleAPI2({cgiName:"qun_info/get_member_tag_flag",apiName:"get_member_tag_flag",cacheTime:0});B("getSetting",{},function(b){b.sys_show==1&&a("#container_member").removeClass("nograde").addClass("hasGrade")});i.genSampleAPI2({cgiName:"qun_info/get_sys_msg",apiName:"get_sys_msg",cacheTime:0})},show:function(c){TRecord.push("member","start");this.init();c.parentNode.innerHTML=d;b.$main=a(c.parentNode.firstElementChild);
h.init({parentNode:b.$main});b.$wrapper=a("#members");b.offsetTopLimit=170;b.memUin=c.memuin||"0";b.enableEdit=c.enableedit||false;b._enableEdit=c.enableedit||false;Ka();ia();a("<style>").html(f).appendTo(b.$main);Qa();Da();Va();b.menu=Fa;b.menu.init({id:"barMenu",maxHeight:313});b.secMenu=Ea;b.secMenu.init({id:"secMenu",maxHeight:313});a.report(356615);e.init({containerId:"gradeEditor",nameChanged:function(b){$uls=a("#members").find("ul");for(var c=0;c<$uls.length;c++){var d=a($uls[c]),e=a(d.find("li")[3]);
d.attr("data-gradename",b[d.attr("data-grade")]);e.html("<span>"+b["lvln"+d.attr("data-grade")]+"</span>")}z.levelname=b},getNameSuc:function(a){z.levelname=a}});l.init({status:{M:b,gc:J,report_edu_manage:la}});V=true},hide:function(){a("#tips_box").remove();document.removeEventListener("keypress",ta,false);document.removeEventListener("keyup",ua,false);document.removeEventListener("keydown",va,false);document.removeEventListener("click",wa,false);window.removeEventListener("message",xa,false);b.$wrapper.off("contextmenu");
a("#memTagEditor").off("click");V=false},destroy:function(){},canLeave:function(){return true}}})})();
