/*
 RequireJS text 2.0.10 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/requirejs/text for details
*/
(function(){(function(a,d){typeof define==="function"&&define.amd?define("bower_components/imweb/report_core",[],d):a.report_core=d()})(this,function(){function a(a,c){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(a,c);for(var s=0,r=a.length;s<r;s++)if(a[s]===c)return s;return-1}var d,g,e=function(){return 0},l,p=[],n=[],f=function(a){(new Image).src=(a||g)+p.join("|_|")+"&r="+Math.random();p=[]},j="aId,v,mId,flag1,flag2,flag3,ver,rev".split(","),c=function(b,c,s){var r={},d,h,i=
typeof b;if(i=="number")if(i=typeof c,i=="undefined"||i=="string")r.v=1,s=c,d=e(b)+"-1-"+b;else{if(i=="number")r.v=c,d=e(b)+"-1-"+b}else if(i=="object"){r=b;b=r.mId;s=c;if(!("v"in r))r.v=1;if(!("aId"in r))r.aId=e(b);var c=[],o;for(o in r)d=a(j,o),d!=-1&&(c[d]=r[o]);d=c.join("-").replace(/-(?=-)/g,"-0");h=r.bId}if(h)p.length>0&&d&&(clearTimeout(l),f()),d&&(clearTimeout(l),p.push(d),url="http://jsreport.qq.com/cgi-bin/report?id="+h+"&rs=",f(url));else{if(s=="once"){if(a(n,b)!=-1)return;n.push(b)}d&&
p.push(d);clearTimeout(l);s=="now"||b=="now"?f():l=setTimeout(function(){console.log("bid=============="+h);var a="";h&&(a="http://jsreport.qq.com/cgi-bin/report?id="+h+"&rs=");f(a)},20)}};c.ReportFactory=function(){var a={aId:1,v:1,mId:1,flag1:1,flag2:1,flag3:1,ver:1,rev:1};return function(m){var m=m||{},s=m.config||{},d=m.getDefaultOptFn;return function(f,h){var i=s[f];if(i){if(typeof h==="object")for(var o in h)i[o]=h[o];if(m.bId)i.bId=m.bId;if(i){o={};typeof d==="function"&&(o=d(i));if(typeof i===
"number")o.mId=i;else if(typeof i==="object"){for(var j in i)j in a&&(o[j]=i[j]);if(i.bId)o.bId=i.bId}c(o)}}}}}();c.config=function(a){d=a.bId;g="http://jsreport.qq.com/cgi-bin/report"+(a.ctype?a.ctype:"")+"?id="+d+"&rs=";a.aId&&(e=a.aId)};return c});(function(a,d){typeof define==="function"&&define.amd?define("modules/common/js/proj_cfg",[],d):a.proj_cfg=d()})(this,function(){return{reportCfg:{bId:167,aId:function(){return"0"}},badjsCfg:{bid:211,mid:345536,log_mid:{debug:355890,info:355891,error:355892,
fail:355893},close:0},DBCfg:{ec0_mid:347760,ec4_mid:347761,ecx_mid:347762,reloginFailed_mid:347763,basekeyRetryToMuch_mid:0},businessCfg:{page_404_mid:347764}}});(function(a,d){typeof define==="function"&&define.amd?define("modules/common/js/reportPatchJquery",["jquery","bower_components/imweb/report_core","./proj_cfg"],d):a.$=d(a.$,a.report_core,a.proj_cfg)})(this,function(a,d,g){d.config(g.reportCfg);var g=function(d,c){a.report(d,typeof c!=="undefined"?c:1)},e=new Image,l={appid:1000211,releaseversion:"@RELEASE_VERSION",
frequency:1},p=function(){var d=a.cookie.get("uin");return!d?null:parseInt(d.substring(1,d.length),10)},n=function(a,c,b){var m,s=[];if(!l.touin)l.touin=p();l.commandid=a;l.resultcode=c;l.tmcost=b;if(c==0){if(l.frequency=20,Math.floor(Math.random()*100+1)>5)return}else l.frequency=1;for(var d in l)l.hasOwnProperty(d)&&s.push(d+"="+encodeURIComponent(l[d]));m="http://wspeed.qq.com/w.cgi?"+s.join("&");m=m+"&t="+(new Date).getTime();setTimeout(function(){e.src=m},500)},f=!a,a=a||{};a.report=d;a.monitor=
g;a.mmreport=n;if(f)f=this||window,f.IM_report=d,f.IM_monitor=g,f.IM_mmreport=n;return a});(function(a,d){typeof define==="function"&&define.amd?define("bower_components/imweb/console",[a],d):d(a)})(this,function(){typeof this.console!="object"&&(this.console={});if(!this.console.debug)this.console.debug=function(){};if(!this.console.info)this.console.info=function(){};if(!this.console.log)this.console.log=function(){};if(!this.console.warn)this.console.warn=function(){};return this.console});(function(a,
d){typeof define==="function"&&define.amd?define("bower_components/imweb/badjs",[],d):a.Badjs=d()})(this,function(){var a=function(){var a;return function(){if(!a&&(a=((window.Simple||{}).browser||{}).info,!a)){a={type:""};var d=navigator.userAgent.toLowerCase();/webkit/.test(d)?a={type:"webkit",version:/webkit[\/ ]([\w.]+)/}:/opera/.test(d)?a={type:"opera",version:/version/.test(d)?/version[\/ ]([\w.]+)/:/opera[\/ ]([\w.]+)/}:/msie/.test(d)?a={type:"msie",version:/msie ([\w.]+)/}:/mozilla/.test(d)&&
!/compatible/.test(d)&&(a={type:"ff",version:/rv:([\w.]+)/});a.version=(a.version&&a.version.exec(d)||[0,"0"])[1]}return a}}(),d=this||window,g=function(d,e,n,f,j){var c=g._mid||195375,b=g._bid||102;f>0||f===0?c=f:f===-1&&(d="Script Error:"+d);if(!g.binfo)g.binfo=a();j=j||4;if(!g._closed)(new Image).src="http://badjs.qq.com/cgi-bin/js_report?level="+j+"&bid="+b+(c?"&mid="+c:"")+"&msg="+d+"|_|"+encodeURIComponent(e)+"|_|"+n+(g.binfo?"|_|browser:[type:"+g.binfo.type+",ver:"+g.binfo.version+"]":"")+
"&r="+Math.random()};g.init=function(a,d,e,f){g._mid=d;g._bid=a;g._smid=e;g._closed=f};g.check=function(a,e){for(var n in a)d[n]||g("File Load Error:"+n,a[n],0,e,8)};g.report=function(a,d,e,f,j){j||window[f]?a>0&&Badjs("Log Info:File Load Retry Success:"+f+" retry is"+a,e,0,241994,1):a==d&&Badjs("File Load Error:"+f+" retry is"+a,e,0,196584,8)};g.title=function(a,d){var e="";switch(a){case "file":return d?"File Load Error":"File Load Success";case "cgi":switch(d){case 0:e="CGI Load Success";break;
case 1:e="CGI NoLogin Error";break;case 4:e="CGI BaseKey Error"}return e+"!Ec:"+(d||"");case "http":switch(d){case -1:e="Http Empty Error";break;case 200:e="HTTP Load Success";break;case 404:e="HTTP Page Does Not Exist";break;case 500:e="HTTP Server Error";break;default:e="Http Info"}return e+"!Status:"+(d||"")}};var e=[];d.onerror=function(){e.splice.apply(arguments,[3,0,-1,null]);g.apply(this,arguments)};return g});(function(a,d){typeof define==="function"&&define.amd?define("modules/common/js/log",
["bower_components/imweb/badjs","./proj_cfg"],d):a.LOG=d(a.Badjs,a.proj_cfg)})(this,function(a,d){var g=d.badjsCfg;a.init(g.bid,g.mid,0,g.close);return function(d){var l,p,n,f,j={debug:1,info:2,error:4,fail:8};typeof d=="string"?(l=1,n="debug",f=g.log_mid[n],p=d,url=""):typeof d=="object"&&(n=d.type||"debug",l=j[n]||1,f=d.mid||g.log_mid[n],p=[],d.msg&&p.push("[msg]"+d.msg),p=p.join(","),url=d.url||"");a("LOG("+n+")["+p+"]",url,0,f,l)}});(function(a,d){typeof define==="function"&&define.amd?define("modules/common/js/login",
[],d):a.Login=d()})(this,function(){return{notLoginCallback:function(a){var d;try{d=JSON.parse(top.external.Hummer_IM_GetClientKey()).clientKey,console.info("clientkey="+d)}catch(g){console.info("clientkey_catch_e")}var e=$.cookie.uin();if(d&&e){var l=document.createElement("iframe"),p=function(){a&&typeof a.succ=="function"&&a.succ();l.onload=null;$.e.remove(l,"load",p);document.body.removeChild(l);l=null};l.onload=p;l.src="http://ptlogin2.qq.com/jump?clientuin="+e+"&clientkey="+d+"&u1="+encodeURIComponent("http://buluo.qq.com/loginproxy.html");
document.body.appendChild(l)}else console.info("clientkey && clientUin not defined!"),a&&typeof a.err=="function"&&a.err()}}});(function(a,d){typeof define==="function"&&define.amd?define("modules/common/js/miniUnderscore",[],d):a._=d()})(this,function(){var a={},d=Array.prototype,g=Object.prototype,e=d.slice,l=g.toString,p=g.hasOwnProperty,n=d.forEach,d=Array.isArray,f=function(a,c,d,r){if(a===c)return a!==0||1/a==1/c;if(a==null||c==null)return a===c;if(a instanceof j)a=a._wrapped;if(c instanceof
j)c=c._wrapped;var e=l.call(a);if(e!=l.call(c))return false;switch(e){case "[object String]":return a==String(c);case "[object Number]":return a!=+a?c!=+c:a==0?1/a==1/c:a==+c;case "[object Date]":case "[object Boolean]":return+a==+c;case "[object RegExp]":return a.source==c.source&&a.global==c.global&&a.multiline==c.multiline&&a.ignoreCase==c.ignoreCase}if(typeof a!="object"||typeof c!="object")return false;for(var h=d.length;h--;)if(d[h]==a)return r[h]==c;var h=a.constructor,i=c.constructor;if(h!==
i&&(!j.isFunction(h)||!(h instanceof h&&j.isFunction(i)&&i instanceof i))&&"constructor"in a&&"constructor"in c)return false;d.push(a);r.push(c);h=0;i=true;if(e=="[object Array]"){if(h=a.length,i=h==c.length)for(;h--;)if(!(i=f(a[h],c[h],d,r)))break}else{for(var o in a)if(j.has(a,o)&&(h++,!(i=j.has(c,o)&&f(a[o],c[o],d,r))))break;if(i){for(o in c)if(j.has(c,o)&&!h--)break;i=!h}}d.pop();r.pop();return i},j=function(){};j.isEqual=function(a,c){return f(a,c,[],[])};j.isFunction=function(a){return typeof a===
"function"};j.has=function(a,c){return p.call(a,c)};j.isArray=d||function(a){return l.call(a)=="[object Array]"};j.isObject=function(a){return a===Object(a)};var c=j.each=j.forEach=function(c,m,d){if(c!=null)if(n&&c.forEach===n)c.forEach(m,d);else if(c.length===+c.length)for(var f=0,e=c.length;f<e;f++){if(m.call(d,c[f],f,c)===a)break}else for(var h=j.keys(c),f=0,e=h.length;f<e;f++)if(m.call(d,c[h[f]],h[f],c)===a)break};j.extend=function(a){c(e.call(arguments,1),function(c){if(c)for(var d in c)a[d]=
c[d]});return a};j.clone=function(a){return!j.isObject(a)?a:j.isArray(a)?a.slice():j.extend({},a)};j.indexOf=function(a,c){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(a,c);for(var d=0,f=a.length;d<f;d++)if(a[d]===c)return d;return-1};return j});(function(a,d){typeof define==="function"&&define.amd?define("modules/common/js/db",["jquery","./log","./login","./proj_cfg","modules/common/js/miniUnderscore"],d):a.DB=d(a.$,a.LOG,a.Login,a.proj_cfg,a._)})(this,function(a,d,g,e,l){a.cookie=
a.cookie||{get:function(a){a=document.cookie.match(RegExp("(^| )"+a+"=([^;]*)(;|$)"));return!a?"":decodeURIComponent(a[2])}};var p=e.DBCfg,n={},f={status:{bkn:"",baseKeyHello:true},isLoginError:false,encryptSkey:function(c){if(!c)return a.report&&a.report(45),"";for(var b=5381,m=0,d=c.length;m<d;++m)b+=(b<<5)+c.charAt(m).charCodeAt();return b&2147483647},cgiHttp:function(c){if(c&&c.url){var b=this;c.param=c.param||{};var m,s=(new Date).getTime(),e=function(h){var i=(new Date).getTime()-s,o=(h||{}).ec,
j,u;typeof o=="undefined"&&(o=999);try{IM_mmreport(c.url,o,i)}catch(q){a.mmreport(c.url,o,i)}switch(o){case 0:j=false;(c.succ||function(){})(h);break;case 1:f.isLoginError=true;d({type:"info",msg:"CGI NoLogin Error! Ec :"+o,url:c.url,mid:p.ec0_mid});b.cgiHttp.basekeytimes>=3?(j=true,d({type:"error",msg:"basekey\u7eed\u671f\u540e, \u4ecd\u7136\u53d1\u73b0\u65e0\u767b\u9646\u6001! ",url:c.url})):c.noNeedLogin?j=true:g?g.notLoginCallback({succ:function(){c.param.bkn=b.status.bkn=b.encryptSkey(a.cookie.get("skey"));
m(c.url,c.type,c.param,e)},err:function(){d({type:"error",msg:"\u65e0\u767b\u9646\u6001\u540e\u8d70\u767b\u9646\u6d41\u7a0b\u4ecd\u7136\u5931\u8d25\u4e86! ",url:c.url,mid:p.reloginFailed_mid})}}):d({type:"error",msg:"\u65e0\u767b\u9646\u6001\u540e\u5c1d\u8bd5\u8d70\u91cd\u65b0\u767b\u9646\u6d41\u7a0b,\u4f46\u672a\u627e\u5230Login\u5bf9\u8c61! ",url:c.url});break;case 4:f.isLoginError=true;d({type:"info",msg:"CGI BaseKey Error! Ec :"+o,url:c.url,mid:p.ec4_mid});b.cgiHttp.basekeytimes>=3?(j=true,d({type:"error",
msg:"basekey\u7eed\u671f\u540e, \u4ecd\u7136\u53d1\u73b0basekey\u9519\u8bef! ",url:c.url})):(b.cgiHttp.basekeytimes=(b.cgiHttp.basekeytimes||0)+1,c.param.bkn=b.status.bkn=b.encryptSkey(a.cookie.get("skey")),m(c.url,c.type,c.param,e));break;case 2:u=j=true;break;case 3:j=true;break;default:u=j=true}j&&(c.err||function(){})(h);u&&d({type:"info",msg:"CGI Other Error! Ec :"+o,url:c.url,mid:p.ecx_mid})},j="GET",j=c.type?c.type:"POST";b.status.bkn=b.encryptSkey(a.cookie.get("skey"));c.param.bkn=b.status.bkn;
c.param.src="qinfo_v2";b.cgiHttp.basekeytimes=1;m=b.helpFunction;b.helpFunction(c.url,j,c.param,e)}},helpFunction:function(c,b,m,f){a.ajax({type:b.toUpperCase(),url:c,data:m,dataType:"text",success:function(a){var b={};try{b=JSON.parse(a)}catch(h){b={},console.debug(a),d({type:"error",msg:"json.parse\u51fa\u9519\uff01cgi = "+c,url:location.href,mid:373268})}f&&f(b)},error:function(a){var b={};try{b=JSON.parse(a)}catch(h){"string"===typeof a&&(b=eval("("+a+")")),d({type:"error",msg:"json.parse\u51fa\u9519\uff01cgi="+
c,url:location.href,mid:373268})}f&&f(b)}})},ajax:function(a){this.cgiHttp({url:a.url,type:a.type,param:a.data||{},succ:a.success||function(){},err:a.error||function(){}})},api_sample:function(a){var b={};b.param=a.param||{};b.url="/cgi-bin/cgi_sample";b.succ=function(b){(a.succ||function(){})(b)};b.err=function(b){(a.err||function(){})(b)};this.cgiHttp(b)},genSampleAPI:function(a,b){f[a]=f[a]||function(a){var c={};c.param=a.param||{};c.url="/cgi-bin/"+b;c.succ=function(c){(a.succ||function(){})(c)};
c.err=function(c){(a.err||function(){})(c)};f.cgiHttp(c)}},getCgiDownloadUrl:function(c,b){if(c){var m="/cgi-bin/"+c,d;d=b||{};this.status.bkn=this.encryptSkey(a.cookie.get("skey"));d.bkn=this.status.bkn;d.src="qinfo_v2";d=a.param(d);return m+"?"+d}},isSameParam:function(c,b,d){d=d||[];c=this.delKeys(a.extend({},n[c].lastParam),d);b=this.delKeys(a.extend({},b),d);return l.isEqual(c,b)},delKeys:function(a){for(var b in a)l.indexOf(b)!=-1&&delete a[b];return a},setConfig:function(a,b){var d={},f;for(f in a)d[f]=
f in b?b[f]:a[f];return d},getCacheData:function(a){var a=n[a],b=null;if(a&&a.cacheData)b=a.cacheData;return b},setCacheData:function(){},genSampleAPI2:function(a){var b=a.cgiName,d=a.apiName;n[d]=n[d]||this.setConfig({lastParam:{},queue:[],cacheData:null,lastRequestSentTime:0,requestGotTime:0,queueTime:1E3,cacheTime:3E4},a);f[d]=f[d]||function(e){var j=new Date-0,q={};q.param=e.param||{};q.type=a.type||"GET";q.url="/cgi-bin/"+b;var h=new Date-0,i=n[d],o=f.isSameParam(d,e.param,["useCache"]);if(!o)n[d].lastParam=
l.clone(e.param);if(o&&i&&i.cacheData&&q.param.useCache!=false&&h-i.requestGotTime<=i.cacheTime)e.succ&&e.succ(i.cacheData);else{var g=window._pre_fetch_cache[b]||{};if(g.state=="waiting"&&h-g.lastRequestSentTime<=i.queueTime){i.queue.push(e);if(!g.flag)g.flag=true,i.lastRequestSentTime=g.lastRequestSentTime,window.addEventListener("message",function(a){a=eval("("+a.data+")");switch(a.event){case "PreFetchData":if(a.cgiName==b){a=g.data||{};i.cacheData=g.data;i.requestGotTime=new Date-0;for(var c=
0;c<i.queue.length;c++)a.ec==0?i.queue[c].succ&&i.queue[c].succ(a):i.queue[c].err&&i.queue[c].err(a);i.queue=[]}}});return}if(o&&h-i.lastRequestSentTime<=i.queueTime){i.queue.push(e);return}i.lastRequestSentTime=h;q.succ=function(a){i.cacheData=a;i.requestGotTime=new Date-0;for(var c=0;c<i.queue.length;c++)i.queue[c].succ&&i.queue[c].succ(a);i.queue=[];(e.succ||function(){})(a)};q.err=function(a){for(var c=0;c<i.queue.length;c++)i.queue[c].err&&i.queue[c].err(a);i.queue=[];(e.err||function(){})(a)};
f.cgiHttp(q)}j=new Date-0-j;j>1E3&&Badjs("DB genSampleAPI2:"+j,window.location,2,366176,2)};return f[d]},bkn:function(){return this.status.bkn||_this.encryptSkey(a.cookie.get("skey"))},nicks:function(a){var b={};b.param=a.param||{};b.url="/cgi-bin/qun_info/nicks";b.succ=function(b){(a.succ||function(){})(b)};b.err=function(b){(a.err||function(){})(b)};f.cgiHttp(b)},set_group_visit_list:function(a){var b={};b.param=a.param||{};b.type="POST";b.url="/cgi-bin/qun_info/set_group_visit_list";b.succ=function(b){(a.succ||
function(){})(b)};b.err=function(b){(a.err||function(){})(b)};f.cgiHttp(b)},get_group_visit_list:function(a){var b={};b.param=a.param||{};b.type="GET";b.url="/cgi-bin/qun_info/get_group_visit_list";b.succ=function(b){(a.succ||function(){})(b)};b.err=function(b){(a.err||function(){})(b)};f.cgiHttp(b)},get_group_share:function(a){var b={};b.param=a.param||{};b.type="GET";b.url="/cgi-bin/qun_info/get_group_share";b.succ=function(b){(a.succ||function(){})(b)};b.err=function(b){(a.err||function(){})(b)};
f.cgiHttp(b)},get_group_share_download:function(a){var b={};b.param=a.param||{};b.type="GET";b.url="/cgi-bin/qun_info/get_group_share_download";b.succ=function(b){(a.succ||function(){})(b)};b.err=function(b){b.ec>=201&&b.ec<=204&&d({type:"info",msg:"CGI Other Error! get_group_share_download Ec :"+b.ec,url:"/cgi-bin/qun_info/get_group_share_download",mid:352488});(a.err||function(){})(b)};f.cgiHttp(b)},get_group_last_photo:function(a){var b={};b.param=a.param||{};b.type="GET";b.url="/cgi-bin/qun_info/get_group_last_photo";
b.succ=function(b){(a.succ||function(){})(b)};b.err=function(b){(a.err||function(){})(b)};f.cgiHttp(b)},getDBData:function(){},setDBData:function(){},_face_seq_cbk:[],_face_seq:0,_face_cbk:function(a){var b=f._face_seq_cbk[a.seq];if(a&&a.ec===0){if(a.grp){var d=a.grp,e;for(e in d){var j=d[e];if(typeof j!="string"&&typeof j=="object"&&j.u)j=j.u,a.grp[e]=j}}b&&b.succ(a)}else b&&b.err(a)},_face_cbk_reged:false,_addFaceCbk:function(a){var b=this._face_seq;this._face_seq_cbk[this._face_seq]=a;this._face_seq++;
return b},getFaces:function(c){if(c&&c.param&&!(!c.param.qq&&!c.param.grp||!c.err&&!c.succ)){var b=this,d="http://face.imweb.qq.com/cgi-bin/face?",f=[];f.push("app=group_info");f.push("redir=0");if(!b._face_cbk_reged){var e=window.callback;window.callback=function(a){e&&e(a);b._face_cbk(a)};b._face_cbk_reged=true}var j=b._addFaceCbk({err:c.err,succ:c.succ});f.push("seq="+j);if(c.param&&c.param.qq){var h=c.param.qq,j=h.size||"40",h=h.ls.join("_");f.push("qq="+j+"|"+h)}if(c.param&&c.param.grp)j=c.param.grp,
c=j.size||"40",j=j.ls.join("_"),f.push("grp="+c+"|"+j);d+=f.join("&");a.http=a.http||{};a.http.jsonp=function(a){var c=document.createElement("script");c.src=a;document.getElementsByTagName("head")[0].appendChild(c)};a.http.jsonp(d)}},_imgCache:{},getImages:function(c){for(var b=c.param&&c.param.grp&&c.param.grp.ls||[],d=c.param&&c.param.qq&&c.param.qq.ls||[],e=function(a){var c="",b;for(b in a)c=b;return c},j=function(a,c){a.forEach(function(a){var b=e(a),a=a[b];a.onload=a.onerror=function(){this.style.visibility=
"visible";this.onload=this.onerror=null};a.src==c[b]?(a.style.visibility="visible",a.onload=this.onerror=null):a.src=c[b]})},g=[],h=0;h<b.length;h++)g.push({type:"grp",value:b[h]});for(h=0;h<d.length;h++)g.push({type:"qq",value:d[h]});if(g.length)if(g.length>20){d=Math.ceil(g.length/20);for(h=0;h<d;h++){for(var i=g.splice(0,20),o={param:{},succ:c.succ,err:c.err},v=0;v<i.length;v++){b=i[v];if(b.type=="grp")!o.param.grp&&(o.param.grp={ls:[]}),o.param.grp.ls.push(b.value);if(b.type=="qq")!o.param.qq&&
(o.param.qq={ls:[]}),o.param.qq.ls.push(b.value)}this.getImages(o)}}else{var u=[];if(typeof g[0].value=="object"){c=a.extend({},c);c.param.grp&&delete c.param.grp;c.param.qq&&delete c.param.qq;d=[];h=0;for(i=g.length;h<i;h++)if(o=g[h],b=o.value,v=e(b),b[v].style.visibility="hidden",this._imgCache[v])d.push(b);else{if(o.type=="grp")!c.param.grp&&(c.param.grp={ls:[]}),c.param.grp.ls.push(v);if(o.type=="qq")!c.param.qq&&(c.param.qq={ls:[]}),c.qq.ls.push(v);u.push(b)}d.length&&j(d,this._imgCache);c.succ=
function(c){j(u,a.oop.extend({},c.grp,c.qq))};c.err=function(){a.array.forEach(u,function(a){var c=e(a);a[c].style.visibility="visible"})}}f.getFaces(c)}},getSetting:function(a){var b={};b.param=a.param||{};b.type="GET";b.url="/cgi-bin/qun_info/get_group_setting";b.succ=function(b){(a.succ||function(){})(b)};b.err=function(b){(a.succ||function(){})(b)};f.cgiHttp(b)},setOpen:function(a){var b={};b.param=a.param||{};b.type="POST";b.url="/cgi-bin/qun_info/set_open";b.succ=function(b){(a.succ||function(){})(b)};
b.err=function(b){a.err?a.err(b):(a.succ||function(){})(b)};f.cgiHttp(b)},sendSms:function(a){var b={};b.param=a.param||{};b.type="POST";b.url="/cgi-bin/qun_info/send_sms";b.succ=function(b){(a.succ||function(){})(b)};b.err=function(b){(a.succ||function(){})(b)};f.cgiHttp(b)},setSearchGcOnly:function(a){var b={};b.param=a.param||{};b.type="POST";b.url="/cgi-bin/qun_info/set_search_gc_only";b.succ=function(b){(a.succ||function(){})(b)};b.err=function(b){(a.succ||function(){})(b)};f.cgiHttp(b)},setSetting:function(a){var b=
{};b.param=a.param||{};b.type="POST";b.url="/cgi-bin/qun_info/set_group_setting";b.succ=function(b){(a.succ||function(){})(b)};b.err=function(b){(a.succ||function(){})(b)};f.cgiHttp(b)},checkSensitive:function(a){var b={};b.param=a.param||{};b.type="POST";b.url="/cgi-bin/qun_info/check_sensitive_word";b.succ=function(b){(a.succ||function(){})(b)};b.err=function(b){(a.succ||function(){})(b)};f.cgiHttp(b)},getCard:function(a){var b={};b.param=a.param||{};b.type="POST";b.url="/cgi-bin/qun_info/get_group_card";
b.succ=function(b){(a.succ||function(){})(b)};b.err=function(b){(a.succ||function(){})(b)};f.cgiHttp(b)},setCard:function(a){var b={},d=this;b.param=a.param||{};b.type="POST";b.url="/cgi-bin/qun_info/set_group_card";b.succ=function(f){(a.succ||function(){})(f);var f=d.getCacheData("get_group_members_all")||d.getCacheData("get_group_members"),e=b.param.u;if(f){if(!f.cards)f.cards={};f.cards[e]=Str.encodeHtml(b.param.name)}};b.err=function(b){(a.err||function(){})(b)};f.cgiHttp(b)},setAdmin:function(a){var b=
{},d=this;b.param=a.param||{};b.type="POST";b.url="/cgi-bin/qun_info/set_group_admin";b.succ=function(f){(a.succ||function(){})(f);var f=d.getCacheData("get_group_members_all")||d.getCacheData("get_group_members"),f=f.adm=f.adm||[],e=b.param.op,j=Number(b.param.u),h=l.indexOf(f,j);e==1?h==-1&&f.push(j):h!=-1&&f.splice(h,1)};b.err=function(b){(a.succ||function(){})(b)};f.cgiHttp(b)},getMembers:function(a){var b={};b.param=a.param||{};b.type="POST";b.url="/cgi-bin/qun_info/get_group_members";b.succ=
function(b){(a.succ||function(){})(b)};b.err=function(b){(a.succ||function(){})(b)};f.cgiHttp(b)},getGroupMemNum:function(){var a=this.getCacheData(window.global_get_group_info);return a==null?null:a.gMemNum},delMemberFromCache:function(a){for(var b=(this.getCacheData("get_group_members_all")||this.getCacheData("get_group_members")).mems||[],a=this.getMap(a),d=0,f=b.length;d<f;d++)a[b[d].u]&&(b.splice(d,1),d--,f--)},getMap:function(a){for(var b={},d=0,f=a.length;d<f;d++)b[a[d]]=true;return b},deleteMember:function(a){var b=
{};b.param=a.param||{};b.type="POST";b.url="/cgi-bin/qun_info/delete_group_member";b.succ=function(b){(a.succ||function(){})(b)};b.err=function(b){(a.succ||function(){})(b)};f.cgiHttp(b)}},e=window.global_get_group_info,j=window._pre_fetch_cache[e].data;if(j)n[e]={queue:[],cacheData:j,lastRequestSentTime:new Date-0,requestGotTime:new Date-0,queueTime:1E3,cacheTime:3E4},window._pre_fetch_cache[e].data=null;return f});(function(){function a(a){if(typeof a!=="string")return false;try{a=(JSON&&JSON.parse||
function(a){return eval("("+a+")")})(a.replace(/[\u0000-\u001f]/g," "))}catch(b){return false}return a}function d(){return j=!e("Contact.IsOnline").online}function g(a){j=!a;for(var b=0,d=c.length;b<d;b++)c[b](a)}function e(b,c){var e;if(e=!b.match(f)){if(d())typeof(q=n.OFFLINE_TIPS)=="function"&&q();e=j}if(e)return false;if(e=window.external&&window.external.CallHummerApi){try{data=e.apply(this,arguments),data=a(data)}catch(g){return false}return data}return false}function l(a,b){if(typeof a!="object")return a;
var b=b||{},c;for(c in b)a[c]=b[c]}var p=this||window,n=p.CommonApi||(p.CommonApi={});n.version="0.1";var f=/(Contact\.IsOnline)|(Window\.)/,j,c=[],b=[],m=[],s,r,q;p.OnClientCall=function(c){c=a(c);if(c.type=="event")switch(c.cmd){case "OnQQOnlineEvt":g(true);break;case "OnQQOfflineEvt":g(false);break;case "OnReceiveS2CMsg":for(var c=c.param,d=0,f=m.length;d<f;d++)m[d](c);break;case "CanCloseWindow":a:{c=true;d=0;for(f=b.length;d<f;d++)if(c=b[d](),!c)break a}}else if(c.type=="callback")switch(c.cmd){case "OnOpenWebPicEvt":s&&
s(c.param);break;case "onClipScreenEvt":r&&r(c.param)}};l(n,{dataReport:function(a){return e("Default.DataReport",'{ "bigt" : "'+a+'" }')},getPerfTimeStamp:function(){return e("Default.GetPerfTimeStamp")},groupPopNewWebPage:function(a,b,c,d,f){return e("Group.PopNewWebPage",'{"width" : '+a+', "height" : '+b+', "title" : "'+d+'", "url" : "'+c+'", "singletonId":"'+f+'" }')},show:function(){return e("Window.Show")},hide:function(){return e("Window.Hide")},close:function(){return e("Window.Close")},maximize:function(){return e("Window.Maximize")},
minimize:function(){return e("Window.Minimize")},restore:function(){return e("Window.Restore")},resize:function(a,b){return e("Window.Resize",'{ "width" : '+a+', "height" : '+b+" }")},move:function(a,b){return e("Window.Move",'{ "offsetX" : '+a+', "offsetY" : '+b+" }")},setTitle:function(a){return e("Window.SetTitle",'{ "title" : "'+a+'" }')},reloadPage:function(){return e("Window.ReloadPage")},popNewWebPage:function(a,b,c,d){return e("Window.PopNewWebPage",'{ "width" : '+a+', "height" : '+b+', "title" : "'+
d+'", "url" : "'+c+'" }')},alert:function(a,b,c){return e("Window.Alert",'{ "iconType" : '+a+', "title" : "'+b+'", "text" : "'+c+'" }')},confirm:function(a,b,c){return e("Window.Confirm",'{ "iconType" : '+a+', "title" : "'+b+'", "text" : "'+c+'" }')},getSelfUin:function(){return e("Contact.GetSelfUin").uin},getNickname:function(a){return e("Contact.GetNickName",'{ "uin" : "'+a+'" }')},isOnline:function(){return!d()},isOffline:d,setRemark:function(a,b){return e("Contact.SetRemark",'{ "uin" : "'+a+
'", "remark" : "'+b+'" }')},openContactInfoCard:function(a,b){return e("Contact.OpenContactInfoCard",'{ "uin" : "'+a+'", "tabId" : '+b+" }")},addFriend:function(a,b){return e("Contact.AddFriend",'{ "uin" : "'+a+'", "name" : "'+b+'" }')},openChatSession:function(a){return e("Contact.OpenChatSession",'{ "uin" : "'+a+'" }')},getVersion:function(){return e("IM.GetVersion")},getClientKey:function(){return e("IM.GetClientKey")},getSKey:function(){for(var a=e("IM.GetSKey"),b=a&&a.sKey,c=[],d=0,f=b.length;d<
f;d+=2)c.push(String.fromCharCode("0x"+b.slice(d,d+2)));a.skey=c.join("");return a},openGroupInfoCard:function(a,b){return e("Group.OpenGroupInfoCard",'{ "groupId" : "'+a+'", "tabId" : '+b+" }")},joinGroup:function(a){return e("Group.JoinGroup",'{ "groupId" : "'+a+'" }')},downloadFile:function(a,b,c){return e("Misc.DownloadFile",'{ "url" : "'+a+'", "fileName" : "'+b+'", "fileSize" : "'+c+'" }')},openWebPic:function(a,b){s=b;return e("Misc.OpenWebPic",'{ "url" : "'+a+'", "function" : "OnOpenWebPicEvt" }')},
clipScreen:function(a,b,c,d,f){r=f;return e("Misc.ClipScreen",'{ "url" : "'+c+'", "cookies" : "'+a+'", "parameters" : "'+b+'", "method" : "'+d+'", "uploaded" : "onClipScreenEvt" }')},onQQStateChange:function(a){typeof a==="function"&&c.push(a)},onCanCloseWindow:function(a){typeof a==="function"&&b.push(a)},onReceiveS2CMsg:function(a){typeof a==="function"&&m.push(a)},offReceiveS2CMsg:function(a){a=m.indexOf(a);a!=-1&&m.splice(a,1)},extend:function(a,b){var c=Object.prototype.toString.call(a);c===
"[object String]"?this[a]=b:c==="[object Object]"&&l(this,a)},debug:function(a){var b=document.createElement("p");b.innerHTML=a;document.body.insertBefore(b,document.body.childNodes[0])}})})();define("commonapi",function(a){return function(){return a.CommonApi}}(this));(function(a,d){typeof define==="function"&&define.amd?define("htmlEncode",[],d):a.htmlEncode=d()})(this,function(){function a(a,b,c){return!b&&!c?p[a]||a:String.fromCharCode(b||c)}function d(a){return b[a]}function g(a){for(var b=0;b<
s.length;b++)a=a.replace(RegExp("<(/?\\s*"+s[b]+")[^>]*>","ig"),function(a,b){return b.match(/^\//)?"\n":""});return a.replace(/<\/?[^>]*>/gi,"").replace(RegExp("&nbsp;","gi")," ").replace(/\u200B/g,"").replace(/(\r\n|\n|\r)$/g,"")}var e=/&quot;|&lt;|&gt;|&amp;|&nbsp;|&apos;|&#(\d+);|&#(\d+)/g,l=/['<> "&]/g,p={"&quot;":'"',"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" "},n=/\u00a0/g,f=/<br\s*\/?>/ig,j=/\r?\n/g,c=/\s/g,b={},m;for(m in p)b[p[m]]=m;p["&apos;"]="'";b["'"]="&#39;";var s="li,del,ins,fieldset,legend,tr,th,caption,thead,tbody,tfoot,p,h[1-6],dl,dt,dd,ol,ul,dir,address,blockquote,center,hr,pre,form,textarea,table".split(",");
return{encode:function(a){return a?(""+a).replace(l,d).replace(j,"<br/>").replace(c,"&nbsp;"):""},decode:function(b){return b?(""+b).replace(f,"\n").replace(e,a).replace(n," "):""},encodeBase16:function(a){if(!a)return a;a+="";for(var b=[],c=0,d=a.length;c<d;c++)b.push(a.charCodeAt(c).toString(16).toUpperCase());return b.join("")},decodeBase16:function(){if(!str)return str;str+="";for(var a=[],b=0,c=str.length;b<c;b+=2)a.push(String.fromCharCode("0x"+str.slice(b,b+2)));return a.join("")},normalText:function(a){return g(a)},
decodeForMobile:function(a){return(""+a).replace(/<br>/,"&lt;br&gt;").replace(RegExp("\u0014&amp;nbsp;"),"&nbsp;")}}});(function(a,d){typeof define==="function"&&define.amd?define("face",["simple"],d):a.face=d(a.$)})(this,function(a){var d=function(){var g;function e(e){t=a.dom.getNode("div",{"class":(e.cls?e.cls+" ":"")+"face_selector"});window.setTimeout(function(){t.innerHTML='<div class="face_hover"></div><div class="inner_pnl"></div><div class="row"></div><div class="bg"></div>';x=a.dom.queryClass("face_hover",
"div",t);A=a.dom.queryClass("inner_pnl","div",t);for(var h=[],i=0;i<105;)h.push('<a href="javascript:void(0)" i='+i+' hidefocus="true"></a>'),i++;A.innerHTML=h.join("");a.e.add(A,"click",c);a.e.add(A,"mousedown",j);a.e.add(A,"mouseenter",p);a.e.add(A,"mouseleave",n);a.e.add(A,"mouseover",l);a.e.add(document,"mouseup",f);a.e.add(document,"click",s);a.oop.addObserver(d,"saveFace",b);D=a.dom.queryClass("row","div",t);J=true;m(e)},0)}function l(b){b=b.target;if(b.tagName=="A"&&(b=b.getAttribute("i"))){var c=
r[b];if(c){var d=Math.floor(b/Q),d=b%Q<2&&d<2;if(!(d&&x._right||!d&&!x._right&&typeof x._right!="undefined")){var f={};f[d?"right":"left"]="7px";f[d?"left":"right"]="";a.css.setStyle(x,f);x._right=d}x.innerHTML='<div class="img"><img class="face" title="'+c+'" src="http://0.web.qstatic.com/webqqpic/style/face/'+b+'.gif" alt="[/'+c+']" rel="face"></div><div class="name">'+c+"</div>"}}}function p(){a.css.show(x)}function n(){a.css.hide(x)}function f(){document.body.releaseCapture&&document.body.releaseCapture();
a.e.remove(document,"mouseup",f)}function j(b){document.body.setCapture&&document.body.setCapture();b.preventDefault();b.stopPropagation();a.e.add(document,"mouseup",f)}function c(a){a.stopPropagation();if(a=a.target.getAttribute("i")){a="[/"+r[a]+"]";if(P)try{var b=P,c="",d=0,f=0;b.focus();if(b.setSelectionRange)d=b.selectionStart,f=b.selectionEnd,d!=f&&b.value.substring(d,f);else if(document.selection){var e,h=document.selection.createRange(),j=document.body.createTextRange();j.moveToElementText(b);
c=h.text;h.getBookmark();for(e=0;j.compareEndPoints("StartToStart",h)<0&&h.moveStart("character",-1)!==0;e++)b.value.charAt(e)=="\n"&&e++;d=e;f=c.length+d}e=f;var i=b.value,h=[],g;h[0]=i.substring(0,d);h[1]=a;h[2]=i.substr(e);g=h.join("");b.value=g}catch(o){}else i=document.createElement("div"),i.innerHTML=N(a),i=i.removeChild(i.getElementsByTagName("img")[0]),F&&F({text:a,dom:i});s()}}function b(){document.body.appendChild(t)}function m(b){P=b.input||null;S=b.parent||document.body;F=b.onSelect||
null;B=b.onHide||null;t.style.left=b.x+"px";t.style.top=b.y+"px";if(typeof b.rowX!=="undefined")D.style.left=b.rowX+"px";S.appendChild(t);a.css.show(t);t.style.visibility="hidden";var c=null;if(c=b.arrowTarget){var b=c.getBoundingClientRect(),d=t.getBoundingClientRect();d.top>=b.top?a.css.removeClass(D,"bottom_row"):a.css.addClass(D,"bottom_row");D.style.left=b.left-d.left-parseInt(g/2)+parseInt(a.css.getClientWidth(c)/2)+"px";a.css.show(D)}else a.css.hide(D);t.style.visibility="visible";G=true}function s(){a.css.hide(t);
G=false;B&&B()}var r="\u5fae\u7b11,\u6487\u5634,\u8272,\u53d1\u5446,\u5f97\u610f,\u6d41\u6cea,\u5bb3\u7f9e,\u95ed\u5634,\u7761,\u5927\u54ed,\u5c34\u5c2c,\u53d1\u6012,\u8c03\u76ae,\u5472\u7259,\u60ca\u8bb6,\u96be\u8fc7,\u9177,\u51b7\u6c57,\u6293\u72c2,\u5410,\u5077\u7b11,\u53ef\u7231,\u767d\u773c,\u50b2\u6162,\u9965\u997f,\u56f0,\u60ca\u6050,\u6d41\u6c57,\u61a8\u7b11,\u5927\u5175,\u594b\u6597,\u5492\u9a82,\u7591\u95ee,\u5618,\u6655,\u6298\u78e8,\u8870,\u9ab7\u9ac5,\u6572\u6253,\u518d\u89c1,\u64e6\u6c57,\u62a0\u9f3b,\u9f13\u638c,\u7cd7\u5927\u4e86,\u574f\u7b11,\u5de6\u54fc\u54fc,\u53f3\u54fc\u54fc,\u54c8\u6b20,\u9119\u89c6,\u59d4\u5c48,\u5feb\u54ed\u4e86,\u9634\u9669,\u4eb2\u4eb2,\u5413,\u53ef\u601c,\u83dc\u5200,\u897f\u74dc,\u5564\u9152,\u7bee\u7403,\u4e52\u4e53,\u5496\u5561,\u996d,\u732a\u5934,\u73ab\u7470,\u51cb\u8c22,\u793a\u7231,\u7231\u5fc3,\u5fc3\u788e,\u86cb\u7cd5,\u95ea\u7535,\u70b8\u5f39,\u5200,\u8db3\u7403,\u74e2\u866b,\u4fbf\u4fbf,\u6708\u4eae,\u592a\u9633,\u793c\u7269,\u62e5\u62b1,\u5f3a,\u5f31,\u63e1\u624b,\u80dc\u5229,\u62b1\u62f3,\u52fe\u5f15,\u62f3\u5934,\u5dee\u52b2,\u7231\u4f60,NO,OK,\u7231\u60c5,\u98de\u543b,\u8df3\u8df3,\u53d1\u6296,\u6004\u706b,\u8f6c\u5708,\u78d5\u5934,\u56de\u5934,\u8df3\u7ef3,\u6325\u624b,\u6fc0\u52a8,\u8857\u821e,\u732e\u543b,\u5de6\u592a\u6781,\u53f3\u592a\u6781".split(","),
q="\u53e3\u7ea2,\u94bb\u6212,\u9774\u5b50,\u706f\u7b3c,\u706f\u6ce1,\u70b9\u6ef4,\u7535\u89c6\u673a,\u7167\u76f8\u673a,\u98ce\u8f66,\u516c\u6587\u5305,\u8d2d\u7269\u888b,\u6d77\u9b42\u886b,\u7ea2\u9886\u5dfe,\u8774\u8776\u7ed3,\u7687\u51a0,\u706b\u8f66\u5934,\u706b\u7bad,\u9152\u676f,\u8721\u70db,\u516b\u722a\u9c7c,\u71d5\u5b50,\u5c0f\u732b,\u732b\u5934\u9e70,\u6bdb\u6bdb\u866b,\u9e8b\u9e7f,\u9e2d\u5b50,\u5c0f\u9e21,\u9752\u86d9,\u4e4c\u9f9f,\u718a\u732b,\u68d5\u718a,\u725b\u5976,\u82f9\u679c,\u6a31\u6843,\u6843\u5b50,\u6a58\u5b50,\u897f\u74dc,\u8349\u8393,\u5de7\u514b\u529b\u51b0\u68d2,\u9e21\u817f,\u592a\u9633,\u5f69\u8679,\u6d6e\u4e91,\u591a\u4e91,\u5c0f\u96e8,\u4e2d\u96e8,\u5927\u96e8,\u96ea\u82b1,\u6708\u5706,\u6c7d\u8f66,\u6728\u9a6c,\u95f9\u949f,\u94c5\u7b14,\u96e8\u4f1e,\u6c99\u53d1,\u624b\u67c4,UFO,\u918b\u575b,\u5b59\u609f\u7a7a,\u5510\u50e7,\u5929\u4f7f,\u6076\u9b54,\u62db\u8d22\u732b,\u5a03\u5a03\u5934,\u536b\u751f\u7eb8,\u4ed9\u4eba\u7403,\u9999\u70df,\u70df\u6597,\u677f\u7816,\u8759\u8760,\u5e7d\u7075,\u5357\u74dc\u706f".split(","),
h={"\u5472\u7259":{text:"\u5472\u7259",code:0},"\u8c03\u76ae":{text:"\u8c03\u76ae",code:1},"\u6d41\u6c57":{text:"\u6d41\u6c57",code:2},"\u5077\u7b11":{text:"\u5077\u7b11",code:3},"\u518d\u89c1":{text:"\u518d\u89c1",code:4},"\u6572\u6253":{text:"\u6572\u6253",code:5},"\u64e6\u6c57":{text:"\u64e6\u6c57",code:6},"\u732a\u5934":{text:"\u732a\u5934",code:7},"\u73ab\u7470":{text:"\u73ab\u7470",code:8},"\u6d41\u6cea":{text:"\u6d41\u6cea",code:9},"\u5927\u54ed":{text:"\u5927\u54ed",code:10},"\u5618":{text:"\u5618",
code:11},"\u9177":{text:"\u9177",code:12},"\u6293\u72c2":{text:"\u6293\u72c2",code:13},"\u59d4\u5c48":{text:"\u59d4\u5c48",code:14},"\u4fbf\u4fbf":{text:"\u4fbf\u4fbf",code:15},"\u70b8\u5f39":{text:"\u70b8\u5f39",code:16},"\u83dc\u5200":{text:"\u83dc\u5200",code:17},"\u53ef\u7231":{text:"\u53ef\u7231",code:18},"\u8272":{text:"\u8272",code:19},"\u5bb3\u7f9e":{text:"\u5bb3\u7f9e",code:20},"\u5f97\u610f":{text:"\u5f97\u610f",code:21},"\u5410":{text:"\u5410",code:22},"\u5fae\u7b11":{text:"\u5fae\u7b11",
code:23},"\u53d1\u6012":{text:"\u53d1\u6012",code:24},"\u5c34\u5c2c":{text:"\u5c34\u5c2c",code:25},"\u60ca\u6050":{text:"\u60ca\u6050",code:26},"\u51b7\u6c57":{text:"\u51b7\u6c57",code:27},"\u7231\u5fc3":{text:"\u7231\u5fc3",code:28},"\u793a\u7231":{text:"\u793a\u7231",code:29},"\u767d\u773c":{text:"\u767d\u773c",code:30},"\u50b2\u6162":{text:"\u50b2\u6162",code:31},"\u96be\u8fc7":{text:"\u96be\u8fc7",code:32},"\u60ca\u8bb6":{text:"\u60ca\u8bb6",code:33},"\u7591\u95ee":{text:"\u7591\u95ee",code:34},
"\u7761":{text:"\u7761",code:35},"\u4eb2\u4eb2":{text:"\u4eb2\u4eb2",code:36},"\u61a8\u7b11":{text:"\u61a8\u7b11",code:37},"\u7231\u60c5":{text:"\u7231\u60c5",code:38},"\u8870":{text:"\u8870",code:39},"\u6487\u5634":{text:"\u6487\u5634",code:40},"\u9634\u9669":{text:"\u9634\u9669",code:41},"\u594b\u6597":{text:"\u594b\u6597",code:42},"\u53d1\u5446":{text:"\u53d1\u5446",code:43},"\u53f3\u54fc\u54fc":{text:"\u53f3\u54fc\u54fc",code:44},"\u62e5\u62b1":{text:"\u62e5\u62b1",code:45},"\u574f\u7b11":{text:"\u574f\u7b11",
code:46},"\u98de\u543b":{text:"\u98de\u543b",code:47},"\u9119\u89c6":{text:"\u9119\u89c6",code:48},"\u6655":{text:"\u6655",code:49},"\u5927\u5175":{text:"\u5927\u5175",code:50},"\u53ef\u601c":{text:"\u53ef\u601c",code:51},"\u5f3a":{text:"\u5f3a",code:52},"\u5f31":{text:"\u5f31",code:53},"\u63e1\u624b":{text:"\u63e1\u624b",code:54},"\u80dc\u5229":{text:"\u80dc\u5229",code:55},"\u62b1\u62f3":{text:"\u62b1\u62f3",code:56},"\u51cb\u8c22":{text:"\u51cb\u8c22",code:57},"\u996d":{text:"\u996d",code:58},
"\u86cb\u7cd5":{text:"\u86cb\u7cd5",code:59},"\u897f\u74dc":{text:"\u897f\u74dc",code:60},"\u5564\u9152":{text:"\u5564\u9152",code:61},"\u74e2\u866b":{text:"\u74e2\u866b",code:62},"\u52fe\u5f15":{text:"\u52fe\u5f15",code:63},OK:{text:"OK",code:64},"\u7231\u4f60":{text:"\u7231\u4f60",code:65},"\u5496\u5561":{text:"\u5496\u5561",code:66},"\u94b1":{text:"\u94b1",code:67},"\u6708\u4eae":{text:"\u6708\u4eae",code:68},"\u7f8e\u5973":{text:"\u7f8e\u5973",code:69},"\u5200":{text:"\u5200",code:70},"\u53d1\u6296":{text:"\u53d1\u6296",
code:71},"\u5dee\u52b2":{text:"\u5dee\u52b2",code:72},"\u62f3\u5934":{text:"\u62f3\u5934",code:73},"\u5fc3\u788e":{text:"\u5fc3\u788e",code:74},"\u592a\u9633":{text:"\u592a\u9633",code:75},"\u793c\u7269":{text:"\u793c\u7269",code:76},"\u8db3\u7403":{text:"\u8db3\u7403",code:77},"\u9ab7\u9ac5":{text:"\u9ab7\u9ac5",code:78},"\u6325\u624b":{text:"\u6325\u624b",code:79},"\u95ea\u7535":{text:"\u95ea\u7535",code:80},"\u9965\u997f":{text:"\u9965\u997f",code:81},"\u56f0":{text:"\u56f0",code:82},"\u5492\u9a82":{text:"\u5492\u9a82",
code:83},"\u6298\u78e8":{text:"\u6298\u78e8",code:84},"\u62a0\u9f3b":{text:"\u62a0\u9f3b",code:85},"\u9f13\u638c":{text:"\u9f13\u638c",code:86},"\u7cd7\u5927\u4e86":{text:"\u7cd7\u5927\u4e86",code:87},"\u5de6\u54fc\u54fc":{text:"\u5de6\u54fc\u54fc",code:88},"\u54c8\u6b20":{text:"\u54c8\u6b20",code:89},"\u5feb\u54ed\u4e86":{text:"\u5feb\u54ed\u4e86",code:90},"\u5413":{text:"\u5413",code:91},"\u7bee\u7403":{text:"\u7bee\u7403",code:92},"\u4e52\u4e53":{text:"\u4e52\u4e53",code:93},NO:{text:"NO",code:94},
"\u8df3\u8df3":{text:"\u8df3\u8df3",code:95},"\u6004\u706b":{text:"\u6004\u706b",code:96},"\u8f6c\u5708":{text:"\u8f6c\u5708",code:97},"\u78d5\u5934":{text:"\u78d5\u5934",code:98},"\u56de\u5934":{text:"\u56de\u5934",code:99},"\u8df3\u7ef3":{text:"\u8df3\u7ef3",code:100},"\u6fc0\u52a8":{text:"\u6fc0\u52a8",code:101},"\u8857\u821e":{text:"\u8857\u821e",code:102},"\u732e\u543b":{text:"\u732e\u543b",code:103},"\u5de6\u592a\u6781":{text:"\u5de6\u592a\u6781",code:104},"\u53f3\u592a\u6781":{text:"\u53f3\u592a\u6781",
code:105},"\u95ed\u5634":{text:"\u95ed\u5634",code:106},"\u62db\u8d22\u8fdb\u5b9d":{text:"\u62db\u8d22\u8fdb\u5b9d",code:107},"\u53cc\u559c":{text:"\u53cc\u559c",code:108},"\u97ad\u70ae":{text:"\u97ad\u70ae",code:109},"\u706f\u7b3c":{text:"\u706f\u7b3c",code:110},"\u53d1\u8d22":{text:"\u53d1\u8d22",code:111},"K\u6b4c":{text:"K\u6b4c",code:112},"\u8d2d\u7269":{text:"\u8d2d\u7269",code:113},"\u90ae\u4ef6":{text:"\u90ae\u4ef6",code:114},"\u5e05":{text:"\u5e05",code:115},"\u559d\u5f69":{text:"\u559d\u5f69",
code:116},"\u7948\u7977":{text:"\u7948\u7977",code:117},"\u7206\u7b4b":{text:"\u7206\u7b4b",code:118},"\u68d2\u68d2\u7cd6":{text:"\u68d2\u68d2\u7cd6",code:119},"\u559d\u5976":{text:"\u559d\u5976",code:120},"\u4e0b\u9762":{text:"\u4e0b\u9762",code:121},"\u9999\u8549":{text:"\u9999\u8549",code:122},"\u98de\u673a":{text:"\u98de\u673a",code:123},"\u5f00\u8f66":{text:"\u5f00\u8f66",code:124},"\u9ad8\u94c1\u5de6\u8f66\u5934":{text:"\u9ad8\u94c1\u5de6\u8f66\u5934",code:125},"\u8f66\u53a2":{text:"\u8f66\u53a2",
code:126},"\u9ad8\u94c1\u53f3\u8f66\u5934":{text:"\u9ad8\u94c1\u53f3\u8f66\u5934",code:127},"\u591a\u4e91":{text:"\u591a\u4e91",code:128},"\u4e0b\u96e8":{text:"\u4e0b\u96e8",code:129},"\u949e\u7968":{text:"\u949e\u7968",code:130},"\u718a\u732b":{text:"\u718a\u732b",code:131},"\u706f\u6ce1":{text:"\u706f\u6ce1",code:132},"\u98ce\u8f66":{text:"\u98ce\u8f66",code:133},"\u95f9\u949f":{text:"\u95f9\u949f",code:134},"\u6253\u4f1e":{text:"\u6253\u4f1e",code:135},"\u5f69\u7403":{text:"\u5f69\u7403",code:136},
"\u94bb\u6212":{text:"\u94bb\u6212",code:137},"\u6c99\u53d1":{text:"\u6c99\u53d1",code:138},"\u7eb8\u5dfe":{text:"\u7eb8\u5dfe",code:139},"\u836f":{text:"\u836f",code:140},"\u624b\u67aa":{text:"\u624b\u67aa",code:141},"\u9752\u86d9":{text:"\u9752\u86d9",code:142}},i=null,o=null,v=null,u=/\[\/([\u4e00-\u9fa5OKN]{1,3})\]/g,I=RegExp("/("+q.join("|")+")","g"),G=false,J=false,P,S,t,A,x,D,F,B=null,Q=15;g=13;var N=function(b){return b?b.replace(u,function(b,c){var d=a.array.indexOf(r,c);return d>-1?'<img class="face" title="'+
c+'" src="http://0.web.qstatic.com/webqqpic/style/face/'+d+'.gif" alt="'+("[/"+c+"]")+'" rel="face">':b}):b},T=function(a){return a.replace(/\[\/([\u4e00-\u9fa5OKN]{1,3})\]/gi,function(a,b){var c=h[b];return c?String.fromCharCode(20)+String.fromCharCode(c.code):a})};(function(){i||(i={},a.array.forEach(r,function(a,b){i[a]=b}));o||(o={},a.array.forEach(q,function(a,b){o[a]=b+1}));if(!v){v=[];for(var b in h)v[h[b].code-0]=b}})();return{show:function(a){J?t&&t.innerHTML==""?e(a||{}):m(a):e(a||{})},
hide:s,isShow:function(){return G},code2Img:N,code2LnImg:function(a){return a?a.replace(I,function(a,b){var c=o[b];if(!c&&b.length>2){do b=b.substring(0,b.length-1),c=o[b];while(!c&&b.length>2)}return c?(c="http://imgcache.qq.com/club/item/indivsign/itemlist/$folder$/24_$id$.png".replace("$id$",c).replace("$folder$",c%10),'<img width=20 height=20 class="face ln_face" title="'+b+'" src="'+c+'" alt="'+("[/"+b+"]")+'" rel="face">'):a}):a},img2Code:function(a){return a?"[/"+a.title+"]":""},move:function(a,
b){t.style.left=parseInt(t.style.left)+a+"px";t.style.top=parseInt(t.style.top)+b+"px"},getPanelSize:function(){return{height:205,width:417}},hasFace:function(a){var b=false,c=null,d="";if(c=a.match(u))for(var a=0,f=c.length;a<f;a++)if(d=c[a],d=d.substring(2,d.length-1),typeof i[d]!=="undefined"){b=true;break}return b},isFace:function(a){return a.getAttribute("rel")==="face"},imgs2Code:function(a){return a.replace(/<img.+?\/>/gi,function(a){var b=a.match(/alt="(\[\/[\u4e00-\u9fa5OKN]{1,3}\])"/);return b?
b[1]:a})},faceCode2MoblieCode:T,moblieCode2FaceCode:function(a){return a.replace(/\u0014(.)/gi,function(a,b){var c=v[parseInt(b?b.charCodeAt(0):b)];return c?"[/"+c+"]":a})},moblieCode2Img:function(a){return a.replace(/\u0014(.)/gi,function(a,b){var c=v[parseInt(b?b.charCodeAt(0):b)];return c?N("[/"+c+"]"):a})},imgs2MoblieCode:function(a){return a.replace(/<img.+?\/>/gi,function(a){var b=a.match(/alt="(\[\/[\u4e00-\u9fa5OKN]{1,3}\])"/);return b?T(b[1]):a})},moblieCode2Text:function(a){return a.replace(/\u0014(.)/gi,
function(a,b){var c=v[parseInt(b?b.charCodeAt(0):b)];return c?"/"+c:a})}}}();return d});define("home","jquery,modules/common/js/reportPatchJquery,modules/common/js/db,commonapi,htmlEncode,face,xss,emojiface".split(","),function(a,d,g,e,l,p,n,f){var j,c,b,m,s,r,q,h,i;function o(b){var c=a("#group_master .js_visitor_name").add("#group_admin_list .js_visitor_name");g.nicks({param:{u:b.join("-")},succ:function(b){var d={};(b.ns||[]).forEach(function(a){d[a.u]=a.n});c.each(function(b,c){var f=a(c),e=f.attr("uin");
(e=d[e])&&f.html(e).prop("title",a("<span>"+e+"</span>").text())})},err:function(){}})}function v(a,b){return a.names&&a.names[b]||a.gAdminsName&&a.gAdminsName[b]||a.remarks&&a.remarks[b]||a.ns&&a.ns[b]||b}function u(a,c){c=c||function(){};b!=4?c(a):z[a]?c(z[a]):g.get_uin({param:{u:a,gc:m,useCache:false},succ:function(b){z[a]=b.u;c(b.u)},err:function(){}})}function I(b){TRecord.push("get_group_info","start");var c=new Date-0;g.get_group_info({param:{gc:m,useCache:s?false:true},succ:function(d){s=
false;j=d;console.log("home get_group_info err!");r++;q=d.gOwner;h=[d.gOwner];G(d);r===1&&(TRecord.push("get_group_info","end"),TRecord.report2("flag1=7809&flag2=1&flag3=56","get_group_info",{end:"16"}),window.postMessage(JSON.stringify({event:"get_group_info",from:"Home",time:new Date-0-c}),"http://qinfo.clt.qq.com"));var f=d.gOwner,e=[f],i="",m="",l=d.gAdmins||[],O=[];h=h.concat(d.gAdmins);i=v(d,f);i==f&&O.push(f);var m='<div class="visitor_item group_admin" id="visitor_item_'+f+'" uin="'+f+'">\t\t\t\t\t\t\t\t<img class="visitor_avator js_avatar js_show_profile" src="http://3.url.cn/qun/qinfo_v2/modules/profile/img/profile_default_head.png" width="30" height="30" uin='+
f+' />\t\t\t\t\t\t\t\t<span class="visitor_name js_visitor_name js_show_profile copyable" title="'+i+'" alt="'+i+'" uin='+f+">"+i+'</span>\t\t\t\t\t\t\t\t<span class="chat js_chat" uin='+f+"></span>\t\t\t\t\t\t\t</div>",ea=a("#visitor_item_"+f);ea.length?i!=f&&a(".js_visitor_name",ea).html(i):a("#group_master").html(m);if(l.filter(function(a){return a!=f}).length>=1){var ca=[],u=[],m="";l.forEach(function(a){a!=f&&(e.push(a),u.push(a),i=v(d,a),ca.push(i),i==a&&O.push(a),m+='<div class="visitor_item group_admin" id="visitor_item_'+
a+'" tabindex="0" uin="'+a+'">\t\t\t\t\t\t\t\t\t<img class="visitor_avator js_avatar js_show_profile" src="http://3.url.cn/qun/qinfo_v2/modules/profile/img/profile_default_head.png" width="30" height="30" uin='+a+' />\t\t\t\t\t\t\t\t\t<span class="visitor_name js_visitor_name js_show_profile copyable" title="'+i+'" alt="'+i+'" uin='+a+">"+i+'</span>\t\t\t\t\t\t\t\t\t<span class="chat js_chat" uin='+a+"></span>\t\t\t\t\t\t\t\t</div>")});a("#group_admin").show();var n=true;a("#group_admin_list .group_admin").length==
u.length?(u.forEach(function(b){a("#visitor_item_"+b).length||(n=false)}),n?(u.forEach(function(b,c){b!=ca[c]&&a("#visitor_item_"+b+" .js_visitor_name").html(ca[c])}),a("#group_admin_list").show()):a("#group_admin_list").html(m).show()):a("#group_admin_list").html(m).show()}else a("#group_admin").hide(),a("#group_admin_list").hide();O.length&&o(O);g.getImages({param:{qq:{size:40,ls:e}},succ:function(c){console.log("home getImages succ!");var c=c.qq||{},O;for(O in c)a("#visitor_item_"+O+" .js_avatar ").prop("src",
c[O].u.replace(/&amp;/g,"&"));b&&b(null,d)},err:function(){console.log("home getImages succ!");b&&b(null,d)}});k.succ(d.photo||{});w.succ(d.share||{})},err:function(a){k.err(a.photo||{});w.err(a.share||{});console.log("home get_group_info err!")}})}function G(b){b.gRIntro?(b=b.gRIntro||"\u7fa4\u4e3b\u5f88\u61d2\uff0c\u4ec0\u4e48\u90fd\u6ca1\u6709\u7559\u4e0b",a("#group_intro").html('<em class="element-invisible">\u7fa4\u4ecb\u7ecd\u662f</em><div id="group_rintro" style="font-size: 12px;font-family: \'\u5fae\u8f6f\u96c5\u9ed1\'">'+
n.filter(f.code2Img(p.moblieCode2Img(p.code2Img(l.decode(l.decodeForMobile(b))))))+"</div>")):(b=b.gIntro||"\u7fa4\u4e3b\u5f88\u61d2\uff0c\u4ec0\u4e48\u90fd\u6ca1\u6709\u7559\u4e0b",a("#group_intro").html('<em class="element-invisible">\u7fa4\u4ecb\u7ecd\u662f</em>'+n.filter(b)))}function J(a){var b=document.createElement("iframe");b.src=a;document.body.appendChild(b)}function P(){window.jubao_onClose=function(){var a=document.getElementById("jubao_photo_container");a&&a.parentNode&&a.parentNode.removeChild(a)}}
function S(){a("#not_open_join_group").bind("click",function(){e.joinGroup(m);a.report({aId:1119,flag1:m});K.gdtJoinGroupClick&&K.gdtJoinGroupClick("thumb")});a("#group_master").add("#group_admin_list").delegate(".js_show_profile","click",function(){var b=a(this).attr("uin");u(b,function(a){e.openContactInfoCard(a,1)})});a("#group_master").add("#group_admin_list").delegate(".group_admin","mouseenter",function(){var b=a(this).attr("uin");M[b]=setTimeout(function(){console.log(b);u(b)},50)});a("#group_master").add("#group_admin_list").delegate(".group_admin",
"mouseleave",function(){var b=a(this).attr("uin");M[b]&&(clearTimeout(M[b]),M[b]=null)});a("#share_container").delegate(".js_share_item","click",function(){document.getElementsByClassName("share_no_file")[0]?H(14):H(12);console.log("js_share_item clicked");if(x())e.confirm(1,"\u6e29\u99a8\u63d0\u793a","\u4e0b\u8f7d\u5171\u4eab\u6587\u4ef6\uff0c\u8bf7\u5148\u52a0\u7fa4\uff01").ret&&(e.joinGroup(m),a.report({aId:1121,flag1:m}));else if(i){var b=a(this);g.get_group_share_download({param:{gc:m,file_name:b.attr("n"),
file_path:b.attr("f"),bus_id:b.attr("b")},succ:function(a){J(a.url)},err:function(a){switch(a.ec){case 201:e.alert(1,"\u6e29\u99a8\u63d0\u793a","\u975e\u7fa4\u6210\u5458\u65e0\u6cd5\u4e0b\u8f7d\u7fa4\u6587\u4ef6\uff01");break;case 202:e.confirm(2,"\u6e29\u99a8\u63d0\u793a","\u6587\u4ef6\u6709\u75c5\u6bd2\uff0c\u786e\u8ba4\u7ee7\u7eed\u4e0b\u8f7d\u5417\uff1f").ret&&J(a.url);break;case 203:J(a.url);break;case 204:e.alert(1,"\u6e29\u99a8\u63d0\u793a","\u4e0b\u8f7d\u5931\u8d25\uff0c\u8be5\u6587\u4ef6\u4e0d\u5b58\u5728\uff01");
break;default:e.alert(1,"\u6e29\u99a8\u63d0\u793a","\u83b7\u53d6\u4e0b\u8f7d\u94fe\u63a5\u5931\u8d25\uff01")}}})}else t("http://qun.qzone.qq.com/group#!/"+m+"/share")});a("#photo_container").delegate(".js_share_photo","click",function(b){document.getElementsByClassName("share_no_photo")[0]?H(13):H(11);if(x())e.confirm(1,"\u6e29\u99a8\u63d0\u793a","\u67e5\u770b\u56fe\u7247\u8be6\u60c5\uff0c\u8bf7\u5148\u52a0\u7fa4\uff01").ret&&(e.joinGroup(m),a.report({aId:1120,flag1:m}));else{var c=a(b.target).attr("src");
c?u(m,function(){var a=c.split("/"),b=a.length,a="http://qzs.qq.com/qzone/photo/v7/page/photo.html#init=photo.v7/common/viewer2/index"+["&appid=421","&ownerUin="+q,"&from=newphoto2&useqzfl=1&useinterface=1&inqq=1","&topicId="+m+"_"+a[b-3],"&picKey="+a[b-2],"&pre="+c,"&preEncode=1"].join("");try{window.external.OpenViewer(a)}catch(d){}}):t("http://qun.qzone.qq.com/group#!/"+m+"/photo","_blank")}}).delegate(".js_img_jubao","click",function(b){var c;c=a(b.target).parents(".js_share_photo_item").attr("src").split("/");
var d=c.length;b=c[d-3];c=c[d-2];var d=K.cookie.uin(),f=m,e=document.getElementById("jubao_photo_container");if(!e)e=document.createElement("div"),e.id="jubao_photo_container",e.className="jubao_photo_container",document.body.appendChild(e);var h=document.createElement("iframe");h.src="http://jubao.qq.com/cn/jubao?appname=im&subapp=gzphoto&jubaotype=picture&uin="+d+"&guin="+f+"&photoid="+c+"&albumid="+b;e.appendChild(h);a.report({aId:1181,flag1:m})}).delegate(".js_share_photo_item","mouseenter mouseleave",
function(c){var c=c.type,d=a(this).find(".js_img_jubao");c==="mouseenter"?b!=1&&d.fadeIn():c==="mouseleave"&&d.fadeOut()});a("#jump_to_photo").bind("click",function(){t("http://qun.qzone.qq.com/group#!/"+m+"/photo","_blank")});a("#jump_to_share").bind("click",function(){t("http://qun.qzone.qq.com/group#!/"+m+"/share","_blank")})}function t(a){a="http://ptlogin2.qq.com/jump?clientuin="+e.getSelfUin()+"&clientkey="+e.getClientKey().clientKey+"&u1="+encodeURIComponent(a);window.open(a)}function A(a){a=
eval("("+a.data+")");switch(a.event||a.fn){case "OnGroupDataFetched":G(a.data);break;case "OnAdminChange":s=true}}function x(){return b!=1&&b!=2&&b!=3}function D(){a("#photo_container .js_ajust_photo").each(function(a,b){b.complete?K.adjust(b,138,102):b.onload=function(){this.onload=null;K.adjust(b,138,102)}})}function F(){return!!K.hash.get("data").match(/from_(.+)/)}function B(){TRecord.push("app_lecture_resource","start");y.parallel([function(b){a.ajax({url:"http://ke.qq.com/cgi-bin/get_agency_new_course",
type:"GET",dataType:"json",xhrFields:{withCredentials:true},data:{gcode:R.get("groupuin"),count:5},success:function(a){a.retcode===0?b(null,a.result):b(null,{items:[]});F()&&(TRecord.push("app_lecture_resource","get_group_class_info"),TRecord.report2("flag1=7809&flag2=1&flag3=56","app_lecture_resource",{get_group_class_info:"22"}))},error:function(){b(null,{items:[]})}})},function(a){require(["app_lecture"],function(b){a(null,b);if(F())TRecord.push("app_lecture_resource","app_lecture_js_loaded"),
TRecord.report2("flag1=7809&flag2=1&flag3=56","app_lecture_resource",{app_lecture_js_loaded:"23"}),(new Image).src=["http://jsreport.qq.com/cgi-bin/report?id=167&rs=0-0-390529","r="+Math.random()].join("&")})}],function(b,c){var d=c[0],f=c[1];d.items.length?(a("#group_photo_container").slideUp(),a("#group_file_container").slideUp(),a("#group_not_open_container").slideUp()):(a("#group_photo_container").slideDown(),a("#group_file_container").slideDown(),a("#group_not_open_container").slideDown());f&&
f.show({parentNode:a("#group_app_lecture_container"),data:d})})}function Q(){a("#photo_title").hide();a("#photo_container").hide();a("#share_title").hide();a("#share_container").hide();if(c&&j){var b=c,d=b.urls||[];d.length?(a("#not_open_pic_container").prop("className","not_open_pic_container js_has_photo"),a("#not_open_pic_container .js_img").prop("src",d[0].replace(/100$/,"200")),a("#not_open_pic_container .js_desc").html((b.total_num||0)+"\u5f20\u7167\u7247")):(a("#not_open_pic_container").prop("className",
"not_open_pic_container js_no_photo"),a("#not_open_pic_container .js_desc").html("\u6682\u65e0\u7167\u7247"));b=j;d=b.ls||[];d.length?(a("#not_open_share_container").prop("className","not_open_share_container js_has_share"),a("#not_open_share_container .js_desc").html((b.total_num||0)+"\u4e2a\u6587\u4ef6"),b=d[0].n.match(/\.([^\.]+)$/),d="default",d=b?L[b[1].toLowerCase()]||"default":"default",a("#not_open_share_container .js_share_type").prop("className","share_pic "+d)):(a("#not_open_share_container").prop("className",
"not_open_share_container js_no_share"),a("#not_open_share_container .js_desc").html("\u6682\u65e0\u6587\u4ef6"));a("#not_open_content_new").show()}}function N(){a("#not_open_content_new").hide();a("#photo_title").show();a("#photo_container").show();a("#share_title").show();a("#share_container").show()}function T(a){g.get_wpa_key({param:{gc:m,u:h.join("|")},succ:function(b){console.log("succ: get_wpa_key");a&&a(null,b)},err:function(){console.log("err: get_wpa_key")}})}function X(b){a(".group_admin .js_chat").each(function(c,
d){var f=a(d),e=f.attr("uin");b[e]?(a(".js_visitor_name",f.parent()).addClass("chat_with_wpa"),f.show()):(a(".js_visitor_name",f.parent()).removeClass("chat_with_wpa"),f.hide());a.report({aId:1130,flag1:m},"once")});a("#visitor .js_chat").on("click",function(){var c=a(this).attr("uin");window.open(decodeURIComponent(b[c]));a.report({aId:1064,flag1:m})})}function Y(a){if(window.__group_info_fetched)return a();var b,c=function(){C++>50?(clearTimeout(b),b=Y=null,a()):b=setTimeout(function(){window.__group_info_fetched?
(clearTimeout(b),b=Y=null,a()):c()},16)};c()}var K=window.Util,Z=null,R={get:function(a){a=window.location.hash.match(RegExp("(#|&)"+a+"=([^&]*)(&|$)"));return!a?"":decodeURIComponent(a[2])},set:function(a){location.hash="#"+a}};h=[];s=false;q="";i=true;r=0;b=void 0;m=void 0;c=null;j=null;var E={zip:["zip","7z"],rar:["rar"],txt:["txt","html"],pic:"jpg,jpeg,bmp,gif,png,pic,tif,psd,ai,cdr".split(","),video:"avi,wmv,rm,rmvb,swf,mp4,mov,mpg".split(","),music:"mp3,wma,wav,aif,au,ram,mid".split(","),exe:["exe"],
word:["doc","docx","dot","wps","rtf"],excel:["xls","xlsx"],ppt:["ppt","pptx"],pdf:["pdf"]},L={};(function(){for(var a in E)E[a].forEach(function(b){L[b]=a})})();var H=function(b,c){var d={1:[0,1063],2:[0,1064],3:[0,1065],4:[0,1066],5:[0,1067],6:[0,1068],7:[0,1069],8:[0,1070],9:[0,1071],10:[0,1072],11:[0,1073],12:[0,1074],13:[0,1075],14:[0,1076],15:[0,1077],16:[0,1078],15:[0,1079],15:[0,1080],15:[0,1081]};a.report({mId:d[b][0],aId:d[b][1],value:typeof c=="number"?c:1})},z={},M={},y=function(){return{parallel:function(a,
b){for(var c=a.length,d=a.length,f=[],e=false,h=0;h<d;h++)(function(d){a[d](function(a,h){a?e||(e=true,b(a,f)):(c--,f[d]=h,c||b(null,f))})})(h)}}}(),w={succ:function(b){console.log("get_group_share succ!");j=b;var c=x();if(b.f!=1&&c)a("#info_container").addClass("not_open_to_none_member"),a("#not_open_share_desc").html((b.total_num||0)+"\u4e2a\u6587\u4ef6"),Q();else{N();var d="";!b.ls||!b.ls.length?(i=false,d='<div class="share_item share_no_file_item js_share_item"><div class="share_no_file_icon"></div><div class="share_no_file_word">\u6682\u65e0\u6587\u4ef6</div></div>',
a("#share_container").html(d),c?a("#share_wording").html(""):a("#jump_to_share").hide()):(i=true,b.ls=b.ls.slice(0,3),b.ls.forEach(function(a){var b=a.n.match(/\.([^\.]+)$/);typeClass=b?L[b[1].toLowerCase()]||"default":"default";d+='<div class="share_item">\t\t\t\t\t\t\t\t\t<div class="share_pic js_share_item '+typeClass+'" n="'+a.n+'" f="'+a.f+'" b="'+a.b+'">\t\t\t\t\t\t\t\t\t\t<span class="share_download_arrow js_share_download"></span>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t<span class="share_name copyable" title="'+
a.n+'">'+a.n+'</span>\t\t\t\t\t\t\t\t\t<span class="share_upload_size copyable">'+((a.s||0)>=1048576?((a.s||0)/1048576).toFixed(2)+"MB":((a.s||0)/1024).toFixed(2)+"KB")+"</span>\t\t\t\t\t\t\t\t</div>"}),a("#share_container").html(d),c||a("#jump_to_share").show())}},err:function(){console.log("get_group_share err!");var b="";a("#share_container").html('<div class="share_item js_share_item"><div class="share_pic share_no_file"></div></div>');a("#share_wording").html("(\u7cfb\u7edf\u7e41\u5fd9)")}},
k={succ:function(b){c=b;console.log("get_group_last_photo succ!");var d=x();if(b.f!=1&&d)a("#info_container").addClass("not_open_to_none_member"),a("#not_open_pic_desc").html((b.total_num||0)+"\u5f20\u7167\u7247"),Q();else{N();var f="";!b.urls||!b.urls.length?(f='<div class="share_no_photo_item js_share_photo"><div class="share_no_photo_icon"></div><div class="share_no_photo_word">\u6682\u65e0\u56fe\u7247</div></div>',a("#photo_container").html(f),d?a("#photo_wording").html(""):a("#jump_to_photo").hide()):
(b.urls=b.urls.slice(0,3),b.urls.forEach(function(a){a=a.replace(/\/100\?/,"/200?");f+='<div class="share_photo_item js_share_photo_item" src="'+a+'">\t\t\t\t\t\t\t\t\t<img class="js_share_photo js_ajust_photo" src="'+a+'" />\t\t\t\t\t\t\t\t\t<div class="share_img_wrapper js_share_photo" src="'+a+'"></div>\t\t\t\t\t\t\t\t\t<span class="share_img_jubao js_img_jubao">\u4e3e\u62a5</span>\t\t\t\t\t\t\t\t</div>'}),a("#photo_container").html(f),d||a("#jump_to_photo").show(),D())}},err:function(){console.log("get_group_last_photo err!");
var b="";a("#photo_container").html('<div class="share_no_photo js_share_photo"></div>');a("#photo_wording").html("(\u7cfb\u7edf\u7e41\u5fd9)")}},C=0;return{init:function(){if(!this.initialized)this.initialized=true,R.get("tab"),b=R.get("role"),m=R.get("groupuin"),g.genSampleAPI2({apiName:"get_wpa_key",cgiName:"qun_info/get_wpa_key"}),setTimeout(function(){H(9)},2E3),S(),window.addEventListener("message",A),P();c=j=null},show:function(c){this.init();Z=c.parentNode;b==4?y.parallel([I],function(b,c){if(!b){var d=
c[0];T(function(b,c){X(c);var f={event:"get_group_info_done",from:"Home",html:a("#container_home").html(),header:a("#header").html(),groupuin:m,data:d};setTimeout(function(){window.postMessage(JSON.stringify(f),"http://qinfo.clt.qq.com")},1500)})}}):y.parallel([I],function(b,c){if(!b){var d={event:"get_group_info_done",from:"Home",html:a("#container_home").html(),header:a("#header").html(),groupuin:m,data:f},f=c[0];setTimeout(function(){window.postMessage(JSON.stringify(d),"http://qinfo.clt.qq.com")},
1500)}});try{Y(function(){var a=window._pre_fetch_cache[window.global_get_group_info];a&&a.data&&a.data.edu==1&&B()})}catch(d){console.debug(d)}window.addEventListener("message",A)},hide:function(){Z&&(Z=null)},destroy:function(){}}});(function(a,d){typeof define==="function"&&define.amd?define("async",[],d):a.Async=d()})(this,function(){return function(){return{parallel:function(a,d){for(var g=a.length,e=a.length,l=[],p=false,n=0;n<e;n++)(function(f){a[f](function(a,c){a?p||(p=true,d(a,l)):(g--,
l[f]=c,g||d(null,l))})})(n)}}}()});(function(a,d){typeof define==="function"&&define.amd?define("modules/profile/js/profile/ProfilePage",["async"],d):a.ProfilePage=d(a.Async)})(this,function(a){function d(){var a=document.getElementById("profileLayer");return a&&a.style.display==="block"}function g(){var a=document.getElementById("profileLoading");if(!a){var d=document.getElementById("profileLayer");if(!d)return;a=document.createElement("div");a.className="profile_loading";a.innerHTML='<div class="profile_loading_inner"><img src="http://3.url.cn/qun/qinfo_v2/modules/common/img/loading.gif" /><div tabIndex="0">\u6b63\u5728\u52a0\u8f7d\u6570\u636e\uff0c\u8bf7\u7a0d\u5019...</div></div>';
a.id="profileLoading";d.appendChild(a)}a.style.display="block";return a}function e(){var a=document.getElementById("profileLoading");if(a)a.style.display="none"}function l(){var a=function(a,c){console.debug("[registerClientApi]"+a+":"+c);window[a]=function(a){var d=document.getElementById("profileFrame").src.match(/^http:\/\/[\w\.]+\//ig);document.getElementById("profileFrame").contentWindow.postMessage('{"callBackName":"'+c+'","data":"'+encodeURIComponent(a)+'"}',d)}};window.addEventListener("message",
function(d){var c=eval("("+d.data+")"),d=d.origin;if(!(d!=="http://qqun.qq.com"&&d!=="http://qinfo.clt.qq.com")&&(c.fn&&a(c.apiName,c.callBackName),c.variable))window[c.variable]=c.value})}var p={},n=true;window.addEventListener("message",function(a){a=eval("("+a.data+")");if(a.from==="Profile")switch(a.event){case "dataLoaded":console.info("ProfilePage: handle event dataloaded!");break;case "beginJump404":console.info("ProfilePage: handle event beginJump404!");break;case "notLogin":console.info("ProfilePage: handle event notLogin!");
break;case "notLogin":console.info("ProfilePage: handle event notLogin!");break;case "destroy":console.info("ProfilePage: handle event destroy!");p.destroy();break;case "setGrpInfoSucc":console.info("ProfilePage: handle event setGrpInfoSucc!");window.postMessage("{'from':'ProfilePage','event':'setGrpInfoSucc'}","http://qinfo.clt.qq.com");break;case "onTagChange":console.info("ProfilePage: handle event onTagChange!"),window.postMessage(JSON.stringify({from:"ProfilePage",event:"onTagChange",data:a.data}),
"http://qinfo.clt.qq.com")}else if(a.from==="Index")switch(a.event){case "OnGroupHeadChanged":console.info("ProfilePage: handle event OnGroupHeadChanged!"),d()&&Profile.changeGroupHead()}});p.init=function(){TRecord.push("profile_click_edit","base");n&&(l(),window.postMessage("{'from':'ProfilePage','event':'registerClientApi','apiName':'saveProfile'}","http://qinfo.clt.qq.com"),window.postMessage("{'from':'ProfilePage','event':'registerClientApi','apiName':'checkModify'}","http://qinfo.clt.qq.com"),
n=false);g();document.getElementById("profileLayer").style.display="block";window.postMessage("{'from':'ProfilePage','event':'afterShow'}","http://qinfo.clt.qq.com");a.parallel([function(a){require(["profileIndex"],function(d){console.log("profileIndex loaded!");a(null,d)})},function(a){LoadCSS.load("http://2.url.cn/qun/qinfo_v2/modules/profile/css/387c.master.css",function(){e();a(null)})}],function(a,d){TRecord.push("profile_click_edit","init_start");d[0].init();e()});window.postMessage("{'from':'ProfilePage','event':'registerClientApi','apiName':'saveProfile'}",
"http://qinfo.clt.qq.com");window.postMessage("{'from':'ProfilePage','event':'registerClientApi','apiName':'checkModify'}","http://qinfo.clt.qq.com");window.postMessage("{'from':'ProfilePage','event':'registerClientApi','apiName':'saveModify'}","http://qinfo.clt.qq.com")};p.destroy=function(){e();document.getElementById("profileLayer").style.display="none";var a=Profile;typeof a==="object"&&a.hide();window.postMessage("{'from':'ProfilePage','event':'afterClose'}","http://qinfo.clt.qq.com")};p.isShow=
d;p.canLeave=function(){Profile.tryToLeave()};p.checkModify=function(){console.info("ProfilePage.checkModify() is calling");if(!d())return false;var a=Profile;return typeof a==="object"?a.checkModify():(console.warn("ProfilePage<fn:_checkModify>: isShow is true, but getProfileObject return not an object!"),false)};p.saveProfile=function(a){console.info("ProfilePage.saveProfile("+a+") is calling");var d=Profile;typeof d==="object"?d.saveProfile(a):console.warn("ProfilePage<fn:_saveProfile>: getProfileObject return not an object!")};
return window.ProfilePage=p});(function(a,d){typeof define==="function"&&define.amd?define("modules/common/js/tdw_report",[],d):a.report=d(a.report)})(this,function(a){function d(){if(g)return g;else{var a=[],c=0;return g=function(){var b=c++%10;return a[b]||(a[b]=new Image)}}}a=a||{};typeof JSON!=="object"&&(JSON={});if(typeof JSON.stringify!=="function")JSON.stringify=function(){};var g=null,e=function(a,c,b,f,e){if(a&&c&&b){var g="http://cgi.connect.qq.com/report/tdw/report?",a={table:a,fields:encodeURIComponent(JSON.stringify(c)),
datas:encodeURIComponent(JSON.stringify(b)),pr_ip:f||"obj3",pr_t:e||"ts",t:+new Date};if(g){c=[];if(a)for(var l in a)a[l]&&c.push(l+"="+a[l]);g+=c.join("&");d()().src=g}}},l=Object.prototype.toString,p={},n=[],f=[];reportTable="";a.toreport=function(){var a=f.length;if(a>1)for(var c=0;c<a;c++)for(var b=0,d=n.length;b<d;b++)!f[c][b]&&f[c][b]!==0&&(f[c][b]="");e(reportTable,n,f);p.length=n.length=f.length=0;reportTable=""};a.tdw=function(a,c,b){if(!a)throw"params can not be null";reportTable=b||reportTable||
"dc00141";var d;switch(l.call(a)){case "[object Array]":d=a;break;case "[object Object]":if(c)d=[a];else{c=[];d=[];for(var g in a)g==="obj3"||g==="ts"||(c.push(g),d.push(a[g]));return e(reportTable,c,[d],a.obj3,a.ts)}}g=0;for(a=d.length;g<a;g++){var b=d[g],r=[];f.push(r);for(var q in b){var h;q in p?(h=p[q],n[h]=q):(n.push(q),p[q]=h=n.length-1);r[h]=b[q]||""}}c||this.toreport()};return a});execRequireConfig();require("jquery,modules/common/js/reportPatchJquery,bower_components/imweb/console,modules/common/js/db,commonapi,home,modules/profile/js/profile/ProfilePage,async,modules/common/js/tdw_report".split(","),
function(a,d,g,e,l,p,n,f,j){var c,b,m,s,r;function q(a,b){typeof b[0]!=="array"&&(b=[b]);var c="http://cgi.connect.qq.com/report/tdw/report?table=dc00141&fields="+JSON.stringify(a)+"&datas="+encodeURIComponent(JSON.stringify(b))+"&t="+ +new Date;(new Image).src=c}function h(a){for(var b=document.getElementById("nav").getElementsByTagName("li"),c=0,d=0,f=b.length;d<f;d++)if(b[d].getAttribute("rel")===a){c=d;break}return c}function i(a){var b=document.getElementById("nav").getElementsByTagName("li");
if(a>b.length-1||a<0)a=0;return b[a].getAttribute("rel")}function o(){window.addEventListener("message",function(b){b=eval("("+b.data+")");switch(b.event||b.fn){case "canLeave":B(k.heldTab);break;case "OnMemberNumChange":a("#header_cur_num").html(b.curMemberNum);break;case "registerClientApi":var c=b.callBackName||b.apiName,d=b.apiName,b=aa[b.from.toLowerCase()].module[c];V[d]||(V[d]=[]);V[d].indexOf(b)==-1&&V[d].push(b);break;case "setGrpInfoSucc":k.changedAfterEdit=true;break;case "afterClose":if(b.from==
"MapManager"&&k.mapShown==1)k.mapShown=0;else if(b.from=="ProfilePage")k.changedAfterEdit&&x({afterEdit:true}),k.changedAfterEdit=false;case "onTagChange":k.changedAfterEdit=true;break;case "get_group_info":if(k.tabChooseWhenIn==="info"&&!k.fromCreate&&!window.__has_file_load_err){TRecord.push("useable","home_first");TRecord.report2("flag1=7809&flag2=1&flag3=56","useable",{home_first:"15"});try{var d=E.getPerfTimeStamp(),c=window.performance.timing,f=TRecord.get("main"),e=TRecord.get("get_group_info"),
h=TRecord.get("useable"),i={bigT:"0X8004125",key:'{"groupuin":'+k.groupuin+';"useruin":'+l.getSelfUin()+';"model","index"}',param1:d.StartNavigateTS-d.StartVisitTS+"",param2:d.NavigateCompleteTS-d.StartNavigateTS+"",param3:c.domainLookupStart-c.domainLookupEnd+"",param4:c.responseEnd-c.requestStart+"",param5:f.hash.index_loaded-f.hash.base+"",param6:e.hash.end-e.hash.start+"",param7:h.hash.home_first-e.hash.end+""};q("uin,ts,opername,module,action,obj1,ver1,ver2,ver3,ver4".split(","),[l.getSelfUin(),
+new Date,"PC_grpdata","index","load",k.groupuin,d.StartNavigateTS-d.StartVisitTS,c.domainLookupStart-c.domainLookupEnd,f.hash.index_loaded-f.hash.base,e.hash.end-e.hash.start]);window.external.CallHummerApi("Default.DataReportEx",JSON.stringify(i))}catch(g){}a("#container").removeAttr("data-tab")}}})}function v(){a(document.body).on("click",function(){});a("#avatar").bind("mouseenter mouseleave",function(b){k.role!=1&&k.role!=2||(b.type==="mouseenter"?a("#edit_btn").addClass("show_edit"):a("#edit_btn").removeClass("show_edit"))});
a("#avatar").bind("click",function(){k.role!=1&&k.role!=2||(z(10),da.OnOpenModifyHeadWnd(k.groupuin))});a("#share_group").bind("click",function(){var b=l.getClientKey().clientKey,b="http://ptlogin2.qq.com/qun_share?clientuin="+C.uin()+"&clientkey="+b+"&groupUin="+k.groupuin;l.popNewWebPage(480,348,b,"\u5206\u4eab\u7fa4");a.report({bId:183,aId:4,v:k.role==1||k.role==2?1:0,flag1:k.groupuin})});a("#group_pos").bind("click",function(){k.role==4?z(4):z(12);g.log("\u70b9\u51fb\uff1a\u8c03\u7528\u5730\u56fe\u63a5\u53e3\uff01");
require(["mapManage"],function(b){U=b;k.mapInitialized||U.init({getCatFn:function(){return k.classID},encodeFn:function(a){var b=[],c;for(c in a)b.push(c+"="+encodeURIComponent(a[c]));return b.join("&")}});k.pos&&U.setVal(k.pos);U.loadMap("",0,a("#group_home_pos_container")[0]);k.mapShown=1})});a("#join_group").bind("click",function(){l.joinGroup(k.groupuin);a.report({aId:1065,v:a(this).attr("_type")=="even"?0:1,flag1:k.groupuin,flag2:a(this).attr("_uin")});E.gdtJoinGroupClick("banner");a(document.body).trigger("app.lecture.addGroupClicked")});
a("#edit_info").bind("click",function(){g.log("\u70b9\u51fb\uff0c\u4fee\u6539\u8d44\u6599\uff01");z(14);if(k.auth)u("http://qun.qq.com/renzheng.html?from=1"),a.report({aId:1138,v:k.role==1?1:k.role==2?0:-1,flag1:k.groupuin});else if(I(),k.mapShown)k.mapShown=0,U&&U.close()});a(document.body).bind("click",function(b){for(b=b.target;b;){if(b.id=="group_show_tags"||b.id=="group_tag_board")break;b=b.parentNode}b||a("#group_tag_board").hide()});document.getElementById("nav").addEventListener("keydown",
function(a){var a=a.keyCode,b=h(y);switch(a){case 8:case 37:case 38:a=i(b-1);B(a);break;case 39:case 40:a=i(b+1),B(a)}},false);a("#group_show_tags").bind("click",function(){k.role==4?z(6):z(11);a("#group_tag_board").css("display")=="none"?a("#group_tag_board").fadeIn(150):a("#group_tag_board").fadeOut(150);if(a("#group_tag_board").css("display")!="none"){var b=a("#group_show_tags")[0].getBoundingClientRect().left,c=a("#group_tag_board")[0].getBoundingClientRect().left,b=b+17-c-2;a("#group_tag_arrow").css("left",
b+"px")}});a("#group_auth").bind("click",function(){u("http://qun.qq.com/renzheng.html?from=1");a.report({aId:1156,v:k.role==1?1:k.role==2?0:-1,flag1:k.groupuin})})}function u(a){a="http://ptlogin2.qq.com/jump?clientuin="+l.getSelfUin()+"&clientkey="+l.getClientKey().clientKey+"&u1="+encodeURIComponent(a);window.open(a)}function I(a){k.changedAfterEdit=false;var b={groupuin:k.groupuin,clientversion:k.clientversion,role:k.role};if(typeof a!=="undefined")b.from=a;if(w.get("debug")==="1")b.debug=1;n.init(b)}
function G(){require(["groupActiveLevel"],function(a){a.show({groupuin:k.groupuin})})}function J(b){var c=b.gRemark||b.gName||"";a("#group_name").html('<span class="element-invisible">\u7fa4\u540d\u79f0\u662f</span><span class="qname" title="'+c+'">'+c+"</span>");b.auth?a("#group_name").addClass("group_name_restrict_len"):a("#group_name").removeClass("group_name_restrict_len");a("#group_number").html(k.groupuin);P(b);a("#group_member_number").fadeIn().css("display","inline-block");a("#header_cur_num").html(b.gMemNum);
a("#header_max_num").html(b.gMaxMem);a("#aria_mem_num").html("\u7fa4\u5f53\u524d\u4eba\u6570\u662f"+b.gMemNum+", \u4eba\u6570\u4e0a\u9650\u662f"+b.gMaxMem);t(b);b.auth?a("#group_auth").css("display","inline-block"):(a("#group_auth").hide(),a("#group_name_number").find("#group_auth_info").remove());b.auth&&b.auth_info&&(a("#group_auth").attr("title",b.auth_info.t===1?"\u817e\u8baf\u4e2a\u4eba\u8ba4\u8bc1\u7fa4":"\u817e\u8baf\u673a\u6784\u8ba4\u8bc1\u7fa4"),b.auth_info.t===1?a("#group_auth").addClass("personal_auth"):
a("#group_auth").removeClass("personal_auth"),c=a("#group_name_number"),c.find("#group_auth_info").length||c.append(' <span title="'+b.auth_info.info+'" class="group_auth_info" id="group_auth_info">'+b.auth_info.info+"</span>"))}function P(b){require(["catCtrl"],function(c){c=c.getCatNamePath(b.classID)||[];c[c.length-1]==="\u5176\u4ed6"&&c.splice(c.length-1,1);b.classInfo=c.join("<em> | </em>");b.classInfo?a("#group_class").html('<em class="element-invisible">\u7fa4\u5206\u7c7b\u662f</em>'+b.classInfo).fadeIn(100):
a("#group_class").css("display","none");S(b)})}function S(b){var c=a("#header_group_info").width()-a("#header_group_btn_container").width()-10-10-a("#group_class").outerWidth()-a("#group_show_tags").outerWidth()-parseInt(a("#group_tag").css("padding-left"))-parseInt(a("#group_tag").css("padding-right")),b=b.tags||[],d=a("#group_tag").html(""),f=a("#group_show_tags"),e=false,h="";if(b.length){for(var i=0,g=b.length;i<g;i++){var k=b[i],o;o=a("<span>"+k.tag+"</span>").appendTo(d);if(d.width()>c){e=true;
o.remove();break}h+=", "+k.tag}if(e){f.animate({opacity:1});var j="",h="";b.forEach(function(a){j+="<span>"+a.tag+"</span>";h+=" "+a.tag});a("#group_tag_board_inner").html(j)}else f.hide();d.append('<em class="element-invisible" tabindex="1">\u7fa4\u6807\u7b7e\u662f'+h+"</em>").animate({opacity:1},100).show()}else d.hide(),f.hide()}function t(b){require(["catCtrl"],function(c){var d=(b.pos||"").split("|"),f=(b.pos||"").split("|");if(f=f[f.length-1]){var e=[],c=c.getCatNamePath(d[0]);c[2]&&e.push(c[2]);
c[3]&&e.push(c[3]);a("#group_pos").html('<em class="element-invisible">\u7fa4\u5730\u70b9\u662f</em>'+(e.join("")+f)).show();E.isNotGroupMember()&&a("#group_pos").prop("title","\u7fa4\u4e3b\u5c06\u5730\u70b9\u8bbe\u7f6e\u5728\u8fd9\u91cc\uff0c\u6b22\u8fce\u9644\u8fd1\u7684\u4eba\u52a0\u5165")}else a("#group_pos").css("display","none")})}function A(){E.updateAvatar({img:document.getElementById("group_avatar"),onload:function(b){b<=40?a("#avatar").addClass("group_avatar_min"):a("#avatar").removeClass("group_avatar_min")}},
true)}function x(d){var f=d.afterEdit;e.get_group_info({param:{gc:k.groupuin,useCache:d.afterEdit?false:true},succ:function(e){g.debug("get_group_info succ!");e.classInfo=[];J(e);k.auth=e.auth;k.pos=e.pos;k.classID=e.classID;a("#container").data("group-info",e);d.firstTime&&(k.role==1||k.role==2?k.auth&&k.role==1||!k.auth?a("#edit_info").fadeIn(100):a("#edit_info").hide(100):a("#edit_info").hide(100),k.role!=4&&s?(a("#share_group").fadeIn(100),setTimeout(function(){a.report({bId:183,aId:1,flag1:k.groupuin})},
2E3)):a("#share_group").hide(100));f&&window.postMessage(JSON.stringify({event:"OnGroupDataFetched",from:"Index",data:e}),"*");var h=function(){var a=C.uin()||Client.getUin(),b=l.getClientKey();return"http://ptlogin2.qq.com/jump?clientuin="+a+"&clientkey="+b.clientKey+"&u1="+encodeURIComponent("http://qun.qq.com/member.html#gid="+k.groupuin)},i=function(){var b=['<div class="adv-member-tips">','<div class="adv-member-manage">','<a href="'+h()+'" target="_blank">\u9ad8\u7ea7\u7ba1\u7406</a>',"</div>",
'<div class="adv-member-close"></div>',"</div>",'<div class="adv-member-mask"></div>'],c=a(b.join("")).appendTo(a("body"));a(".adv-member-manage a").one("click",function(){o("Clk_highmana");c.remove()});a(".adv-member-close").one("click",function(){c.remove();o("Clk_close")});localStorage.setItem(C.uin()+"memberMange",true);o("exp")},o=function(a){param={uin:k.selfUin,opername:"pc-grpdata",module:"mana-grp",action:a,obj1:k.groupuin+"",obj2:k.version};j.tdw(param)},u=function(){var a=e.gMemNum;if(localStorage.getItem(C.uin()+
"memberMange")!=="true"&&e.classInfo.indexOf("\u540c\u4e8b.\u670b\u53cb")<0&&a>=50&&(k.role==="1"||k.role==="2"))(localStorage.getItem(C.uin()+"guideLevel")=="true"||k.role==="2")&&i()};e.sys_show===1&&d.role=="1"&&localStorage.getItem(C.uin()+"guideLevel")!="true"&&(m=false,require(["guideLevel"],function(a){LoadCSS.load("http://2.url.cn/qun/qinfo_v2/modules/index/css/3cbd.guideLevel.css",function(){e.user_show===0?window.guideLevelSettingCallback===1?a.show(1,C.uin()):(window.guideLevelSettingCallback=
function(){a.show(1,C.uin())},B("setting")):a.show(0,C.uin());window.sessionStorage.setItem("show",1)})}));var v=parseInt(window.localStorage.getItem("profile_"+k.groupuin)||0),n=(k.role==1||k.role==2)&&e.classID!=10010&&e.classID!=10011&&e.classID!=10011&&v==0&&d.firstTime&&y=="info"&&!k.enterFromCreate;W.getWording(0,0,function(f,h){var i=0;if(f||!h)i=1;var i=d.firstTime&&!i&&c&&!X(),g=false;d.firstTime&&(e.ac_open==1&&e.ac_grade==0?a("#show_level_layer").remove():(D(e),g=true),g=b&&k.from=="level"&&
g);i?(a(W).on("TextTips.closeBtnClicked",function(a,b){localStorage.setItem(W.getKey(b),1)}),a(W).on("TextTips.linkClicked",function(a,b){localStorage.setItem(W.getKey(b),1);q("uin,ts,opername,module,action,obj2,obj3,ver1".split(","),[l.getSelfUin(),+new Date,"Edu","qun_ziliao_wording","clk",l.getSelfUin(),k.role,h.id])}),W.show({role:k.role,uin:l.getSelfUin(),groupuin:k.groupuin,tips:h}),q("uin,ts,opername,module,action,obj2,obj3,ver1".split(","),[l.getSelfUin(),+new Date,"Edu","qun_ziliao_wording",
"exposure",l.getSelfUin(),k.role,h.id])):g?k.from=="level"&&G():m&&(n&&(ga.show(),a.report({aId:r,v:k.role==1?1:k.role==2?0:-1,flag1:k.groupuin})),window.localStorage.setItem("profile_"+k.groupuin,++v))});e.user_show===1&&!n&&u()},err:function(){g.log("get_group_info err!")}})}function D(b){var c=a("#show_level_layer"),b=b.ac_grade,d=b==0?"\u5982\u4f55\u70b9\u4eae\u56fe\u6807?":"\u7fa4\u6d3b\u8dc3\u7b49\u7ea7LV"+b;c.length?c.prop("className","group_level_icon_top group_level_icon_"+b).fadeIn():c=
a('<a href="javascript:void(0)"  id="show_level_layer" class="group_level_icon_top icon group_level_icon_'+b+'" id="group_level_icon"></a href="javascript:void(0)">').hide().appendTo(a("#group_name_number")).fadeIn();c.attr("title",d);c.on("click",function(){G()})}function F(b,c){var d=a("#nav li:eq("+b+")");c?d.attr("class","active").attr("tabIndex",1).attr("aria-label",d.data("label")+"\u9009\u9879\u5361\u5df2\u9009\u4e2d"):d.attr("class","").attr("tabIndex","-1").attr("aria-label","")}function B(a,
b){if(y==a){var c={event:"onTabChanged",from:"Index"};if(b)c.data=b,c.to=b.tab;window.postMessage(JSON.stringify(c),"*")}else{var c=document.getElementById("editorBox"),d=aa[y].module;if(c)c.style.display="none";d&&d.canLeave&&d.canLeave()==false?k.heldTab=a:(c=h(y),d=h(a),a=="info"&&z(9),F(c,false),F(d,true),ba(a,b))}}function Q(){var b=document.getElementById("nav"),c=k.role,d=k.tab;g.log("\u521d\u59cb\u5316\uff1a\u5bfc\u822a\u680f\uff0crole=="+c);c==="1"||c==="2"||c==="3"?b.innerHTML='<li tabindex="1" aria-label="\u9996\u9875\u9009\u9879\u5361\u5df2\u9009\u4e2d" data-label="\u9996\u9875" rel="info"><span class="info">\u9996\u9875</span><div class="arrow_down"></div></li><li tabindex="-1" aria-label="\u6210\u5458\u9009\u9879\u5361\u5df2\u9009\u4e2d" data-label="\u6210\u5458" rel="member"><span class="member">\u6210\u5458</span><div class="arrow_down"></div></li><li tabindex="-1" aria-label="\u8bbe\u7f6e\u9009\u9879\u5361\u5df2\u9009\u4e2d" data-label="\u8bbe\u7f6e" rel="setting"><span class="setting">\u8bbe\u7f6e</span><div class="arrow_down"></div></li>':
(a("#navigation").hide(),a("#container").addClass("no_nav"));c!=1&&c!=2&&a("#avatar").css("cursor","default");b.querySelectorAll("li");c=h(d);F(c,true);a("li",b).each(function(b){a(this).prop("index",b)}).bind("focus",function(){var a=this.getAttribute("rel");B(a)})}function N(){e.set_group_visit_list({param:{gc:w.get("groupuin")},success:function(){g.log("set_group_visit_list succ")},error:function(){g.log("set_group_visit_list err")}})}function T(){window.OnGroupHeadChanged=function(){A();window.postMessage(JSON.stringify({event:"OnGroupHeadChanged",
from:"Index"}),"*")};window.onGroupShut=function(){a("body").triggerHandler("member:groupShut",arguments);a("body").triggerHandler("setting:groupShut",arguments)};window.onMemberShut=function(){a("body").triggerHandler("member:memberShut",arguments);a("body").triggerHandler("setting:memberShut",arguments)};window.checkModify=function(){var a=0;(V.checkModify||[]).forEach(function(b){a=a||b()});return a-0};window.saveProfile=function(a){(V.saveProfile||[]).forEach(function(b){b(a)})};window.OnBkgColorChanged=
function(a){JSON.parse(a||"{}")};window.onTabChanged=function(a){var a=JSON.parse(a),b=a.tab,c;for(c in a)window.location=window.location.hash.replace(RegExp("(#|&)"+c+"=([^&]*)(&|$)"),function(b,d,f,e){return d+c+"="+a[c]+e});B(b,a)}}function X(){return k.role!=1&&k.role!=2&&k.role!=3}function Y(a){if(X())return k.defaultTab;var b=false,c;for(c in aa)if(c==a){b=true;break}return b?a:k.defaultTab}function K(){var a={};location.hash.slice(1).split("&").forEach(function(b){b=b.split("=");a[b[0]]=b[1]});
return a}function Z(a){a+="";return parseInt(a.charAt(a.length-3))%2==0}function R(a){a.add(document.getElementById("header"));a.add(document.getElementById("container_home"))}var E=window.Util;a.noConflict();var L=E.hash.get("traceid"),H=function(a,b){if(window.__ADID){var c=window.__HashData,c=[L,c.POSID,c.ADID,c.SRCID,c.TIME].join("|"),c={uin:E.cookie.uin(),obj1:E.hash.get("groupuin"),obj2:"1.0",obj3:"obj3",opername:"qinfo",module:"index",action:a,ver1:c,ver2:b};j.tdw(c)}};E.gdtJoinGroupClick=
function(a){H("gdt_join_group_click",a);L&&(a="http://c.gdt.qq.com/gdt_trace_a.fcg?client=32&actionid=66&clickid="+L,L&&__report(a))};window.__ADID&&(H("gdt_load_start_time",TRecord.htmlStart),H("gdt_load_done_time",Date.now()));TRecord.push("main","index_loaded");TRecord.push("static_js_index_aio","end");var z=function(b,c){var d={1:[0,1063],2:[0,1064],3:[0,1065],4:[0,1066],5:[0,1067],6:[0,1068],7:[0,1069],8:[0,1070],9:[0,1072],10:[0,1077],11:[0,1078],12:[0,1079],13:[0,1080],14:[0,1081]};setTimeout(function(){a.report({mId:d[b][0],
aId:d[b][1],value:typeof c=="number"?c:1})},2E3)};r=1122;g.log("\u4e3b\u6846\u67b6\u903b\u8f91\u5f00\u59cb\uff01");var M=0,y="info",w={get:function(a){a=window.location.hash.match(RegExp("(#|&)"+a+"=([^&]*)(&|$)"));return!a?"":decodeURIComponent(a[2])},set:function(a){location.hash="#"+a}};b=true;m=true;c=true;s=true;var k={role:"",groupuin:"",defaultTab:"info",heldTab:"",tabChooseWhenIn:"",fromCreate:false,mapShown:0,changedAfterEdit:0,enterFromCreate:0},C={get:function(a){a=document.cookie.match(RegExp("(^| )"+
a+"=([^;]*)(;|$)"));return!a?"":decodeURIComponent(a[2])},uin:function(){var a=this.get("uin");return!a?null:parseInt(a.substring(1,a.length),10)}},U=null,aa={info:{module:null,path:"home",parentNode:"container_home"},member:{module:null,path:"member",parentNode:"container_member"},setting:{module:null,path:"setting",parentNode:"container_setting"},profilepage:{module:n,parentNode:""},contextmenu:{path:"contextmenu"},activeLevel:{path:"groupActiveLevel"}},V={},da={OnStartDragMove:function(){g.log("window.external.StartDragMove called!");
try{window.external.StartDragMove()}catch(a){}},OnGetGroupBasicInfo:function(a){var b=null;try{b=JSON.parse(window.external.GetGroupBasicInfo(a+""))}catch(c){b={}}return b},OnRemoveLoading:function(){g.log("OnRemoveLoading called!");try{window.external.RemoveLoading()}catch(a){}},OnOpenModifyHeadWnd:function(a){g.log("OnOpenModifyHeadWnd called!");try{window.external.OpenModifyHeadWnd(a+"")}catch(b){}},ShareGroup:function(a){try{window.external.CallHummerApi("Group.ShareGroup",JSON.stringify({groupId:a}))}catch(b){}}},
ba=function(b,c){c&&a("#container").attr("data-tab",b);c=c||{};w.get("groupuin");w.get("role");w.get("clientversion");if(y!=""&&y!=b){g.log("tab\u5207\u6362 > \u9500\u6bc1\u4e0a\u4e00\u4e2a\u6807\u7b7e\u7684\u5185\u5bb9\uff01");var d=aa[y],e=d.module;g.log("tab\u5207\u6362 > "+d.module+".hide();");e&&e.hide();a("#"+d.parentNode).hide()}else g.log("tab\u5207\u6362 > \u5728\u8fd9\u4e4b\u524d\u6ca1\u6709\u521d\u59cb\u5316\u8fc7\u5176\u4ed6\u6807\u7b7e\u7684\u5185\u5bb9\uff0c\u6240\u4ee5\u4e0d\u7528\u9500\u6bc1\uff01");
g.log("tab\u5207\u6362 > \u5207\u6362\u5230\u65b0\u6807\u7b7e\uff01");d=aa[b];e=d.module;y=b;e?(e.show(a.extend(c,{parentNode:document.getElementById(d.parentNode)})),a("#"+d.parentNode).show()):require([d.path],function(e){d.module=e;y==b&&(e.show(a.extend(c,{parentNode:document.getElementById(d.parentNode)})),a("#"+d.parentNode).css("display","block"))})},fa=function(a,b){g.debug(a+":"+b);window[a]=function(a){var c=document.getElementById("qFrame").src.match(/^http:\/\/[\w\.]+\//ig);document.getElementById("qFrame").contentWindow.postMessage('{"callBackName":"'+
b+'","data":"'+encodeURIComponent(a)+'"}',c)}};window.addEventListener("message",function(a){var b=eval("("+a.data+")");if(b.kk||b.kk==0){var c=document.getElementById("nav").querySelectorAll("li");c[4].className="";c[4].removeAttribute("class");c[4].setAttribute("tabIndex","-1");c[4].setAttribute("aria-label","");c[b.kk].className="active";c[b.kk].setAttribute("tabIndex","1");c[b.kk].setAttribute("aria-label","\u5df2\u9009\u4e2d");M=c[b.kk].index;ba(c[b.kk].index)}a=a.origin;if(!(a!="http://qqun.qq.com"&&
a!="http://qinfo.clt.qq.com")&&(b.fn&&fa(b.apiName,b.callBackName),b.variable))window[b.variable]=b.value});document.addEventListener("focus",function(){var a=document.getElementById("nav");a&&a.getElementsByTagName("li")&&M!=void 0&&a.getElementsByTagName("li")[M].focus()},false);var ga=function(){return{shouldShow:function(){return true},adjustEditProfileBtnPos:function(){var b=a("#edit_info")[0].getBoundingClientRect();a("#guide_profile_edit").css({left:b.left-2+"px",top:b.top-2+"px"})},show:function(){this.adjustEditProfileBtnPos();
this.addEvent();a("#guide_profile_fill").fadeIn()},hide:function(){a("#guide_profile_fill").fadeOut()},addEvent:function(){var b=this;a("#guide_profile_edit").click(function(){k.auth?u("http://qun.qq.com/renzheng.html?from=1"):I("guide-index");b.hide();a.report({aId:1123,v:k.role==1?1:k.role==2?0:-1,flag1:k.groupuin})});a("#guide_profile_quit").click(function(){b.hide()});document.getElementById("guide_profile_drag_bg").addEventListener("mousedown",function(a){a.button==0&&da.OnStartDragMove()})}}}(),
W=function(){var b=3,c=1,d,f=function(a){return[d||w.get("groupuin")||0,C.uin(),a].join("_")};return{getKey:f,getWording:function(a,b,c){return X()?void 0:e.get_text_oper({param:{gc:d||w.get("groupuin")||0},succ:function(a){var b=f(a.id);if(localStorage.getItem(b))return c(null);if(!a.wording)return c(null);c(null,a);window.sessionStorage.setItem("show",1)},err:function(a){c(a)}})},addEvent:function(){var e=this;a("#js_tips_container .js_wording").on("click",function(){var f=a(this).data("href");
/^https?:\/\/ke\.qq\.com/.test(f)&&(f+=/\?/.test(f)?"&from=11":"?from=11");/^https?:\/\/.*\.qq\.com/.test(f)&&(f="http://ptlogin2.qq.com/jump?clientuin="+l.getSelfUin()+"&clientkey="+l.getClientKey().clientKey+"&u1="+encodeURIComponent(f));window.open(f);a(e).trigger("TextTips.linkClicked",[a(this).data("tid")]);a.report({aId:{1:1133,2:1135,3:1137}[b],v:c,flag1:d})});a("#js_tips_container .js_close").on("click",function(){a(this).css("visibility")!="hidden"&&(a(e).trigger("TextTips.closeBtnClicked",
[a(this).data("tid")]),e.hide())})},removeEvent:function(){a("#js_tips_container .js_wording").off("click");a("#js_tips_container .js_close").off("click")},show:function(e){e.uin=e.uin||"";var f=e.uin.toString();b=e.role;c=parseInt(f.charAt(f.length-3))%2==0?0:1;d=e.groupuin;e=e.tips;a("#js_tips_container .js_wording").html(e.wording).data("href",e.url).data("tid",e.id);a("#js_tips_container .js_close").data("tid",e.id);this.addEvent();a("#js_tips_container").fadeIn(600);a.report({aId:{1:1132,2:1134,
3:1136}[b],v:c,flag1:d})},hide:function(){a("#js_tips_container").fadeOut();this.removeEvent()}}}(),d=new Date-0;(function(){k.role=w.get("role");k.groupuin=w.get("groupuin");k.tab=Y(w.get("tab"));k.clientversion=w.get("clientversion");k.from=w.get("from");var b=k.tabChooseWhenIn=k.tab,c=k.role,d=l.getSelfUin()+"",f=Z(d);Q();e.genSampleAPI2({cgiName:window.global_get_group_info,apiName:"get_group_info",cacheWhenLeave:true});e.genSampleAPI2({cgiName:"qun_info/get_group_members_new",apiName:"get_group_members",
cacheTime:3E5});e.genSampleAPI2({cgiName:"qun_info/get_group_members_new",apiName:"get_group_members_all",cacheTime:3E5});e.genSampleAPI("get_uin","qun_info/get_uin");e.genSampleAPI("get_text_oper","qun_info/get_text_oper");x({firstTime:true,role:c});c==="1"||c==="2"||c==="3"?(c==="1"||c==="2"?z(8):c==3&&z(7),a("#join_group").hide()):(setTimeout(function(){N()},2E3),a("#join_group").attr("_type","odd").attr("_uin",d).fadeIn(),setTimeout(function(){a.report({aId:1063,v:f?0:1,flag1:k.groupuin,flag2:d})},
2E3));ba(b,a.extend(K(),k));v();o();T();OnBkgColorChanged(w.get("colorvalue"));k.enterFromCreate=w.get("from")=="create"&&w.get("enableedit")==1&&(k.role==1||k.role==2);if(k.enterFromCreate)k.fromCreate=true,I(w.get("from"));a(document).ready(function(){var a=window.webkitPerformance?window.webkitPerformance:window.performance,b="navigationStart,unloadEventStart,unloadEventEnd,redirectStart,redirectEnd,fetchStart,domainLookupStart,domainLookupEnd,connectStart,connectEnd,requestStart,responseStart,responseEnd,domLoading,domInteractive,domContentLoadedEventStart,domContentLoadedEventEnd,domComplete,loadEventStart,loadEventEnd".split(","),
c,d;if(a&&(c=a.timing)){c.domContentLoadedEventStart||b.splice(15,2,"domContentLoadedStart","domContentLoadedEnd");var e=[],f=c[b[0]];for(d=0,a=b.length;d<a;d++)point=(point=c[b[d]])?point-f:0,point>0&&e.push(d+"="+point);Math.random()*100<30&&TRecord.doReport("flag1=7809&flag2=45&flag3=1",e)}});setTimeout(function(){require(["contextmenu"],R)},200);setTimeout(function(){TRecord.report2("flag1=7809&flag2=1&flag3=56","main",{header_info_show:"3"});window.__has_file_load_err||(TRecord.report2("flag1=7809&flag2=1&flag3=56",
"main",{index_loaded:__global_env=="local"?"28":"1"}),TRecord.report2("flag1=7809&flag2=1&flag3=56","static_css",{end:"7"}),TRecord.report2("flag1=7809&flag2=1&flag3=56","static_js_require",{end:"9"}),TRecord.report2("flag1=7809&flag2=1&flag3=56","static_js_index_aio",{end:"10"}));window.__static_file_load_err["index.js"]&&a.report({mId:359297})},2E3);setTimeout(function(){switch(b){case "info":w.get("enableedit")-0?a.report({mId:358255}):a.report({mId:358252});break;case "member":a.report({mId:358253});
break;case "setting":a.report({mId:358254});break;case "info":a.report({mId:358252})}},2E3)})();d=new Date-0-d;d>1E3&&Badjs("Index init:"+d,window.location,2,366176,2)});define("modules/index/js/index",function(){});define("modules/index/js/text",["module"],function(a){var d,g,e,l,p,n=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],f=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,j=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,c=typeof location!=="undefined"&&location.href,b=c&&location.protocol&&
location.protocol.replace(/\:/,""),m=c&&location.hostname,s=c&&(location.port||void 0),r={},q=a.config&&a.config()||{};d={version:"2.0.10",strip:function(a){if(a){var a=a.replace(f,""),b=a.match(j);b&&(a=b[1])}else a="";return a},jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:q.createXhr||function(){var a,
b,c;if(typeof XMLHttpRequest!=="undefined")return new XMLHttpRequest;else if(typeof ActiveXObject!=="undefined")for(b=0;b<3;b+=1){c=n[b];try{a=new ActiveXObject(c)}catch(d){}if(a){n=[c];break}}return a},parseName:function(a){var b,c,d=false,e=a.indexOf(".");b=a.indexOf("./")===0||a.indexOf("../")===0;e!==-1&&(!b||e>1)?(b=a.substring(0,e),c=a.substring(e+1,a.length)):b=a;a=c||b;e=a.indexOf("!");e!==-1&&(d=a.substring(e+1)==="strip",a=a.substring(0,e),c?c=a:b=a);return{moduleName:b,ext:c,strip:d}},
xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(a,b,c,e){var f,g;f=d.xdRegExp.exec(a);if(!f)return true;a=f[2];f=f[3];f=f.split(":");g=f[1];f=f[0];return(!a||a===b)&&(!f||f.toLowerCase()===c.toLowerCase())&&(!g&&!f||g===e)},finishLoad:function(a,b,c,e){c=b?d.strip(c):c;q.isBuild&&(r[a]=c);e(c)},load:function(a,e,f,g){if(g.isBuild&&!g.inlineText)f();else{q.isBuild=g.isBuild;var j=d.parseName(a),g=j.moduleName+(j.ext?"."+j.ext:""),l=e.toUrl(g),n=q.useXhr||d.useXhr;l.indexOf("empty:")===0?f():!c||
n(l,b,m,s)?d.get(l,function(b){d.finishLoad(a,j.strip,b,f)},function(a){f.error&&f.error(a)}):e([g],function(a){d.finishLoad(j.moduleName+"."+j.ext,j.strip,a,f)})}},write:function(a,b,c){if(r.hasOwnProperty(b)){var e=d.jsEscape(r[b]);c.asModule(a+"!"+b,"define(function () { return '"+e+"';});\n")}},writeFile:function(a,b,c,e,f){var b=d.parseName(b),g=b.ext?"."+b.ext:"",j=b.moduleName+g,l=c.toUrl(b.moduleName+g)+".js";d.load(j,c,function(){var b=function(a){return e(l,a)};b.asModule=function(a,b){return e.asModule(a,
l,b)};d.write(a,j,b,f)},f)}};if(q.env==="node"||!q.env&&typeof process!=="undefined"&&process.versions&&process.versions.node&&!process.versions["node-webkit"])g=require.nodeRequire("fs"),d.get=function(a,b,c){try{var d=g.readFileSync(a,"utf8");d.indexOf("\ufeff")===0&&(d=d.substring(1));b(d)}catch(e){c(e)}};else if(q.env==="xhr"||!q.env&&d.createXhr())d.get=function(a,b,c,e){var f=d.createXhr(),g;f.open("GET",a,true);if(e)for(g in e)e.hasOwnProperty(g)&&f.setRequestHeader(g.toLowerCase(),e[g]);if(q.onXhr)q.onXhr(f,
a);f.onreadystatechange=function(){var d;if(f.readyState===4&&(d=f.status,d>399&&d<600?(d=Error(a+" HTTP status: "+d),d.xhr=f,c(d)):b(f.responseText),q.onXhrComplete))q.onXhrComplete(f,a)};f.send(null)};else if(q.env==="rhino"||!q.env&&typeof Packages!=="undefined"&&typeof java!=="undefined")d.get=function(a,b){var c,d,e=new java.io.File(a),f=java.lang.System.getProperty("line.separator"),e=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(e),"utf-8")),g="";try{c=
new java.lang.StringBuffer;(d=e.readLine())&&d.length()&&d.charAt(0)===65279&&(d=d.substring(1));for(d!==null&&c.append(d);(d=e.readLine())!==null;)c.append(f),c.append(d);g=String(c.toString())}finally{e.close()}b(g)};else if(q.env==="xpconnect"||!q.env&&typeof Components!=="undefined"&&Components.classes&&Components.interfaces)e=Components.classes,l=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),p="@mozilla.org/windows-registry-key;1"in e,d.get=function(a,
b){var c,d,f,g={};p&&(a=a.replace(/\//g,"\\"));f=new FileUtils.File(a);try{c=e["@mozilla.org/network/file-input-stream;1"].createInstance(l.nsIFileInputStream),c.init(f,1,0,false),d=e["@mozilla.org/intl/converter-input-stream;1"].createInstance(l.nsIConverterInputStream),d.init(c,"utf-8",c.available(),l.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),d.readString(c.available(),g),d.close(),c.close(),b(g.value)}catch(j){throw Error((f&&f.path||"")+": "+j);}};return d})})();
